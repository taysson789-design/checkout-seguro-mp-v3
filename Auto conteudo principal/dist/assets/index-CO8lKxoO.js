function Z0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ey(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zh={exports:{}},ks={},ep={exports:{}},j={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=Symbol.for("react.element"),ty=Symbol.for("react.portal"),ny=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),iy=Symbol.for("react.profiler"),oy=Symbol.for("react.provider"),sy=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),uy=Symbol.for("react.memo"),cy=Symbol.for("react.lazy"),Ic=Symbol.iterator;function dy(t){return t===null||typeof t!="object"?null:(t=Ic&&t[Ic]||t["@@iterator"],typeof t=="function"?t:null)}var tp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},np=Object.assign,rp={};function Br(t,e,n){this.props=t,this.context=e,this.refs=rp,this.updater=n||tp}Br.prototype.isReactComponent={};Br.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Br.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ip(){}ip.prototype=Br.prototype;function uu(t,e,n){this.props=t,this.context=e,this.refs=rp,this.updater=n||tp}var cu=uu.prototype=new ip;cu.constructor=uu;np(cu,Br.prototype);cu.isPureReactComponent=!0;var Rc=Array.isArray,op=Object.prototype.hasOwnProperty,du={current:null},sp={key:!0,ref:!0,__self:!0,__source:!0};function ap(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)op.call(e,r)&&!sp.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ki,type:t,key:o,ref:s,props:i,_owner:du.current}}function fy(t,e){return{$$typeof:Ki,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ki}function hy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nc=/\/+/g;function ta(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hy(""+t.key):e.toString(36)}function Ro(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ki:case ty:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ta(s,0):r,Rc(i)?(n="",t!=null&&(n=t.replace(Nc,"$&/")+"/"),Ro(i,e,n,"",function(c){return c})):i!=null&&(fu(i)&&(i=fy(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Nc,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Rc(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+ta(o,a);s+=Ro(o,e,n,u,i)}else if(u=dy(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+ta(o,a++),s+=Ro(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ro(t,e,n){if(t==null)return t;var r=[],i=0;return Ro(t,r,"","",function(o){return e.call(n,o,i++)}),r}function py(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qe={current:null},No={transition:null},my={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:No,ReactCurrentOwner:du};function lp(){throw Error("act(...) is not supported in production builds of React.")}j.Children={map:ro,forEach:function(t,e,n){ro(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ro(t,function(){e++}),e},toArray:function(t){return ro(t,function(e){return e})||[]},only:function(t){if(!fu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};j.Component=Br;j.Fragment=ny;j.Profiler=iy;j.PureComponent=uu;j.StrictMode=ry;j.Suspense=ly;j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;j.act=lp;j.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=np({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=du.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)op.call(e,u)&&!sp.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ki,type:t.type,key:i,ref:o,props:r,_owner:s}};j.createContext=function(t){return t={$$typeof:sy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oy,_context:t},t.Consumer=t};j.createElement=ap;j.createFactory=function(t){var e=ap.bind(null,t);return e.type=t,e};j.createRef=function(){return{current:null}};j.forwardRef=function(t){return{$$typeof:ay,render:t}};j.isValidElement=fu;j.lazy=function(t){return{$$typeof:cy,_payload:{_status:-1,_result:t},_init:py}};j.memo=function(t,e){return{$$typeof:uy,type:t,compare:e===void 0?null:e}};j.startTransition=function(t){var e=No.transition;No.transition={};try{t()}finally{No.transition=e}};j.unstable_act=lp;j.useCallback=function(t,e){return qe.current.useCallback(t,e)};j.useContext=function(t){return qe.current.useContext(t)};j.useDebugValue=function(){};j.useDeferredValue=function(t){return qe.current.useDeferredValue(t)};j.useEffect=function(t,e){return qe.current.useEffect(t,e)};j.useId=function(){return qe.current.useId()};j.useImperativeHandle=function(t,e,n){return qe.current.useImperativeHandle(t,e,n)};j.useInsertionEffect=function(t,e){return qe.current.useInsertionEffect(t,e)};j.useLayoutEffect=function(t,e){return qe.current.useLayoutEffect(t,e)};j.useMemo=function(t,e){return qe.current.useMemo(t,e)};j.useReducer=function(t,e,n){return qe.current.useReducer(t,e,n)};j.useRef=function(t){return qe.current.useRef(t)};j.useState=function(t){return qe.current.useState(t)};j.useSyncExternalStore=function(t,e,n){return qe.current.useSyncExternalStore(t,e,n)};j.useTransition=function(){return qe.current.useTransition()};j.version="18.3.1";ep.exports=j;var A=ep.exports;const hu=ey(A),gy=Z0({__proto__:null,default:hu},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=A,vy=Symbol.for("react.element"),wy=Symbol.for("react.fragment"),xy=Object.prototype.hasOwnProperty,_y=yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ey={key:!0,ref:!0,__self:!0,__source:!0};function up(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)xy.call(e,r)&&!Ey.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vy,type:t,key:o,ref:s,props:i,_owner:_y.current}}ks.Fragment=wy;ks.jsx=up;ks.jsxs=up;Zh.exports=ks;var p=Zh.exports,$a={},cp={exports:{}},tt={},dp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,G){var H=U.length;U.push(G);e:for(;0<H;){var de=H-1>>>1,xe=U[de];if(0<i(xe,G))U[de]=G,U[H]=xe,H=de;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],H=U.pop();if(H!==G){U[0]=H;e:for(var de=0,xe=U.length,to=xe>>>1;de<to;){var Tn=2*(de+1)-1,ea=U[Tn],Cn=Tn+1,no=U[Cn];if(0>i(ea,H))Cn<xe&&0>i(no,ea)?(U[de]=no,U[Cn]=H,de=Cn):(U[de]=ea,U[Tn]=H,de=Tn);else if(Cn<xe&&0>i(no,H))U[de]=no,U[Cn]=H,de=Cn;else break e}}return G}function i(U,G){var H=U.sortIndex-G.sortIndex;return H!==0?H:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],f=1,m=null,h=3,g=!1,x=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=U)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function S(U){if(E=!1,w(U),!x)if(n(u)!==null)x=!0,W(C);else{var G=n(c);G!==null&&pe(S,G.startTime-U)}}function C(U,G){x=!1,E&&(E=!1,y(b),b=-1),g=!0;var H=h;try{for(w(G),m=n(u);m!==null&&(!(m.expirationTime>G)||U&&!V());){var de=m.callback;if(typeof de=="function"){m.callback=null,h=m.priorityLevel;var xe=de(m.expirationTime<=G);G=t.unstable_now(),typeof xe=="function"?m.callback=xe:m===n(u)&&r(u),w(G)}else r(u);m=n(u)}if(m!==null)var to=!0;else{var Tn=n(c);Tn!==null&&pe(S,Tn.startTime-G),to=!1}return to}finally{m=null,h=H,g=!1}}var k=!1,T=null,b=-1,I=5,R=-1;function V(){return!(t.unstable_now()-R<I)}function Y(){if(T!==null){var U=t.unstable_now();R=U;var G=!0;try{G=T(!0,U)}finally{G?z():(k=!1,T=null)}}else k=!1}var z;if(typeof v=="function")z=function(){v(Y)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=Y,z=function(){re.postMessage(null)}}else z=function(){_(Y,0)};function W(U){T=U,k||(k=!0,z())}function pe(U,G){b=_(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,W(C))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var H=h;h=G;try{return U()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=h;h=U;try{return G()}finally{h=H}},t.unstable_scheduleCallback=function(U,G,H){var de=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?de+H:de):H=de,U){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=H+xe,U={id:f++,callback:G,priorityLevel:U,startTime:H,expirationTime:xe,sortIndex:-1},H>de?(U.sortIndex=H,e(c,U),n(u)===null&&U===n(c)&&(E?(y(b),b=-1):E=!0,pe(S,H-de))):(U.sortIndex=xe,e(u,U),x||g||(x=!0,W(C))),U},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(U){var G=h;return function(){var H=h;h=G;try{return U.apply(this,arguments)}finally{h=H}}}})(fp);dp.exports=fp;var Sy=dp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty=A,et=Sy;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hp=new Set,Si={};function Kn(t,e){Lr(t,e),Lr(t+"Capture",e)}function Lr(t,e){for(Si[t]=e,t=0;t<e.length;t++)hp.add(e[t])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=Object.prototype.hasOwnProperty,Cy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pc={},Mc={};function ky(t){return Va.call(Mc,t)?!0:Va.call(Pc,t)?!1:Cy.test(t)?Mc[t]=!0:(Pc[t]=!0,!1)}function Ay(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function by(t,e,n,r){if(e===null||typeof e>"u"||Ay(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var pu=/[\-:]([a-z])/g;function mu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pu,mu);be[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pu,mu);be[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pu,mu);be[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function gu(t,e,n,r){var i=be.hasOwnProperty(e)?be[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(by(e,n,i,r)&&(n=null),r||i===null?ky(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gt=Ty.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),yu=Symbol.for("react.strict_mode"),qa=Symbol.for("react.profiler"),pp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),vu=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),Ba=Symbol.for("react.suspense_list"),wu=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),gp=Symbol.for("react.offscreen"),Dc=Symbol.iterator;function Yr(t){return t===null||typeof t!="object"?null:(t=Dc&&t[Dc]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,na;function si(t){if(na===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);na=e&&e[1]||""}return`
`+na+t}var ra=!1;function ia(t,e){if(!t||ra)return"";ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{ra=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?si(t):""}function Iy(t){switch(t.tag){case 5:return si(t.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return t=ia(t.type,!1),t;case 11:return t=ia(t.type.render,!1),t;case 1:return t=ia(t.type,!0),t;default:return""}}function Ha(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dr:return"Fragment";case cr:return"Portal";case qa:return"Profiler";case yu:return"StrictMode";case Ga:return"Suspense";case Ba:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mp:return(t.displayName||"Context")+".Consumer";case pp:return(t._context.displayName||"Context")+".Provider";case vu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wu:return e=t.displayName||null,e!==null?e:Ha(t.type)||"Memo";case Yt:e=t._payload,t=t._init;try{return Ha(t(e))}catch{}}return null}function Ry(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ha(e);case 8:return e===yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ny(t){var e=yp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oo(t){t._valueTracker||(t._valueTracker=Ny(t))}function vp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ho(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function za(t,e){var n=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wp(t,e){e=e.checked,e!=null&&gu(t,"checked",e,!1)}function ja(t,e){wp(t,e);var n=gn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ja(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ja(t,e.type,gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ja(t,e,n){(e!=="number"||Ho(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ai=Array.isArray;function Cr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(ai(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gn(n)}}function xp(t,e){var n=gn(e.value),r=gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _p(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ka(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_p(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var so,Ep=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=so.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ti(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Py=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(t){Py.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fi[e]=fi[t]})});function Sp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fi.hasOwnProperty(t)&&fi[t]?(""+e).trim():e+"px"}function Tp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var My=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(t,e){if(e){if(My[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Xa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qa=null;function xu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Za=null,kr=null,Ar=null;function $c(t){if(t=Qi(t)){if(typeof Za!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Ns(e),Za(t.stateNode,t.type,e))}}function Cp(t){kr?Ar?Ar.push(t):Ar=[t]:kr=t}function kp(){if(kr){var t=kr,e=Ar;if(Ar=kr=null,$c(t),e)for(t=0;t<e.length;t++)$c(e[t])}}function Ap(t,e){return t(e)}function bp(){}var oa=!1;function Ip(t,e,n){if(oa)return t(e,n);oa=!0;try{return Ap(t,e,n)}finally{oa=!1,(kr!==null||Ar!==null)&&(bp(),kp())}}function Ci(t,e){var n=t.stateNode;if(n===null)return null;var r=Ns(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var el=!1;if(Ot)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){el=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{el=!1}function Dy(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var hi=!1,zo=null,jo=!1,tl=null,Uy={onError:function(t){hi=!0,zo=t}};function Ly(t,e,n,r,i,o,s,a,u){hi=!1,zo=null,Dy.apply(Uy,arguments)}function Oy(t,e,n,r,i,o,s,a,u){if(Ly.apply(this,arguments),hi){if(hi){var c=zo;hi=!1,zo=null}else throw Error(P(198));jo||(jo=!0,tl=c)}}function Yn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vc(t){if(Yn(t)!==t)throw Error(P(188))}function Fy(t){var e=t.alternate;if(!e){if(e=Yn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Vc(i),t;if(o===r)return Vc(i),e;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Np(t){return t=Fy(t),t!==null?Pp(t):null}function Pp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pp(t);if(e!==null)return e;t=t.sibling}return null}var Mp=et.unstable_scheduleCallback,qc=et.unstable_cancelCallback,$y=et.unstable_shouldYield,Vy=et.unstable_requestPaint,fe=et.unstable_now,qy=et.unstable_getCurrentPriorityLevel,_u=et.unstable_ImmediatePriority,Dp=et.unstable_UserBlockingPriority,Jo=et.unstable_NormalPriority,Gy=et.unstable_LowPriority,Up=et.unstable_IdlePriority,As=null,bt=null;function By(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(As,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:jy,Hy=Math.log,zy=Math.LN2;function jy(t){return t>>>=0,t===0?32:31-(Hy(t)/zy|0)|0}var ao=64,lo=4194304;function li(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=li(a):(o&=s,o!==0&&(r=li(o)))}else s=n&~i,s!==0?r=li(s):o!==0&&(r=li(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wt(e),i=1<<n,r|=t[n],e&=~i;return r}function Jy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-wt(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=Jy(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function nl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lp(){var t=ao;return ao<<=1,!(ao&4194240)&&(ao=64),t}function sa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wt(e),t[e]=n}function Ky(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Eu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var X=0;function Op(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fp,Su,$p,Vp,qp,rl=!1,uo=[],an=null,ln=null,un=null,ki=new Map,Ai=new Map,Zt=[],Yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(t,e){switch(t){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":ki.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(e.pointerId)}}function Qr(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qi(e),e!==null&&Su(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xy(t,e,n,r,i){switch(e){case"focusin":return an=Qr(an,t,e,n,r,i),!0;case"dragenter":return ln=Qr(ln,t,e,n,r,i),!0;case"mouseover":return un=Qr(un,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ki.set(o,Qr(ki.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ai.set(o,Qr(Ai.get(o)||null,t,e,n,r,i)),!0}return!1}function Gp(t){var e=Un(t.target);if(e!==null){var n=Yn(e);if(n!==null){if(e=n.tag,e===13){if(e=Rp(n),e!==null){t.blockedOn=e,qp(t.priority,function(){$p(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=il(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qa=r,n.target.dispatchEvent(r),Qa=null}else return e=Qi(n),e!==null&&Su(e),t.blockedOn=n,!1;e.shift()}return!0}function Bc(t,e,n){Po(t)&&n.delete(e)}function Qy(){rl=!1,an!==null&&Po(an)&&(an=null),ln!==null&&Po(ln)&&(ln=null),un!==null&&Po(un)&&(un=null),ki.forEach(Bc),Ai.forEach(Bc)}function Zr(t,e){t.blockedOn===e&&(t.blockedOn=null,rl||(rl=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Qy)))}function bi(t){function e(i){return Zr(i,t)}if(0<uo.length){Zr(uo[0],t);for(var n=1;n<uo.length;n++){var r=uo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(an!==null&&Zr(an,t),ln!==null&&Zr(ln,t),un!==null&&Zr(un,t),ki.forEach(e),Ai.forEach(e),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Gp(n),n.blockedOn===null&&Zt.shift()}var br=Gt.ReactCurrentBatchConfig,Ko=!0;function Zy(t,e,n,r){var i=X,o=br.transition;br.transition=null;try{X=1,Tu(t,e,n,r)}finally{X=i,br.transition=o}}function ev(t,e,n,r){var i=X,o=br.transition;br.transition=null;try{X=4,Tu(t,e,n,r)}finally{X=i,br.transition=o}}function Tu(t,e,n,r){if(Ko){var i=il(t,e,n,r);if(i===null)ga(t,e,r,Yo,n),Gc(t,r);else if(Xy(i,t,e,n,r))r.stopPropagation();else if(Gc(t,r),e&4&&-1<Yy.indexOf(t)){for(;i!==null;){var o=Qi(i);if(o!==null&&Fp(o),o=il(t,e,n,r),o===null&&ga(t,e,r,Yo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ga(t,e,r,null,n)}}var Yo=null;function il(t,e,n,r){if(Yo=null,t=xu(r),t=Un(t),t!==null)if(e=Yn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yo=t,null}function Bp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qy()){case _u:return 1;case Dp:return 4;case Jo:case Gy:return 16;case Up:return 536870912;default:return 16}default:return 16}}var nn=null,Cu=null,Mo=null;function Hp(){if(Mo)return Mo;var t,e=Cu,n=e.length,r,i="value"in nn?nn.value:nn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Mo=i.slice(t,1<r?1-r:void 0)}function Do(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function co(){return!0}function Hc(){return!1}function nt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?co:Hc,this.isPropagationStopped=Hc,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),e}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=nt(Hr),Xi=ae({},Hr,{view:0,detail:0}),tv=nt(Xi),aa,la,ei,bs=ae({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(aa=t.screenX-ei.screenX,la=t.screenY-ei.screenY):la=aa=0,ei=t),aa)},movementY:function(t){return"movementY"in t?t.movementY:la}}),zc=nt(bs),nv=ae({},bs,{dataTransfer:0}),rv=nt(nv),iv=ae({},Xi,{relatedTarget:0}),ua=nt(iv),ov=ae({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),sv=nt(ov),av=ae({},Hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lv=nt(av),uv=ae({},Hr,{data:0}),jc=nt(uv),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fv[t])?!!e[t]:!1}function Au(){return hv}var pv=ae({},Xi,{key:function(t){if(t.key){var e=cv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Do(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(t){return t.type==="keypress"?Do(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Do(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mv=nt(pv),gv=ae({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=nt(gv),yv=ae({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),vv=nt(yv),wv=ae({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xv=nt(wv),_v=ae({},bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=nt(_v),Sv=[9,13,27,32],bu=Ot&&"CompositionEvent"in window,pi=null;Ot&&"documentMode"in document&&(pi=document.documentMode);var Tv=Ot&&"TextEvent"in window&&!pi,zp=Ot&&(!bu||pi&&8<pi&&11>=pi),Wc=" ",Kc=!1;function jp(t,e){switch(t){case"keyup":return Sv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function Cv(t,e){switch(t){case"compositionend":return Jp(e);case"keypress":return e.which!==32?null:(Kc=!0,Wc);case"textInput":return t=e.data,t===Wc&&Kc?null:t;default:return null}}function kv(t,e){if(fr)return t==="compositionend"||!bu&&jp(t,e)?(t=Hp(),Mo=Cu=nn=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zp&&e.locale!=="ko"?null:e.data;default:return null}}var Av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Av[t.type]:e==="textarea"}function Wp(t,e,n,r){Cp(r),e=Xo(e,"onChange"),0<e.length&&(n=new ku("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mi=null,Ii=null;function bv(t){om(t,0)}function Is(t){var e=mr(t);if(vp(e))return t}function Iv(t,e){if(t==="change")return e}var Kp=!1;if(Ot){var ca;if(Ot){var da="oninput"in document;if(!da){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),da=typeof Xc.oninput=="function"}ca=da}else ca=!1;Kp=ca&&(!document.documentMode||9<document.documentMode)}function Qc(){mi&&(mi.detachEvent("onpropertychange",Yp),Ii=mi=null)}function Yp(t){if(t.propertyName==="value"&&Is(Ii)){var e=[];Wp(e,Ii,t,xu(t)),Ip(bv,e)}}function Rv(t,e,n){t==="focusin"?(Qc(),mi=e,Ii=n,mi.attachEvent("onpropertychange",Yp)):t==="focusout"&&Qc()}function Nv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Is(Ii)}function Pv(t,e){if(t==="click")return Is(e)}function Mv(t,e){if(t==="input"||t==="change")return Is(e)}function Dv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:Dv;function Ri(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Va.call(e,i)||!St(t[i],e[i]))return!1}return!0}function Zc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ed(t,e){var n=Zc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zc(n)}}function Xp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qp(){for(var t=window,e=Ho();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ho(t.document)}return e}function Iu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Uv(t){var e=Qp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xp(n.ownerDocument.documentElement,n)){if(r!==null&&Iu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ed(n,o);var s=ed(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lv=Ot&&"documentMode"in document&&11>=document.documentMode,hr=null,ol=null,gi=null,sl=!1;function td(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sl||hr==null||hr!==Ho(r)||(r=hr,"selectionStart"in r&&Iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gi&&Ri(gi,r)||(gi=r,r=Xo(ol,"onSelect"),0<r.length&&(e=new ku("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hr)))}function fo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pr={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionend:fo("Transition","TransitionEnd")},fa={},Zp={};Ot&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Rs(t){if(fa[t])return fa[t];if(!pr[t])return t;var e=pr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zp)return fa[t]=e[n];return t}var em=Rs("animationend"),tm=Rs("animationiteration"),nm=Rs("animationstart"),rm=Rs("transitionend"),im=new Map,nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(t,e){im.set(t,e),Kn(e,[t])}for(var ha=0;ha<nd.length;ha++){var pa=nd[ha],Ov=pa.toLowerCase(),Fv=pa[0].toUpperCase()+pa.slice(1);vn(Ov,"on"+Fv)}vn(em,"onAnimationEnd");vn(tm,"onAnimationIteration");vn(nm,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(rm,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$v=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function rd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Oy(r,e,void 0,t),t.currentTarget=null}function om(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;rd(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;rd(i,a,c),o=u}}}if(jo)throw t=tl,jo=!1,tl=null,t}function ee(t,e){var n=e[dl];n===void 0&&(n=e[dl]=new Set);var r=t+"__bubble";n.has(r)||(sm(e,t,2,!1),n.add(r))}function ma(t,e,n){var r=0;e&&(r|=4),sm(n,t,r,e)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Ni(t){if(!t[ho]){t[ho]=!0,hp.forEach(function(n){n!=="selectionchange"&&($v.has(n)||ma(n,!1,t),ma(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ho]||(e[ho]=!0,ma("selectionchange",!1,e))}}function sm(t,e,n,r){switch(Bp(e)){case 1:var i=Zy;break;case 4:i=ev;break;default:i=Tu}n=i.bind(null,e,n,t),i=void 0,!el||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ga(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Un(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Ip(function(){var c=o,f=xu(n),m=[];e:{var h=im.get(t);if(h!==void 0){var g=ku,x=t;switch(t){case"keypress":if(Do(n)===0)break e;case"keydown":case"keyup":g=mv;break;case"focusin":x="focus",g=ua;break;case"focusout":x="blur",g=ua;break;case"beforeblur":case"afterblur":g=ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vv;break;case em:case tm:case nm:g=sv;break;case rm:g=xv;break;case"scroll":g=tv;break;case"wheel":g=Ev;break;case"copy":case"cut":case"paste":g=lv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Jc}var E=(e&4)!==0,_=!E&&t==="scroll",y=E?h!==null?h+"Capture":null:h;E=[];for(var v=c,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Ci(v,y),S!=null&&E.push(Pi(v,S,w)))),_)break;v=v.return}0<E.length&&(h=new g(h,x,null,n,f),m.push({event:h,listeners:E}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Qa&&(x=n.relatedTarget||n.fromElement)&&(Un(x)||x[Ft]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?Un(x):null,x!==null&&(_=Yn(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(E=zc,S="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=Jc,S="onPointerLeave",y="onPointerEnter",v="pointer"),_=g==null?h:mr(g),w=x==null?h:mr(x),h=new E(S,v+"leave",g,n,f),h.target=_,h.relatedTarget=w,S=null,Un(f)===c&&(E=new E(y,v+"enter",x,n,f),E.target=w,E.relatedTarget=_,S=E),_=S,g&&x)t:{for(E=g,y=x,v=0,w=E;w;w=Zn(w))v++;for(w=0,S=y;S;S=Zn(S))w++;for(;0<v-w;)E=Zn(E),v--;for(;0<w-v;)y=Zn(y),w--;for(;v--;){if(E===y||y!==null&&E===y.alternate)break t;E=Zn(E),y=Zn(y)}E=null}else E=null;g!==null&&id(m,h,g,E,!1),x!==null&&_!==null&&id(m,_,x,E,!0)}}e:{if(h=c?mr(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var C=Iv;else if(Yc(h))if(Kp)C=Mv;else{C=Nv;var k=Rv}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=Pv);if(C&&(C=C(t,c))){Wp(m,C,n,f);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Ja(h,"number",h.value)}switch(k=c?mr(c):window,t){case"focusin":(Yc(k)||k.contentEditable==="true")&&(hr=k,ol=c,gi=null);break;case"focusout":gi=ol=hr=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,td(m,n,f);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":td(m,n,f)}var T;if(bu)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else fr?jp(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(zp&&n.locale!=="ko"&&(fr||b!=="onCompositionStart"?b==="onCompositionEnd"&&fr&&(T=Hp()):(nn=f,Cu="value"in nn?nn.value:nn.textContent,fr=!0)),k=Xo(c,b),0<k.length&&(b=new jc(b,t,null,n,f),m.push({event:b,listeners:k}),T?b.data=T:(T=Jp(n),T!==null&&(b.data=T)))),(T=Tv?Cv(t,n):kv(t,n))&&(c=Xo(c,"onBeforeInput"),0<c.length&&(f=new jc("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=T))}om(m,e)})}function Pi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ci(t,n),o!=null&&r.unshift(Pi(t,o,i)),o=Ci(t,e),o!=null&&r.push(Pi(t,o,i))),t=t.return}return r}function Zn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function id(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Ci(n,o),u!=null&&s.unshift(Pi(n,u,a))):i||(u=Ci(n,o),u!=null&&s.push(Pi(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Vv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function od(t){return(typeof t=="string"?t:""+t).replace(Vv,`
`).replace(qv,"")}function po(t,e,n){if(e=od(e),od(t)!==e&&n)throw Error(P(425))}function Qo(){}var al=null,ll=null;function ul(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cl=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,sd=typeof Promise=="function"?Promise:void 0,Bv=typeof queueMicrotask=="function"?queueMicrotask:typeof sd<"u"?function(t){return sd.resolve(null).then(t).catch(Hv)}:cl;function Hv(t){setTimeout(function(){throw t})}function ya(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bi(e)}function cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ad(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zr=Math.random().toString(36).slice(2),At="__reactFiber$"+zr,Mi="__reactProps$"+zr,Ft="__reactContainer$"+zr,dl="__reactEvents$"+zr,zv="__reactListeners$"+zr,jv="__reactHandles$"+zr;function Un(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ft]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ad(t);t!==null;){if(n=t[At])return n;t=ad(t)}return e}t=n,n=t.parentNode}return null}function Qi(t){return t=t[At]||t[Ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Ns(t){return t[Mi]||null}var fl=[],gr=-1;function wn(t){return{current:t}}function te(t){0>gr||(t.current=fl[gr],fl[gr]=null,gr--)}function Z(t,e){gr++,fl[gr]=t.current,t.current=e}var yn={},Ue=wn(yn),ze=wn(!1),Gn=yn;function Or(t,e){var n=t.type.contextTypes;if(!n)return yn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function je(t){return t=t.childContextTypes,t!=null}function Zo(){te(ze),te(Ue)}function ld(t,e,n){if(Ue.current!==yn)throw Error(P(168));Z(Ue,e),Z(ze,n)}function am(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,Ry(t)||"Unknown",i));return ae({},n,r)}function es(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yn,Gn=Ue.current,Z(Ue,t),Z(ze,ze.current),!0}function ud(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=am(t,e,Gn),r.__reactInternalMemoizedMergedChildContext=t,te(ze),te(Ue),Z(Ue,t)):te(ze),Z(ze,n)}var Pt=null,Ps=!1,va=!1;function lm(t){Pt===null?Pt=[t]:Pt.push(t)}function Jv(t){Ps=!0,lm(t)}function xn(){if(!va&&Pt!==null){va=!0;var t=0,e=X;try{var n=Pt;for(X=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pt=null,Ps=!1}catch(i){throw Pt!==null&&(Pt=Pt.slice(t+1)),Mp(_u,xn),i}finally{X=e,va=!1}}return null}var yr=[],vr=0,ts=null,ns=0,rt=[],it=0,Bn=null,Mt=1,Dt="";function bn(t,e){yr[vr++]=ns,yr[vr++]=ts,ts=t,ns=e}function um(t,e,n){rt[it++]=Mt,rt[it++]=Dt,rt[it++]=Bn,Bn=t;var r=Mt;t=Dt;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var o=32-wt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Mt=1<<32-wt(e)+i|n<<i|r,Dt=o+t}else Mt=1<<o|n<<i|r,Dt=t}function Ru(t){t.return!==null&&(bn(t,1),um(t,1,0))}function Nu(t){for(;t===ts;)ts=yr[--vr],yr[vr]=null,ns=yr[--vr],yr[vr]=null;for(;t===Bn;)Bn=rt[--it],rt[it]=null,Dt=rt[--it],rt[it]=null,Mt=rt[--it],rt[it]=null}var Ze=null,Qe=null,ne=!1,yt=null;function cm(t,e){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ze=t,Qe=cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ze=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bn!==null?{id:Mt,overflow:Dt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ze=t,Qe=null,!0):!1;default:return!1}}function hl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pl(t){if(ne){var e=Qe;if(e){var n=e;if(!cd(t,e)){if(hl(t))throw Error(P(418));e=cn(n.nextSibling);var r=Ze;e&&cd(t,e)?cm(r,n):(t.flags=t.flags&-4097|2,ne=!1,Ze=t)}}else{if(hl(t))throw Error(P(418));t.flags=t.flags&-4097|2,ne=!1,Ze=t}}}function dd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ze=t}function mo(t){if(t!==Ze)return!1;if(!ne)return dd(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ul(t.type,t.memoizedProps)),e&&(e=Qe)){if(hl(t))throw dm(),Error(P(418));for(;e;)cm(t,e),e=cn(e.nextSibling)}if(dd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qe=cn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=Ze?cn(t.stateNode.nextSibling):null;return!0}function dm(){for(var t=Qe;t;)t=cn(t.nextSibling)}function Fr(){Qe=Ze=null,ne=!1}function Pu(t){yt===null?yt=[t]:yt.push(t)}var Wv=Gt.ReactCurrentBatchConfig;function ti(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function go(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fd(t){var e=t._init;return e(t._payload)}function fm(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=pn(y,v),y.index=0,y.sibling=null,y}function o(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,w,S){return v===null||v.tag!==6?(v=Ca(w,y.mode,S),v.return=y,v):(v=i(v,w),v.return=y,v)}function u(y,v,w,S){var C=w.type;return C===dr?f(y,v,w.props.children,S,w.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Yt&&fd(C)===v.type)?(S=i(v,w.props),S.ref=ti(y,v,w),S.return=y,S):(S=qo(w.type,w.key,w.props,null,y.mode,S),S.ref=ti(y,v,w),S.return=y,S)}function c(y,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=ka(w,y.mode,S),v.return=y,v):(v=i(v,w.children||[]),v.return=y,v)}function f(y,v,w,S,C){return v===null||v.tag!==7?(v=Vn(w,y.mode,S,C),v.return=y,v):(v=i(v,w),v.return=y,v)}function m(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ca(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case io:return w=qo(v.type,v.key,v.props,null,y.mode,w),w.ref=ti(y,null,v),w.return=y,w;case cr:return v=ka(v,y.mode,w),v.return=y,v;case Yt:var S=v._init;return m(y,S(v._payload),w)}if(ai(v)||Yr(v))return v=Vn(v,y.mode,w,null),v.return=y,v;go(y,v)}return null}function h(y,v,w,S){var C=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(y,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case io:return w.key===C?u(y,v,w,S):null;case cr:return w.key===C?c(y,v,w,S):null;case Yt:return C=w._init,h(y,v,C(w._payload),S)}if(ai(w)||Yr(w))return C!==null?null:f(y,v,w,S,null);go(y,w)}return null}function g(y,v,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(v,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case io:return y=y.get(S.key===null?w:S.key)||null,u(v,y,S,C);case cr:return y=y.get(S.key===null?w:S.key)||null,c(v,y,S,C);case Yt:var k=S._init;return g(y,v,w,k(S._payload),C)}if(ai(S)||Yr(S))return y=y.get(w)||null,f(v,y,S,C,null);go(v,S)}return null}function x(y,v,w,S){for(var C=null,k=null,T=v,b=v=0,I=null;T!==null&&b<w.length;b++){T.index>b?(I=T,T=null):I=T.sibling;var R=h(y,T,w[b],S);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(y,T),v=o(R,v,b),k===null?C=R:k.sibling=R,k=R,T=I}if(b===w.length)return n(y,T),ne&&bn(y,b),C;if(T===null){for(;b<w.length;b++)T=m(y,w[b],S),T!==null&&(v=o(T,v,b),k===null?C=T:k.sibling=T,k=T);return ne&&bn(y,b),C}for(T=r(y,T);b<w.length;b++)I=g(T,y,b,w[b],S),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?b:I.key),v=o(I,v,b),k===null?C=I:k.sibling=I,k=I);return t&&T.forEach(function(V){return e(y,V)}),ne&&bn(y,b),C}function E(y,v,w,S){var C=Yr(w);if(typeof C!="function")throw Error(P(150));if(w=C.call(w),w==null)throw Error(P(151));for(var k=C=null,T=v,b=v=0,I=null,R=w.next();T!==null&&!R.done;b++,R=w.next()){T.index>b?(I=T,T=null):I=T.sibling;var V=h(y,T,R.value,S);if(V===null){T===null&&(T=I);break}t&&T&&V.alternate===null&&e(y,T),v=o(V,v,b),k===null?C=V:k.sibling=V,k=V,T=I}if(R.done)return n(y,T),ne&&bn(y,b),C;if(T===null){for(;!R.done;b++,R=w.next())R=m(y,R.value,S),R!==null&&(v=o(R,v,b),k===null?C=R:k.sibling=R,k=R);return ne&&bn(y,b),C}for(T=r(y,T);!R.done;b++,R=w.next())R=g(T,y,b,R.value,S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?b:R.key),v=o(R,v,b),k===null?C=R:k.sibling=R,k=R);return t&&T.forEach(function(Y){return e(y,Y)}),ne&&bn(y,b),C}function _(y,v,w,S){if(typeof w=="object"&&w!==null&&w.type===dr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case io:e:{for(var C=w.key,k=v;k!==null;){if(k.key===C){if(C=w.type,C===dr){if(k.tag===7){n(y,k.sibling),v=i(k,w.props.children),v.return=y,y=v;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Yt&&fd(C)===k.type){n(y,k.sibling),v=i(k,w.props),v.ref=ti(y,k,w),v.return=y,y=v;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===dr?(v=Vn(w.props.children,y.mode,S,w.key),v.return=y,y=v):(S=qo(w.type,w.key,w.props,null,y.mode,S),S.ref=ti(y,v,w),S.return=y,y=S)}return s(y);case cr:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=i(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=ka(w,y.mode,S),v.return=y,y=v}return s(y);case Yt:return k=w._init,_(y,v,k(w._payload),S)}if(ai(w))return x(y,v,w,S);if(Yr(w))return E(y,v,w,S);go(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,w),v.return=y,y=v):(n(y,v),v=Ca(w,y.mode,S),v.return=y,y=v),s(y)):n(y,v)}return _}var $r=fm(!0),hm=fm(!1),rs=wn(null),is=null,wr=null,Mu=null;function Du(){Mu=wr=is=null}function Uu(t){var e=rs.current;te(rs),t._currentValue=e}function ml(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ir(t,e){is=t,Mu=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function lt(t){var e=t._currentValue;if(Mu!==t)if(t={context:t,memoizedValue:e,next:null},wr===null){if(is===null)throw Error(P(308));wr=t,is.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return e}var Ln=null;function Lu(t){Ln===null?Ln=[t]:Ln.push(t)}function pm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lu(e)):(n.next=i.next,i.next=n),e.interleaved=n,$t(t,r)}function $t(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xt=!1;function Ou(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$t(t,n)}return i=r.interleaved,i===null?(e.next=e,Lu(r)):(e.next=i.next,i.next=e),r.interleaved=e,$t(t,n)}function Uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eu(t,n)}}function hd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function os(t,e,n,r){var i=t.updateQueue;Xt=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;s=0,f=c=u=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,E=a;switch(h=e,g=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){m=x.call(g,m,h);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,h=typeof x=="function"?x.call(g,m,h):x,h==null)break e;m=ae({},m,h);break e;case 2:Xt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=g,u=m):f=f.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);zn|=s,t.lanes=s,t.memoizedState=m}}function pd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Zi={},It=wn(Zi),Di=wn(Zi),Ui=wn(Zi);function On(t){if(t===Zi)throw Error(P(174));return t}function Fu(t,e){switch(Z(Ui,e),Z(Di,t),Z(It,Zi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ka(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ka(e,t)}te(It),Z(It,e)}function Vr(){te(It),te(Di),te(Ui)}function gm(t){On(Ui.current);var e=On(It.current),n=Ka(e,t.type);e!==n&&(Z(Di,t),Z(It,n))}function $u(t){Di.current===t&&(te(It),te(Di))}var oe=wn(0);function ss(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wa=[];function Vu(){for(var t=0;t<wa.length;t++)wa[t]._workInProgressVersionPrimary=null;wa.length=0}var Lo=Gt.ReactCurrentDispatcher,xa=Gt.ReactCurrentBatchConfig,Hn=0,se=null,ve=null,_e=null,as=!1,yi=!1,Li=0,Kv=0;function Ie(){throw Error(P(321))}function qu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!St(t[n],e[n]))return!1;return!0}function Gu(t,e,n,r,i,o){if(Hn=o,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lo.current=t===null||t.memoizedState===null?Zv:ew,t=n(r,i),yi){o=0;do{if(yi=!1,Li=0,25<=o)throw Error(P(301));o+=1,_e=ve=null,e.updateQueue=null,Lo.current=tw,t=n(r,i)}while(yi)}if(Lo.current=ls,e=ve!==null&&ve.next!==null,Hn=0,_e=ve=se=null,as=!1,e)throw Error(P(300));return t}function Bu(){var t=Li!==0;return Li=0,t}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?se.memoizedState=_e=t:_e=_e.next=t,_e}function ut(){if(ve===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var e=_e===null?se.memoizedState:_e.next;if(e!==null)_e=e,ve=t;else{if(t===null)throw Error(P(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},_e===null?se.memoizedState=_e=t:_e=_e.next=t}return _e}function Oi(t,e){return typeof e=="function"?e(t):e}function _a(t){var e=ut(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=ve,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var f=c.lane;if((Hn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=m,s=r):u=u.next=m,se.lanes|=f,zn|=f}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,St(r,e.memoizedState)||(He=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,se.lanes|=o,zn|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ea(t){var e=ut(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);St(o,e.memoizedState)||(He=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ym(){}function vm(t,e){var n=se,r=ut(),i=e(),o=!St(r.memoizedState,i);if(o&&(r.memoizedState=i,He=!0),r=r.queue,Hu(_m.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Fi(9,xm.bind(null,n,r,i,e),void 0,null),Ee===null)throw Error(P(349));Hn&30||wm(n,e,i)}return i}function wm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xm(t,e,n,r){e.value=n,e.getSnapshot=r,Em(e)&&Sm(t)}function _m(t,e,n){return n(function(){Em(e)&&Sm(t)})}function Em(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!St(t,n)}catch{return!0}}function Sm(t){var e=$t(t,1);e!==null&&xt(e,t,1,-1)}function md(t){var e=kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},e.queue=t,t=t.dispatch=Qv.bind(null,se,t),[e.memoizedState,t]}function Fi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tm(){return ut().memoizedState}function Oo(t,e,n,r){var i=kt();se.flags|=t,i.memoizedState=Fi(1|e,n,void 0,r===void 0?null:r)}function Ms(t,e,n,r){var i=ut();r=r===void 0?null:r;var o=void 0;if(ve!==null){var s=ve.memoizedState;if(o=s.destroy,r!==null&&qu(r,s.deps)){i.memoizedState=Fi(e,n,o,r);return}}se.flags|=t,i.memoizedState=Fi(1|e,n,o,r)}function gd(t,e){return Oo(8390656,8,t,e)}function Hu(t,e){return Ms(2048,8,t,e)}function Cm(t,e){return Ms(4,2,t,e)}function km(t,e){return Ms(4,4,t,e)}function Am(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bm(t,e,n){return n=n!=null?n.concat([t]):null,Ms(4,4,Am.bind(null,e,t),n)}function zu(){}function Im(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Rm(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Nm(t,e,n){return Hn&21?(St(n,e)||(n=Lp(),se.lanes|=n,zn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function Yv(t,e){var n=X;X=n!==0&&4>n?n:4,t(!0);var r=xa.transition;xa.transition={};try{t(!1),e()}finally{X=n,xa.transition=r}}function Pm(){return ut().memoizedState}function Xv(t,e,n){var r=hn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mm(t))Dm(e,n);else if(n=pm(t,e,n,r),n!==null){var i=$e();xt(n,t,r,i),Um(n,e,r)}}function Qv(t,e,n){var r=hn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mm(t))Dm(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,St(a,s)){var u=e.interleaved;u===null?(i.next=i,Lu(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=pm(t,e,i,r),n!==null&&(i=$e(),xt(n,t,r,i),Um(n,e,r))}}function Mm(t){var e=t.alternate;return t===se||e!==null&&e===se}function Dm(t,e){yi=as=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Um(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eu(t,n)}}var ls={readContext:lt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Zv={readContext:lt,useCallback:function(t,e){return kt().memoizedState=[t,e===void 0?null:e],t},useContext:lt,useEffect:gd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oo(4194308,4,Am.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oo(4,2,t,e)},useMemo:function(t,e){var n=kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Xv.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=kt();return t={current:t},e.memoizedState=t},useState:md,useDebugValue:zu,useDeferredValue:function(t){return kt().memoizedState=t},useTransition:function(){var t=md(!1),e=t[0];return t=Yv.bind(null,t[1]),kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=se,i=kt();if(ne){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ee===null)throw Error(P(349));Hn&30||wm(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,gd(_m.bind(null,r,o,t),[t]),r.flags|=2048,Fi(9,xm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=kt(),e=Ee.identifierPrefix;if(ne){var n=Dt,r=Mt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Li++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Kv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ew={readContext:lt,useCallback:Im,useContext:lt,useEffect:Hu,useImperativeHandle:bm,useInsertionEffect:Cm,useLayoutEffect:km,useMemo:Rm,useReducer:_a,useRef:Tm,useState:function(){return _a(Oi)},useDebugValue:zu,useDeferredValue:function(t){var e=ut();return Nm(e,ve.memoizedState,t)},useTransition:function(){var t=_a(Oi)[0],e=ut().memoizedState;return[t,e]},useMutableSource:ym,useSyncExternalStore:vm,useId:Pm,unstable_isNewReconciler:!1},tw={readContext:lt,useCallback:Im,useContext:lt,useEffect:Hu,useImperativeHandle:bm,useInsertionEffect:Cm,useLayoutEffect:km,useMemo:Rm,useReducer:Ea,useRef:Tm,useState:function(){return Ea(Oi)},useDebugValue:zu,useDeferredValue:function(t){var e=ut();return ve===null?e.memoizedState=t:Nm(e,ve.memoizedState,t)},useTransition:function(){var t=Ea(Oi)[0],e=ut().memoizedState;return[t,e]},useMutableSource:ym,useSyncExternalStore:vm,useId:Pm,unstable_isNewReconciler:!1};function ht(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ds={isMounted:function(t){return(t=t._reactInternals)?Yn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$e(),i=hn(t),o=Ut(r,i);o.payload=e,n!=null&&(o.callback=n),e=dn(t,o,i),e!==null&&(xt(e,t,i,r),Uo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$e(),i=hn(t),o=Ut(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=dn(t,o,i),e!==null&&(xt(e,t,i,r),Uo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$e(),r=hn(t),i=Ut(n,r);i.tag=2,e!=null&&(i.callback=e),e=dn(t,i,r),e!==null&&(xt(e,t,r,n),Uo(e,t,r))}};function yd(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ri(n,r)||!Ri(i,o):!0}function Lm(t,e,n){var r=!1,i=yn,o=e.contextType;return typeof o=="object"&&o!==null?o=lt(o):(i=je(e)?Gn:Ue.current,r=e.contextTypes,o=(r=r!=null)?Or(t,i):yn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ds,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ds.enqueueReplaceState(e,e.state,null)}function yl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ou(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=lt(o):(o=je(e)?Gn:Ue.current,i.context=Or(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gl(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ds.enqueueReplaceState(i,i.state,null),os(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qr(t,e){try{var n="",r=e;do n+=Iy(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Sa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nw=typeof WeakMap=="function"?WeakMap:Map;function Om(t,e,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cs||(cs=!0,bl=r),vl(t,e)},n}function Fm(t,e,n){n=Ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vl(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vl(t,e),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function wd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nw;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gw.bind(null,t,e,n),e.then(t,t))}function xd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _d(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ut(-1,1),e.tag=2,dn(n,e,1))),n.lanes|=1),t)}var rw=Gt.ReactCurrentOwner,He=!1;function Fe(t,e,n,r){e.child=t===null?hm(e,null,n,r):$r(e,t.child,n,r)}function Ed(t,e,n,r,i){n=n.render;var o=e.ref;return Ir(e,i),r=Gu(t,e,n,r,o,i),n=Bu(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vt(t,e,i)):(ne&&n&&Ru(e),e.flags|=1,Fe(t,e,r,i),e.child)}function Sd(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Zu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,$m(t,e,o,r,i)):(t=qo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ri,n(s,r)&&t.ref===e.ref)return Vt(t,e,i)}return e.flags|=1,t=pn(o,r),t.ref=e.ref,t.return=e,e.child=t}function $m(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ri(o,r)&&t.ref===e.ref)if(He=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,Vt(t,e,i)}return wl(t,e,n,r,i)}function Vm(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(_r,Ke),Ke|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(_r,Ke),Ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Z(_r,Ke),Ke|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Z(_r,Ke),Ke|=r;return Fe(t,e,i,n),e.child}function qm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wl(t,e,n,r,i){var o=je(n)?Gn:Ue.current;return o=Or(e,o),Ir(e,i),n=Gu(t,e,n,r,o,i),r=Bu(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vt(t,e,i)):(ne&&r&&Ru(e),e.flags|=1,Fe(t,e,n,i),e.child)}function Td(t,e,n,r,i){if(je(n)){var o=!0;es(e)}else o=!1;if(Ir(e,i),e.stateNode===null)Fo(t,e),Lm(e,n,r),yl(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=lt(c):(c=je(n)?Gn:Ue.current,c=Or(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&vd(e,s,r,c),Xt=!1;var h=e.memoizedState;s.state=h,os(e,r,s,i),u=e.memoizedState,a!==r||h!==u||ze.current||Xt?(typeof f=="function"&&(gl(e,n,f,r),u=e.memoizedState),(a=Xt||yd(e,n,a,r,h,u,c))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,mm(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ht(e.type,a),s.props=c,m=e.pendingProps,h=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=lt(u):(u=je(n)?Gn:Ue.current,u=Or(e,u));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||h!==u)&&vd(e,s,r,u),Xt=!1,h=e.memoizedState,s.state=h,os(e,r,s,i);var x=e.memoizedState;a!==m||h!==x||ze.current||Xt?(typeof g=="function"&&(gl(e,n,g,r),x=e.memoizedState),(c=Xt||yd(e,n,c,r,h,x,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return xl(t,e,n,r,o,i)}function xl(t,e,n,r,i,o){qm(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ud(e,n,!1),Vt(t,e,o);r=e.stateNode,rw.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$r(e,t.child,null,o),e.child=$r(e,null,a,o)):Fe(t,e,a,o),e.memoizedState=r.state,i&&ud(e,n,!0),e.child}function Gm(t){var e=t.stateNode;e.pendingContext?ld(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ld(t,e.context,!1),Fu(t,e.containerInfo)}function Cd(t,e,n,r,i){return Fr(),Pu(i),e.flags|=256,Fe(t,e,n,r),e.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function El(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bm(t,e,n){var r=e.pendingProps,i=oe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Z(oe,i&1),t===null)return pl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Os(s,r,0,null),t=Vn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=El(n),e.memoizedState=_l,t):ju(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iw(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=pn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=pn(a,o):(o=Vn(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?El(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=_l,r}return o=t.child,t=o.sibling,r=pn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ju(t,e){return e=Os({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yo(t,e,n,r){return r!==null&&Pu(r),$r(e,t.child,null,n),t=ju(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iw(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Sa(Error(P(422))),yo(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Os({mode:"visible",children:r.children},i,0,null),o=Vn(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$r(e,t.child,null,s),e.child.memoizedState=El(s),e.memoizedState=_l,o);if(!(e.mode&1))return yo(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(P(419)),r=Sa(o,r,void 0),yo(t,e,s,r)}if(a=(s&t.childLanes)!==0,He||a){if(r=Ee,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$t(t,i),xt(r,t,i,-1))}return Qu(),r=Sa(Error(P(421))),yo(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Qe=cn(i.nextSibling),Ze=e,ne=!0,yt=null,t!==null&&(rt[it++]=Mt,rt[it++]=Dt,rt[it++]=Bn,Mt=t.id,Dt=t.overflow,Bn=e),e=ju(e,r.children),e.flags|=4096,e)}function kd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ml(t.return,e,n)}function Ta(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hm(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fe(t,e,r.children,n),r=oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kd(t,n,e);else if(t.tag===19)kd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ss(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ta(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ss(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ta(e,!0,n,null,o);break;case"together":Ta(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=pn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ow(t,e,n){switch(e.tag){case 3:Gm(e),Fr();break;case 5:gm(e);break;case 1:je(e.type)&&es(e);break;case 4:Fu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Z(rs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?Bm(t,e,n):(Z(oe,oe.current&1),t=Vt(t,e,n),t!==null?t.sibling:null);Z(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,Vm(t,e,n)}return Vt(t,e,n)}var zm,Sl,jm,Jm;zm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sl=function(){};jm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,On(It.current);var o=null;switch(n){case"input":i=za(t,i),r=za(t,r),o=[];break;case"select":i=ae({},i,{value:void 0}),r=ae({},r,{value:void 0}),o=[];break;case"textarea":i=Wa(t,i),r=Wa(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qo)}Ya(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Si.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Si.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Jm=function(t,e,n,r){n!==r&&(e.flags|=4)};function ni(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sw(t,e,n){var r=e.pendingProps;switch(Nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return je(e.type)&&Zo(),Re(e),null;case 3:return r=e.stateNode,Vr(),te(ze),te(Ue),Vu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yt!==null&&(Nl(yt),yt=null))),Sl(t,e),Re(e),null;case 5:$u(e);var i=On(Ui.current);if(n=e.type,t!==null&&e.stateNode!=null)jm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Re(e),null}if(t=On(It.current),mo(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[At]=e,r[Mi]=o,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(i=0;i<ui.length;i++)ee(ui[i],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Uc(r,o),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ee("invalid",r);break;case"textarea":Oc(r,o),ee("invalid",r)}Ya(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&po(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&po(r.textContent,a,t),i=["children",""+a]):Si.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ee("scroll",r)}switch(n){case"input":oo(r),Lc(r,o,!0);break;case"textarea":oo(r),Fc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Qo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_p(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[At]=e,t[Mi]=r,zm(t,e,!1,!1),e.stateNode=t;e:{switch(s=Xa(n,r),n){case"dialog":ee("cancel",t),ee("close",t),i=r;break;case"iframe":case"object":case"embed":ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<ui.length;i++)ee(ui[i],t);i=r;break;case"source":ee("error",t),i=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),i=r;break;case"details":ee("toggle",t),i=r;break;case"input":Uc(t,r),i=za(t,r),ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ae({},r,{value:void 0}),ee("invalid",t);break;case"textarea":Oc(t,r),i=Wa(t,r),ee("invalid",t);break;default:i=r}Ya(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?Tp(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ep(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ti(t,u):typeof u=="number"&&Ti(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Si.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ee("scroll",t):u!=null&&gu(t,o,u,s))}switch(n){case"input":oo(t),Lc(t,r,!1);break;case"textarea":oo(t),Fc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Cr(t,!!r.multiple,o,!1):r.defaultValue!=null&&Cr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Re(e),null;case 6:if(t&&e.stateNode!=null)Jm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=On(Ui.current),On(It.current),mo(e)){if(r=e.stateNode,n=e.memoizedProps,r[At]=e,(o=r.nodeValue!==n)&&(t=Ze,t!==null))switch(t.tag){case 3:po(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&po(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=e,e.stateNode=r}return Re(e),null;case 13:if(te(oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Qe!==null&&e.mode&1&&!(e.flags&128))dm(),Fr(),e.flags|=98560,o=!1;else if(o=mo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(P(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[At]=e}else Fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),o=!1}else yt!==null&&(Nl(yt),yt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?we===0&&(we=3):Qu())),e.updateQueue!==null&&(e.flags|=4),Re(e),null);case 4:return Vr(),Sl(t,e),t===null&&Ni(e.stateNode.containerInfo),Re(e),null;case 10:return Uu(e.type._context),Re(e),null;case 17:return je(e.type)&&Zo(),Re(e),null;case 19:if(te(oe),o=e.memoizedState,o===null)return Re(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ni(o,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ss(t),s!==null){for(e.flags|=128,ni(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),e.child}t=t.sibling}o.tail!==null&&fe()>Gr&&(e.flags|=128,r=!0,ni(o,!1),e.lanes=4194304)}else{if(!r)if(t=ss(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ni(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ne)return Re(e),null}else 2*fe()-o.renderingStartTime>Gr&&n!==1073741824&&(e.flags|=128,r=!0,ni(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=fe(),e.sibling=null,n=oe.current,Z(oe,r?n&1|2:n&1),e):(Re(e),null);case 22:case 23:return Xu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ke&1073741824&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function aw(t,e){switch(Nu(e),e.tag){case 1:return je(e.type)&&Zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vr(),te(ze),te(Ue),Vu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $u(e),null;case 13:if(te(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(oe),null;case 4:return Vr(),null;case 10:return Uu(e.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var vo=!1,Me=!1,lw=typeof WeakSet=="function"?WeakSet:Set,L=null;function xr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(t,e,r)}else n.current=null}function Tl(t,e,n){try{n()}catch(r){ue(t,e,r)}}var Ad=!1;function uw(t,e){if(al=Ko,t=Qp(),Iu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,f=0,m=t,h=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(a=s+i),m!==o||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++f===r&&(u=s),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ll={focusedElem:t,selectionRange:n},Ko=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,_=x.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:ht(e.type,E),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ue(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return x=Ad,Ad=!1,x}function vi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Tl(e,n,o)}i=i.next}while(i!==r)}}function Us(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wm(t){var e=t.alternate;e!==null&&(t.alternate=null,Wm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[At],delete e[Mi],delete e[dl],delete e[zv],delete e[jv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Km(t){return t.tag===5||t.tag===3||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Km(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qo));else if(r!==4&&(t=t.child,t!==null))for(kl(t,e,n),t=t.sibling;t!==null;)kl(t,e,n),t=t.sibling}function Al(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Al(t,e,n),t=t.sibling;t!==null;)Al(t,e,n),t=t.sibling}var ke=null,mt=!1;function Kt(t,e,n){for(n=n.child;n!==null;)Ym(t,e,n),n=n.sibling}function Ym(t,e,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(As,n)}catch{}switch(n.tag){case 5:Me||xr(n,e);case 6:var r=ke,i=mt;ke=null,Kt(t,e,n),ke=r,mt=i,ke!==null&&(mt?(t=ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(mt?(t=ke,n=n.stateNode,t.nodeType===8?ya(t.parentNode,n):t.nodeType===1&&ya(t,n),bi(t)):ya(ke,n.stateNode));break;case 4:r=ke,i=mt,ke=n.stateNode.containerInfo,mt=!0,Kt(t,e,n),ke=r,mt=i;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Tl(n,e,s),i=i.next}while(i!==r)}Kt(t,e,n);break;case 1:if(!Me&&(xr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,e,a)}Kt(t,e,n);break;case 21:Kt(t,e,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,Kt(t,e,n),Me=r):Kt(t,e,n);break;default:Kt(t,e,n)}}function Id(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lw),e.forEach(function(r){var i=vw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ke=a.stateNode,mt=!1;break e;case 3:ke=a.stateNode.containerInfo,mt=!0;break e;case 4:ke=a.stateNode.containerInfo,mt=!0;break e}a=a.return}if(ke===null)throw Error(P(160));Ym(o,s,i),ke=null,mt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ue(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xm(e,t),e=e.sibling}function Xm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dt(e,t),Ct(t),r&4){try{vi(3,t,t.return),Us(3,t)}catch(E){ue(t,t.return,E)}try{vi(5,t,t.return)}catch(E){ue(t,t.return,E)}}break;case 1:dt(e,t),Ct(t),r&512&&n!==null&&xr(n,n.return);break;case 5:if(dt(e,t),Ct(t),r&512&&n!==null&&xr(n,n.return),t.flags&32){var i=t.stateNode;try{Ti(i,"")}catch(E){ue(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&wp(i,o),Xa(a,s);var c=Xa(a,o);for(s=0;s<u.length;s+=2){var f=u[s],m=u[s+1];f==="style"?Tp(i,m):f==="dangerouslySetInnerHTML"?Ep(i,m):f==="children"?Ti(i,m):gu(i,f,m,c)}switch(a){case"input":ja(i,o);break;case"textarea":xp(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Cr(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Cr(i,!!o.multiple,o.defaultValue,!0):Cr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Mi]=o}catch(E){ue(t,t.return,E)}}break;case 6:if(dt(e,t),Ct(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){ue(t,t.return,E)}}break;case 3:if(dt(e,t),Ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bi(e.containerInfo)}catch(E){ue(t,t.return,E)}break;case 4:dt(e,t),Ct(t);break;case 13:dt(e,t),Ct(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ku=fe())),r&4&&Id(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Me=(c=Me)||f,dt(e,t),Me=c):dt(e,t),Ct(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(L=t,f=t.child;f!==null;){for(m=L=f;L!==null;){switch(h=L,g=h.child,h.tag){case 0:case 11:case 14:case 15:vi(4,h,h.return);break;case 1:xr(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(E){ue(r,n,E)}}break;case 5:xr(h,h.return);break;case 22:if(h.memoizedState!==null){Nd(m);continue}}g!==null?(g.return=h,L=g):Nd(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=m.stateNode,u=m.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Sp("display",s))}catch(E){ue(t,t.return,E)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(E){ue(t,t.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:dt(e,t),Ct(t),r&4&&Id(t);break;case 21:break;default:dt(e,t),Ct(t)}}function Ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Km(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ti(i,""),r.flags&=-33);var o=bd(t);Al(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=bd(t);kl(t,a,s);break;default:throw Error(P(161))}}catch(u){ue(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cw(t,e,n){L=t,Qm(t)}function Qm(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||vo;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Me;a=vo;var c=Me;if(vo=s,(Me=u)&&!c)for(L=i;L!==null;)s=L,u=s.child,s.tag===22&&s.memoizedState!==null?Pd(i):u!==null?(u.return=s,L=u):Pd(i);for(;o!==null;)L=o,Qm(o),o=o.sibling;L=i,vo=a,Me=c}Rd(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,L=o):Rd(t)}}function Rd(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Me||Us(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Me)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ht(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pd(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pd(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&bi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Me||e.flags&512&&Cl(e)}catch(h){ue(e,e.return,h)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Nd(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Pd(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Us(4,e)}catch(u){ue(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ue(e,i,u)}}var o=e.return;try{Cl(e)}catch(u){ue(e,o,u)}break;case 5:var s=e.return;try{Cl(e)}catch(u){ue(e,s,u)}}}catch(u){ue(e,e.return,u)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var dw=Math.ceil,us=Gt.ReactCurrentDispatcher,Ju=Gt.ReactCurrentOwner,st=Gt.ReactCurrentBatchConfig,J=0,Ee=null,ge=null,Ae=0,Ke=0,_r=wn(0),we=0,$i=null,zn=0,Ls=0,Wu=0,wi=null,Be=null,Ku=0,Gr=1/0,Rt=null,cs=!1,bl=null,fn=null,wo=!1,rn=null,ds=0,xi=0,Il=null,$o=-1,Vo=0;function $e(){return J&6?fe():$o!==-1?$o:$o=fe()}function hn(t){return t.mode&1?J&2&&Ae!==0?Ae&-Ae:Wv.transition!==null?(Vo===0&&(Vo=Lp()),Vo):(t=X,t!==0||(t=window.event,t=t===void 0?16:Bp(t.type)),t):1}function xt(t,e,n,r){if(50<xi)throw xi=0,Il=null,Error(P(185));Yi(t,n,r),(!(J&2)||t!==Ee)&&(t===Ee&&(!(J&2)&&(Ls|=n),we===4&&en(t,Ae)),Je(t,r),n===1&&J===0&&!(e.mode&1)&&(Gr=fe()+500,Ps&&xn()))}function Je(t,e){var n=t.callbackNode;Wy(t,e);var r=Wo(t,t===Ee?Ae:0);if(r===0)n!==null&&qc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qc(n),e===1)t.tag===0?Jv(Md.bind(null,t)):lm(Md.bind(null,t)),Bv(function(){!(J&6)&&xn()}),n=null;else{switch(Op(r)){case 1:n=_u;break;case 4:n=Dp;break;case 16:n=Jo;break;case 536870912:n=Up;break;default:n=Jo}n=sg(n,Zm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zm(t,e){if($o=-1,Vo=0,J&6)throw Error(P(327));var n=t.callbackNode;if(Rr()&&t.callbackNode!==n)return null;var r=Wo(t,t===Ee?Ae:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fs(t,r);else{e=r;var i=J;J|=2;var o=tg();(Ee!==t||Ae!==e)&&(Rt=null,Gr=fe()+500,$n(t,e));do try{pw();break}catch(a){eg(t,a)}while(!0);Du(),us.current=o,J=i,ge!==null?e=0:(Ee=null,Ae=0,e=we)}if(e!==0){if(e===2&&(i=nl(t),i!==0&&(r=i,e=Rl(t,i))),e===1)throw n=$i,$n(t,0),en(t,r),Je(t,fe()),n;if(e===6)en(t,r);else{if(i=t.current.alternate,!(r&30)&&!fw(i)&&(e=fs(t,r),e===2&&(o=nl(t),o!==0&&(r=o,e=Rl(t,o))),e===1))throw n=$i,$n(t,0),en(t,r),Je(t,fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:In(t,Be,Rt);break;case 3:if(en(t,r),(r&130023424)===r&&(e=Ku+500-fe(),10<e)){if(Wo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$e(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cl(In.bind(null,t,Be,Rt),e);break}In(t,Be,Rt);break;case 4:if(en(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-wt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dw(r/1960))-r,10<r){t.timeoutHandle=cl(In.bind(null,t,Be,Rt),r);break}In(t,Be,Rt);break;case 5:In(t,Be,Rt);break;default:throw Error(P(329))}}}return Je(t,fe()),t.callbackNode===n?Zm.bind(null,t):null}function Rl(t,e){var n=wi;return t.current.memoizedState.isDehydrated&&($n(t,e).flags|=256),t=fs(t,e),t!==2&&(e=Be,Be=n,e!==null&&Nl(e)),t}function Nl(t){Be===null?Be=t:Be.push.apply(Be,t)}function fw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!St(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function en(t,e){for(e&=~Wu,e&=~Ls,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wt(e),r=1<<n;t[n]=-1,e&=~r}}function Md(t){if(J&6)throw Error(P(327));Rr();var e=Wo(t,0);if(!(e&1))return Je(t,fe()),null;var n=fs(t,e);if(t.tag!==0&&n===2){var r=nl(t);r!==0&&(e=r,n=Rl(t,r))}if(n===1)throw n=$i,$n(t,0),en(t,e),Je(t,fe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,In(t,Be,Rt),Je(t,fe()),null}function Yu(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(Gr=fe()+500,Ps&&xn())}}function jn(t){rn!==null&&rn.tag===0&&!(J&6)&&Rr();var e=J;J|=1;var n=st.transition,r=X;try{if(st.transition=null,X=1,t)return t()}finally{X=r,st.transition=n,J=e,!(J&6)&&xn()}}function Xu(){Ke=_r.current,te(_r)}function $n(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gv(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:Vr(),te(ze),te(Ue),Vu();break;case 5:$u(r);break;case 4:Vr();break;case 13:te(oe);break;case 19:te(oe);break;case 10:Uu(r.type._context);break;case 22:case 23:Xu()}n=n.return}if(Ee=t,ge=t=pn(t.current,null),Ae=Ke=e,we=0,$i=null,Wu=Ls=zn=0,Be=wi=null,Ln!==null){for(e=0;e<Ln.length;e++)if(n=Ln[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ln=null}return t}function eg(t,e){do{var n=ge;try{if(Du(),Lo.current=ls,as){for(var r=se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}as=!1}if(Hn=0,_e=ve=se=null,yi=!1,Li=0,Ju.current=null,n===null||n.return===null){we=1,$i=e,ge=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Ae,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=xd(s);if(g!==null){g.flags&=-257,_d(g,s,a,o,e),g.mode&1&&wd(o,c,e),e=g,u=c;var x=e.updateQueue;if(x===null){var E=new Set;E.add(u),e.updateQueue=E}else x.add(u);break e}else{if(!(e&1)){wd(o,c,e),Qu();break e}u=Error(P(426))}}else if(ne&&a.mode&1){var _=xd(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),_d(_,s,a,o,e),Pu(qr(u,a));break e}}o=u=qr(u,a),we!==4&&(we=2),wi===null?wi=[o]:wi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=Om(o,u,e);hd(o,y);break e;case 1:a=u;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fn===null||!fn.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=Fm(o,a,e);hd(o,S);break e}}o=o.return}while(o!==null)}rg(n)}catch(C){e=C,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function tg(){var t=us.current;return us.current=ls,t===null?ls:t}function Qu(){(we===0||we===3||we===2)&&(we=4),Ee===null||!(zn&268435455)&&!(Ls&268435455)||en(Ee,Ae)}function fs(t,e){var n=J;J|=2;var r=tg();(Ee!==t||Ae!==e)&&(Rt=null,$n(t,e));do try{hw();break}catch(i){eg(t,i)}while(!0);if(Du(),J=n,us.current=r,ge!==null)throw Error(P(261));return Ee=null,Ae=0,we}function hw(){for(;ge!==null;)ng(ge)}function pw(){for(;ge!==null&&!$y();)ng(ge)}function ng(t){var e=og(t.alternate,t,Ke);t.memoizedProps=t.pendingProps,e===null?rg(t):ge=e,Ju.current=null}function rg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aw(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,ge=null;return}}else if(n=sw(n,e,Ke),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);we===0&&(we=5)}function In(t,e,n){var r=X,i=st.transition;try{st.transition=null,X=1,mw(t,e,n,r)}finally{st.transition=i,X=r}return null}function mw(t,e,n,r){do Rr();while(rn!==null);if(J&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ky(t,o),t===Ee&&(ge=Ee=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,sg(Jo,function(){return Rr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=st.transition,st.transition=null;var s=X;X=1;var a=J;J|=4,Ju.current=null,uw(t,n),Xm(n,t),Uv(ll),Ko=!!al,ll=al=null,t.current=n,cw(n),Vy(),J=a,X=s,st.transition=o}else t.current=n;if(wo&&(wo=!1,rn=t,ds=i),o=t.pendingLanes,o===0&&(fn=null),By(n.stateNode),Je(t,fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cs)throw cs=!1,t=bl,bl=null,t;return ds&1&&t.tag!==0&&Rr(),o=t.pendingLanes,o&1?t===Il?xi++:(xi=0,Il=t):xi=0,xn(),null}function Rr(){if(rn!==null){var t=Op(ds),e=st.transition,n=X;try{if(st.transition=null,X=16>t?16:t,rn===null)var r=!1;else{if(t=rn,rn=null,ds=0,J&6)throw Error(P(331));var i=J;for(J|=4,L=t.current;L!==null;){var o=L,s=o.child;if(L.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(L=c;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:vi(8,f,o)}var m=f.child;if(m!==null)m.return=f,L=m;else for(;L!==null;){f=L;var h=f.sibling,g=f.return;if(Wm(f),f===c){L=null;break}if(h!==null){h.return=g,L=h;break}L=g}}}var x=o.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var _=E.sibling;E.sibling=null,E=_}while(E!==null)}}L=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,L=s;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,L=y;break e}L=o.return}}var v=t.current;for(L=v;L!==null;){s=L;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,L=w;else e:for(s=v;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Us(9,a)}}catch(C){ue(a,a.return,C)}if(a===s){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(J=i,xn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(As,t)}catch{}r=!0}return r}finally{X=n,st.transition=e}}return!1}function Dd(t,e,n){e=qr(n,e),e=Om(t,e,1),t=dn(t,e,1),e=$e(),t!==null&&(Yi(t,1,e),Je(t,e))}function ue(t,e,n){if(t.tag===3)Dd(t,t,n);else for(;e!==null;){if(e.tag===3){Dd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){t=qr(n,t),t=Fm(e,t,1),e=dn(e,t,1),t=$e(),e!==null&&(Yi(e,1,t),Je(e,t));break}}e=e.return}}function gw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$e(),t.pingedLanes|=t.suspendedLanes&n,Ee===t&&(Ae&n)===n&&(we===4||we===3&&(Ae&130023424)===Ae&&500>fe()-Ku?$n(t,0):Wu|=n),Je(t,e)}function ig(t,e){e===0&&(t.mode&1?(e=lo,lo<<=1,!(lo&130023424)&&(lo=4194304)):e=1);var n=$e();t=$t(t,e),t!==null&&(Yi(t,e,n),Je(t,n))}function yw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ig(t,n)}function vw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),ig(t,n)}var og;og=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ze.current)He=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return He=!1,ow(t,e,n);He=!!(t.flags&131072)}else He=!1,ne&&e.flags&1048576&&um(e,ns,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fo(t,e),t=e.pendingProps;var i=Or(e,Ue.current);Ir(e,n),i=Gu(null,e,r,t,i,n);var o=Bu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(r)?(o=!0,es(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ou(e),i.updater=Ds,e.stateNode=i,i._reactInternals=e,yl(e,r,t,n),e=xl(null,e,r,!0,o,n)):(e.tag=0,ne&&o&&Ru(e),Fe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xw(r),t=ht(r,t),i){case 0:e=wl(null,e,r,t,n);break e;case 1:e=Td(null,e,r,t,n);break e;case 11:e=Ed(null,e,r,t,n);break e;case 14:e=Sd(null,e,r,ht(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),wl(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),Td(t,e,r,i,n);case 3:e:{if(Gm(e),t===null)throw Error(P(387));r=e.pendingProps,o=e.memoizedState,i=o.element,mm(t,e),os(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=qr(Error(P(423)),e),e=Cd(t,e,r,n,i);break e}else if(r!==i){i=qr(Error(P(424)),e),e=Cd(t,e,r,n,i);break e}else for(Qe=cn(e.stateNode.containerInfo.firstChild),Ze=e,ne=!0,yt=null,n=hm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fr(),r===i){e=Vt(t,e,n);break e}Fe(t,e,r,n)}e=e.child}return e;case 5:return gm(e),t===null&&pl(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ul(r,i)?s=null:o!==null&&ul(r,o)&&(e.flags|=32),qm(t,e),Fe(t,e,s,n),e.child;case 6:return t===null&&pl(e),null;case 13:return Bm(t,e,n);case 4:return Fu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$r(e,null,r,n):Fe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),Ed(t,e,r,i,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Z(rs,r._currentValue),r._currentValue=s,o!==null)if(St(o.value,s)){if(o.children===i.children&&!ze.current){e=Vt(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Ut(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),ml(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(P(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ml(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Fe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ir(e,n),i=lt(i),r=r(i),e.flags|=1,Fe(t,e,r,n),e.child;case 14:return r=e.type,i=ht(r,e.pendingProps),i=ht(r.type,i),Sd(t,e,r,i,n);case 15:return $m(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),Fo(t,e),e.tag=1,je(r)?(t=!0,es(e)):t=!1,Ir(e,n),Lm(e,r,i),yl(e,r,i,n),xl(null,e,r,!0,t,n);case 19:return Hm(t,e,n);case 22:return Vm(t,e,n)}throw Error(P(156,e.tag))};function sg(t,e){return Mp(t,e)}function ww(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(t,e,n,r){return new ww(t,e,n,r)}function Zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xw(t){if(typeof t=="function")return Zu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vu)return 11;if(t===wu)return 14}return 2}function pn(t,e){var n=t.alternate;return n===null?(n=ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qo(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Zu(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case dr:return Vn(n.children,i,o,e);case yu:s=8,i|=8;break;case qa:return t=ot(12,n,e,i|2),t.elementType=qa,t.lanes=o,t;case Ga:return t=ot(13,n,e,i),t.elementType=Ga,t.lanes=o,t;case Ba:return t=ot(19,n,e,i),t.elementType=Ba,t.lanes=o,t;case gp:return Os(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pp:s=10;break e;case mp:s=9;break e;case vu:s=11;break e;case wu:s=14;break e;case Yt:s=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=ot(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Vn(t,e,n,r){return t=ot(7,t,r,e),t.lanes=n,t}function Os(t,e,n,r){return t=ot(22,t,r,e),t.elementType=gp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ca(t,e,n){return t=ot(6,t,null,e),t.lanes=n,t}function ka(t,e,n){return e=ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _w(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ec(t,e,n,r,i,o,s,a,u){return t=new _w(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ot(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(o),t}function Ew(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ag(t){if(!t)return yn;t=t._reactInternals;e:{if(Yn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(je(n))return am(t,n,e)}return e}function lg(t,e,n,r,i,o,s,a,u){return t=ec(n,r,!0,t,i,o,s,a,u),t.context=ag(null),n=t.current,r=$e(),i=hn(n),o=Ut(r,i),o.callback=e??null,dn(n,o,i),t.current.lanes=i,Yi(t,i,r),Je(t,r),t}function Fs(t,e,n,r){var i=e.current,o=$e(),s=hn(i);return n=ag(n),e.context===null?e.context=n:e.pendingContext=n,e=Ut(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dn(i,e,s),t!==null&&(xt(t,i,s,o),Uo(t,i,s)),s}function hs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ud(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tc(t,e){Ud(t,e),(t=t.alternate)&&Ud(t,e)}function Sw(){return null}var ug=typeof reportError=="function"?reportError:function(t){console.error(t)};function nc(t){this._internalRoot=t}$s.prototype.render=nc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Fs(t,e,null,null)};$s.prototype.unmount=nc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jn(function(){Fs(null,t,null,null)}),e[Ft]=null}};function $s(t){this._internalRoot=t}$s.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zt.length&&e!==0&&e<Zt[n].priority;n++);Zt.splice(n,0,t),n===0&&Gp(t)}};function rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ld(){}function Tw(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=hs(s);o.call(c)}}var s=lg(e,r,t,0,null,!1,!1,"",Ld);return t._reactRootContainer=s,t[Ft]=s.current,Ni(t.nodeType===8?t.parentNode:t),jn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=hs(u);a.call(c)}}var u=ec(t,0,!1,null,null,!1,!1,"",Ld);return t._reactRootContainer=u,t[Ft]=u.current,Ni(t.nodeType===8?t.parentNode:t),jn(function(){Fs(e,u,n,r)}),u}function qs(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=hs(s);a.call(u)}}Fs(e,s,t,i)}else s=Tw(n,e,t,i,r);return hs(s)}Fp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=li(e.pendingLanes);n!==0&&(Eu(e,n|1),Je(e,fe()),!(J&6)&&(Gr=fe()+500,xn()))}break;case 13:jn(function(){var r=$t(t,1);if(r!==null){var i=$e();xt(r,t,1,i)}}),tc(t,1)}};Su=function(t){if(t.tag===13){var e=$t(t,134217728);if(e!==null){var n=$e();xt(e,t,134217728,n)}tc(t,134217728)}};$p=function(t){if(t.tag===13){var e=hn(t),n=$t(t,e);if(n!==null){var r=$e();xt(n,t,e,r)}tc(t,e)}};Vp=function(){return X};qp=function(t,e){var n=X;try{return X=t,e()}finally{X=n}};Za=function(t,e,n){switch(e){case"input":if(ja(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ns(r);if(!i)throw Error(P(90));vp(r),ja(r,i)}}}break;case"textarea":xp(t,n);break;case"select":e=n.value,e!=null&&Cr(t,!!n.multiple,e,!1)}};Ap=Yu;bp=jn;var Cw={usingClientEntryPoint:!1,Events:[Qi,mr,Ns,Cp,kp,Yu]},ri={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kw={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Np(t),t===null?null:t.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||Sw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{As=xo.inject(kw),bt=xo}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cw;tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(e))throw Error(P(200));return Ew(t,e,null,n)};tt.createRoot=function(t,e){if(!rc(t))throw Error(P(299));var n=!1,r="",i=ug;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ec(t,1,!1,null,null,n,!1,r,i),t[Ft]=e.current,Ni(t.nodeType===8?t.parentNode:t),new nc(e)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Np(e),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return jn(t)};tt.hydrate=function(t,e,n){if(!Vs(e))throw Error(P(200));return qs(null,t,e,!0,n)};tt.hydrateRoot=function(t,e,n){if(!rc(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=ug;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=lg(e,null,t,1,n??null,i,!1,o,s),t[Ft]=e.current,Ni(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $s(e)};tt.render=function(t,e,n){if(!Vs(e))throw Error(P(200));return qs(null,t,e,!1,n)};tt.unmountComponentAtNode=function(t){if(!Vs(t))throw Error(P(40));return t._reactRootContainer?(jn(function(){qs(null,null,t,!1,function(){t._reactRootContainer=null,t[Ft]=null})}),!0):!1};tt.unstable_batchedUpdates=Yu;tt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vs(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return qs(t,e,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(t){console.error(t)}}cg(),cp.exports=tt;var Aw=cp.exports,Od=Aw;$a.createRoot=Od.createRoot,$a.hydrateRoot=Od.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vi(){return Vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vi.apply(this,arguments)}var on;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(on||(on={}));const Fd="popstate";function bw(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:u=""}=Xn(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Pl("",{pathname:s,search:a,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof o=="string"?o:ps(o))}function r(i,o){Gs(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Rw(e,n,r,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iw(){return Math.random().toString(36).substr(2,8)}function $d(t,e){return{usr:t.state,key:t.key,idx:e}}function Pl(t,e,n,r){return n===void 0&&(n=null),Vi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xn(e):e,{state:n,key:e&&e.key||r||Iw()})}function ps(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Rw(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=on.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(Vi({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function m(){a=on.Pop;let _=f(),y=_==null?null:_-c;c=_,u&&u({action:a,location:E.location,delta:y})}function h(_,y){a=on.Push;let v=Pl(E.location,_,y);n&&n(v,_),c=f()+1;let w=$d(v,c),S=E.createHref(v);try{s.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}o&&u&&u({action:a,location:E.location,delta:1})}function g(_,y){a=on.Replace;let v=Pl(E.location,_,y);n&&n(v,_),c=f();let w=$d(v,c),S=E.createHref(v);s.replaceState(w,"",S),o&&u&&u({action:a,location:E.location,delta:0})}function x(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof _=="string"?_:ps(_);return v=v.replace(/ $/,"%20"),he(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let E={get action(){return a},get location(){return t(i,s)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Fd,m),u=_,()=>{i.removeEventListener(Fd,m),u=null}},createHref(_){return e(i,_)},createURL:x,encodeLocation(_){let y=x(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(_){return s.go(_)}};return E}var Vd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vd||(Vd={}));function Nw(t,e,n){return n===void 0&&(n="/"),Pw(t,e,n)}function Pw(t,e,n,r){let i=typeof e=="string"?Xn(e):e,o=ic(i.pathname||"/",n);if(o==null)return null;let s=dg(t);Mw(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=zw(o);a=Gw(s[u],c)}return a}function dg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(he(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=mn([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(he(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dg(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Vw(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of fg(o.path))i(o,s,u)}),e}function fg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=fg(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Mw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dw=/^:[\w-]+$/,Uw=3,Lw=2,Ow=1,Fw=10,$w=-2,qd=t=>t==="*";function Vw(t,e){let n=t.split("/"),r=n.length;return n.some(qd)&&(r+=$w),e&&(r+=Lw),n.filter(i=>!qd(i)).reduce((i,o)=>i+(Dw.test(o)?Uw:o===""?Ow:Fw),r)}function qw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Gw(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=Bw({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),h=u.route;if(!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:mn([o,m.pathname]),pathnameBase:Yw(mn([o,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(o=mn([o,m.pathnameBase]))}return s}function Bw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Hw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,m)=>{let{paramName:h,isOptional:g}=f;if(h==="*"){let E=a[m]||"";s=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=a[m];return g&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function Hw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ic(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jw=t=>jw.test(t);function Ww(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xn(t):t,o;if(n)if(Jw(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Gs(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=Gd(n.substring(1),"/"):o=Gd(n,e)}else o=e;return{pathname:o,search:Xw(r),hash:Qw(i)}}function Gd(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Aa(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oc(t,e){let n=Kw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sc(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xn(t):(i=Vi({},t),he(!i.pathname||!i.pathname.includes("?"),Aa("?","pathname","search",i)),he(!i.pathname||!i.pathname.includes("#"),Aa("#","pathname","hash",i)),he(!i.search||!i.search.includes("#"),Aa("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),m-=1;i.pathname=h.join("/")}a=m>=0?e[m]:"/"}let u=Ww(i,a),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const mn=t=>t.join("/").replace(/\/\/+/g,"/"),Yw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hg=["post","put","patch","delete"];new Set(hg);const ex=["get",...hg];new Set(ex);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qi.apply(this,arguments)}const ac=A.createContext(null),tx=A.createContext(null),_n=A.createContext(null),Bs=A.createContext(null),Bt=A.createContext({outlet:null,matches:[],isDataRoute:!1}),pg=A.createContext(null);function nx(t,e){let{relative:n}=e===void 0?{}:e;jr()||he(!1);let{basename:r,navigator:i}=A.useContext(_n),{hash:o,pathname:s,search:a}=gg(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:mn([r,s])),i.createHref({pathname:u,search:a,hash:o})}function jr(){return A.useContext(Bs)!=null}function Ht(){return jr()||he(!1),A.useContext(Bs).location}function mg(t){A.useContext(_n).static||A.useLayoutEffect(t)}function zt(){let{isDataRoute:t}=A.useContext(Bt);return t?gx():rx()}function rx(){jr()||he(!1);let t=A.useContext(ac),{basename:e,future:n,navigator:r}=A.useContext(_n),{matches:i}=A.useContext(Bt),{pathname:o}=Ht(),s=JSON.stringify(oc(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return mg(()=>{a.current=!0}),A.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let m=sc(c,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:mn([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,s,o,t])}function ix(){let{matches:t}=A.useContext(Bt),e=t[t.length-1];return e?e.params:{}}function gg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(_n),{matches:i}=A.useContext(Bt),{pathname:o}=Ht(),s=JSON.stringify(oc(i,r.v7_relativeSplatPath));return A.useMemo(()=>sc(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function ox(t,e){return sx(t,e)}function sx(t,e,n,r){jr()||he(!1);let{navigator:i}=A.useContext(_n),{matches:o}=A.useContext(Bt),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Ht(),f;if(e){var m;let _=typeof e=="string"?Xn(e):e;u==="/"||(m=_.pathname)!=null&&m.startsWith(u)||he(!1),f=_}else f=c;let h=f.pathname||"/",g=h;if(u!=="/"){let _=u.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=Nw(t,{pathname:g}),E=dx(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:mn([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:mn([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&E?A.createElement(Bs.Provider,{value:{location:qi({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:on.Pop}},E):E}function ax(){let t=mx(),e=Zw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const lx=A.createElement(ax,null);class ux extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Bt.Provider,{value:this.props.routeContext},A.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cx(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(ac);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Bt.Provider,{value:e},r)}function dx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);f>=0||he(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:h,errors:g}=n,x=m.route.loader&&h[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,m,h)=>{let g,x=!1,E=null,_=null;n&&(g=a&&m.route.id?a[m.route.id]:void 0,E=m.route.errorElement||lx,u&&(c<0&&h===0?(yx("route-fallback"),x=!0,_=null):c===h&&(x=!0,_=m.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),v=()=>{let w;return g?w=E:x?w=_:m.route.Component?w=A.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=f,A.createElement(cx,{match:m,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?A.createElement(ux,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var yg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yg||{}),vg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vg||{});function fx(t){let e=A.useContext(ac);return e||he(!1),e}function hx(t){let e=A.useContext(tx);return e||he(!1),e}function px(t){let e=A.useContext(Bt);return e||he(!1),e}function wg(t){let e=px(),n=e.matches[e.matches.length-1];return n.route.id||he(!1),n.route.id}function mx(){var t;let e=A.useContext(pg),n=hx(),r=wg();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gx(){let{router:t}=fx(yg.UseNavigateStable),e=wg(vg.UseNavigateStable),n=A.useRef(!1);return mg(()=>{n.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qi({fromRouteId:e},o)))},[t,e])}const Bd={};function yx(t,e,n){Bd[t]||(Bd[t]=!0)}function vx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wx(t){let{to:e,replace:n,state:r,relative:i}=t;jr()||he(!1);let{future:o,static:s}=A.useContext(_n),{matches:a}=A.useContext(Bt),{pathname:u}=Ht(),c=zt(),f=sc(e,oc(a,o.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(f);return A.useEffect(()=>c(JSON.parse(m),{replace:n,state:r,relative:i}),[c,m,i,n,r]),null}function Rn(t){he(!1)}function xx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=on.Pop,navigator:o,static:s=!1,future:a}=t;jr()&&he(!1);let u=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:u,navigator:o,static:s,future:qi({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=Xn(r));let{pathname:f="/",search:m="",hash:h="",state:g=null,key:x="default"}=r,E=A.useMemo(()=>{let _=ic(f,u);return _==null?null:{location:{pathname:_,search:m,hash:h,state:g,key:x},navigationType:i}},[u,f,m,h,g,x,i]);return E==null?null:A.createElement(_n.Provider,{value:c},A.createElement(Bs.Provider,{children:n,value:E}))}function _x(t){let{children:e,location:n}=t;return ox(Ml(e),n)}new Promise(()=>{});function Ml(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let o=[...e,i];if(r.type===A.Fragment){n.push.apply(n,Ml(r.props.children,o));return}r.type!==Rn&&he(!1),!r.props.index||!r.props.children||he(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ml(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}function Ex(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Sx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tx(t,e){return t.button===0&&(!e||e==="_self")&&!Sx(t)}const Cx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kx="6";try{window.__reactRouterVersion=kx}catch{}const Ax="startTransition",Hd=gy[Ax];function bx(t){let{basename:e,children:n,future:r,window:i}=t,o=A.useRef();o.current==null&&(o.current=bw({window:i,v5Compat:!0}));let s=o.current,[a,u]=A.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},f=A.useCallback(m=>{c&&Hd?Hd(()=>u(m)):u(m)},[u,c]);return A.useLayoutEffect(()=>s.listen(f),[s,f]),A.useEffect(()=>vx(r),[r]),A.createElement(xx,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const Ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:u,to:c,preventScrollReset:f,viewTransition:m}=e,h=Ex(e,Cx),{basename:g}=A.useContext(_n),x,E=!1;if(typeof c=="string"&&Rx.test(c)&&(x=c,Ix))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),C=ic(S.pathname,g);S.origin===w.origin&&C!=null?c=C+S.search+S.hash:E=!0}catch{}let _=nx(c,{relative:i}),y=Nx(c,{replace:s,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:m});function v(w){r&&r(w),w.defaultPrevented||y(w)}return A.createElement("a",Dl({},h,{href:x||_,onClick:E||o?r:v,ref:n,target:u}))});var zd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zd||(zd={}));var jd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jd||(jd={}));function Nx(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,u=zt(),c=Ht(),f=gg(t,{relative:s});return A.useCallback(m=>{if(Tx(m,n)){m.preventDefault();let h=r!==void 0?r:ps(c)===ps(f);u(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,u,f,r,i,n,t,o,s,a])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Px={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),N=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:u,...c},f)=>A.createElement("svg",{ref:f,...Px,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Mx(t)}`,a].join(" "),...c},[...e.map(([m,h])=>A.createElement(m,h)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=N("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=N("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=N("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=N("Aperture",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=N("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=N("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=N("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=N("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=N("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=N("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=N("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=N("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=N("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=N("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=N("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=N("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=N("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=N("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=N("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=N("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=N("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=N("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=N("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=N("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=N("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=N("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=N("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=N("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=N("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=N("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=N("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"1vg67v"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=N("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=N("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=N("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=N("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=N("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=N("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=N("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=N("HeartCrack",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2",key:"xjdxli"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=N("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=N("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=N("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=N("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=N("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=N("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=N("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=N("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=N("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=N("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=N("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=N("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=N("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=N("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=N("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=N("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=N("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=N("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=N("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=N("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=N("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=N("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=N("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=N("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=N("Paintbrush",[["path",{d:"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z",key:"m6k5sh"}],["path",{d:"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7",key:"arzq70"}],["path",{d:"M14.5 17.5 4.5 15",key:"s7fvrz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=N("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=N("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=N("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=N("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=N("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=N("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=N("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=N("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=N("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=N("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=N("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=N("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=N("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=N("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=N("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=N("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=N("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=N("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=N("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=N("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=N("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=N("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=N("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=N("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=N("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=N("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=N("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=N("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=N("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=N("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=N("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=N("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=N("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=N("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Hs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function B_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(m){s(m)}}function u(f){try{c(r.throw(f))}catch(m){s(m)}}function c(f){f.done?o(f.value):i(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}const H_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class hc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class z_ extends hc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wd extends hc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Kd extends hc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ol;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ol||(Ol={}));class j_{constructor(e,{headers:n={},customFetch:r,region:i=Ol.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=H_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return B_(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{const{headers:a,method:u,body:c,signal:f,timeout:m}=r;let h={},{region:g}=r;g||(g=this.region);const x=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,x.searchParams.set("forceFunctionRegion",g));let E;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",E=c):typeof c=="string"?(h["Content-Type"]="text/plain",E=c):typeof FormData<"u"&&c instanceof FormData?E=c:(h["Content-Type"]="application/json",E=JSON.stringify(c)):E=c;let _=f;m&&(s=new AbortController,o=setTimeout(()=>s.abort(),m),f?(_=s.signal,f.addEventListener("abort",()=>s.abort())):_=s.signal);const y=yield this.fetch(x.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:E,signal:_}).catch(C=>{throw new z_(C)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new Wd(y);if(!y.ok)throw new Kd(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"||w==="application/pdf"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Kd||a instanceof Wd?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var J_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},W_=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,a=null,u=null,c=o.status,f=o.statusText;if(o.ok){var m,h;if(n.method!=="HEAD"){var g;const y=await o.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const E=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),_=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&_&&_.length>1&&(u=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,u=null,c=406,f="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var x;const E=await o.text();try{s=JSON.parse(E),Array.isArray(s)&&o.status===404&&(a=[],s=null,c=200,f="OK")}catch{o.status===404&&E===""?(c=204,f="No Content"):s={message:E}}if(s&&n.isMaybeSingle&&(!(s==null||(x=s.details)===null||x===void 0)&&x.includes("0 rows"))&&(s=null,c=200,f="OK"),s&&n.shouldThrowOnError)throw new J_(s)}return{error:s,data:a,count:u,status:c,statusText:f}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="";const u=o==null?void 0:o.cause;if(u){var c,f,m,h;const x=(c=u==null?void 0:u.message)!==null&&c!==void 0?c:"",E=(f=u==null?void 0:u.code)!==null&&f!==void 0?f:"";a=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"Error"}: ${x}`,E&&(a+=` (${E})`),u!=null&&u.stack&&(a+=`
${u.stack}`)}else{var g;a=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},K_=class extends W_{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Yd=new RegExp("[,()]");var sr=class extends K_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Yd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Yd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Y_=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new sr({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(o.length>0){const s=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new sr({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new sr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new sr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new sr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},X_=class Vg{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Y_(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Vg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a;const u=new URL(`${this.url}/rpc/${e}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([m,h])=>h!==void 0).map(([m,h])=>[m,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([m,h])=>{u.searchParams.append(m,h)})):(a="POST",c=n);const f=new Headers(this.headers);return o&&f.set("Prefer",`count=${o}`),new sr({method:a,url:u,headers:f,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class Q_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Z_="2.88.0",eE=`realtime-js/${Z_}`,qg="1.0.0",tE="2.0.0",Xd=qg,Fl=1e4,nE=1e3,rE=100;var Qt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qt||(Qt={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var gt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gt||(gt={}));var $l;(function(t){t.websocket="websocket"})($l||($l={}));var Mn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mn||(Mn={}));class iE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,o;const s=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",u=(o=e.join_ref)!==null&&o!==void 0?o:"",c=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+a.length+s.length+c.length+m.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(g),E=0;x.setUint8(E++,this.KINDS.userBroadcastPush),x.setUint8(E++,u.length),x.setUint8(E++,a.length),x.setUint8(E++,s.length),x.setUint8(E++,c.length),x.setUint8(E++,m.length),x.setUint8(E++,n),Array.from(u,y=>x.setUint8(E++,y.charCodeAt(0))),Array.from(a,y=>x.setUint8(E++,y.charCodeAt(0))),Array.from(s,y=>x.setUint8(E++,y.charCodeAt(0))),Array.from(c,y=>x.setUint8(E++,y.charCodeAt(0))),Array.from(m,y=>x.setUint8(E++,y.charCodeAt(0)));var _=new Uint8Array(g.byteLength+r.byteLength);return _.set(new Uint8Array(g),0),_.set(new Uint8Array(r),g.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,s,a,u]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:u})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4);let u=this.HEADER_LENGTH+4;const c=r.decode(e.slice(u,u+i));u=u+i;const f=r.decode(e.slice(u,u+o));u=u+o;const m=r.decode(e.slice(u,u+s));u=u+s;const h=e.slice(u,e.byteLength),g=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,x={type:this.BROADCAST_EVENT,event:f,payload:g};return s>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Gg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const Qd=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=oE(s,t,e,i),o),{}):{}},oE=(t,e,n,r)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=n[t];return o&&!r.includes(o)?Bg(o,s):Vl(s)},Bg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return uE(e,n)}switch(t){case Q.bool:return sE(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return aE(e);case Q.json:case Q.jsonb:return lE(e);case Q.timestamp:return cE(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Vl(e);default:return Vl(e)}},Vl=t=>t,sE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},uE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Bg(e,a))}return t},cE=t=>typeof t=="string"?t.replace(" ","T"):t,Hg=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ba{constructor(e,n,r={},i=Fl){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Zd||(Zd={}));class _i{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_i.syncState(this.state,i,o,s),this.pendingDiffs.forEach(u=>{this.state=_i.syncDiff(this.state,u,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_i.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),s=this.transformState(n),a={},u={};return this.map(o,(c,f)=>{s[c]||(u[c]=f)}),this.map(s,(c,f)=>{const m=o[c];if(m){const h=f.map(_=>_.presence_ref),g=m.map(_=>_.presence_ref),x=f.filter(_=>g.indexOf(_.presence_ref)<0),E=m.filter(_=>h.indexOf(_.presence_ref)<0);x.length>0&&(a[c]=x),E.length>0&&(u[c]=E)}else a[c]=f}),this.syncDiff(o,{joins:a,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,u)=>{var c;const f=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),f.length>0){const m=e[a].map(g=>g.presence_ref),h=f.filter(g=>m.indexOf(g.presence_ref)<0);e[a].unshift(...h)}r(a,f,u)}),this.map(s,(a,u)=>{let c=e[a];if(!c)return;const f=u.map(m=>m.presence_ref);c=c.filter(m=>f.indexOf(m.presence_ref)<0),e[a]=c,i(a,c,u),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ef;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ef||(ef={}));var Ei;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ei||(Ei={}));var Nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class Er{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ba(this,gt.join,this.params,this.timeout),this.rejoinTimer=new Gg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new _i(this),this.broadcastEndpointURL=Hg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:s,presence:a,private:u}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Ei.PRESENCE]&&this.bindings[Ei.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Nt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Nt.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,_=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,y=[];for(let v=0;v<_;v++){const w=E[v],{filter:{event:S,schema:C,table:k,filter:T}}=w,b=g&&g[v];if(b&&b.event===S&&Er.isFilterValueEqual(b.schema,C)&&Er.isFilterValueEqual(b.table,k)&&Er.isFilterValueEqual(b.filter,T))y.push(Object.assign(Object.assign({},w),{id:b.id}));else{this.unsubscribe(),this.state=ye.errored,e==null||e(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Nt.SUBSCRIBED);return}}).receive("error",g=>{this.state=ye.errored,e==null||e(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ye.joined&&e===Ei.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const c=await a.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:s}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ba(this,gt.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ba(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:f}=gt;if(r&&[a,u,c,f].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,E,_;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(E=g.filter)===null||E===void 0?void 0:E.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(g=>g.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var x,E,_,y,v,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const S=g.id,C=(x=g.filter)===null||x===void 0?void 0:x.event;return S&&((E=n.ids)===null||E===void 0?void 0:E.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(v=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:E,table:_,commit_timestamp:y,type:v,errors:w}=x;h=Object.assign(Object.assign({},{schema:E,table:_,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}g.callback(h,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Er.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gt.close,{},e)}_onError(e){this._on(gt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Qd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Qd(e.columns,e.old_record)),n}}const Ia=()=>{},_o={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dE=[1e3,2e3,5e3,1e4],fE=1e4,hE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pE{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fl,this.transport=null,this.heartbeatIntervalMs=_o.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ia,this.ref=0,this.reconnectTimer=null,this.vsn=Xd,this.logger=Ia,this.conn=null,this.sendBuffer=[],this.serializer=new iE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$l.websocket}`,this.httpEndpoint=Hg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Q_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qt.connecting:return Mn.Connecting;case Qt.open:return Mn.Open;case Qt.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Er(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(nE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_o.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Qt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qt.open||this.conn.readyState===Qt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([hE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:eE};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(gt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Gg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_o.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,s,a,u,c,f,m,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Fl,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:_o.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ia,this.vsn=(u=e==null?void 0:e.vsn)!==null&&u!==void 0?u:Xd,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:x=>dE[x-1]||fE,this.vsn){case qg:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:(x,E)=>E(JSON.stringify(x)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(x,E)=>E(JSON.parse(x));break;case tE:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Bi=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mE(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function gE(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function yE(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:s}){const a=mE(t.baseUrl,r,i),u=await gE(t.auth),c=await e(a,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...u,...s},body:o?JSON.stringify(o):void 0}),f=await c.text(),m=(c.headers.get("content-type")||"").includes("application/json"),h=m&&f?JSON.parse(f):f;if(!c.ok){const g=m?h:void 0,x=g==null?void 0:g.error;throw new Bi((x==null?void 0:x.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:g})}return{status:c.status,headers:c.headers,data:h}}}}function Eo(t){return t.join("")}var vE=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Eo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eo(t.namespace)}`}),!0}catch(e){if(e instanceof Bi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Bi&&n.status===409)return;throw n}}};function er(t){return t.join("")}var wE=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${er(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${er(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${er(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${er(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${er(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${er(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Bi&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Bi&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},xE=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=yE({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new vE(this.client,e),this.tableOps=new wE(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},zs=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var _E=class extends zs{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ql=class extends zs{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const pc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EE=()=>Response,Gl=t=>{if(Array.isArray(t))return t.map(n=>Gl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Gl(r)}),e},SE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},TE=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Hi(t){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(t)}function CE(t,e){if(Hi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kE(t){var e=CE(t,"string");return Hi(e)=="symbol"?e:e+""}function AE(t,e,n){return(e=kE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tf(Object(n),!0).forEach(function(r){AE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Ra=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},bE=async(t,e,n)=>{t instanceof await EE()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new _E(Ra(r),i,o))}).catch(r=>{e(new ql(Ra(r),r))}):e(new ql(Ra(t),t))},IE=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(SE(r)?(i.headers=$({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),$($({},i),n))};async function eo(t,e,n,r,i,o){return new Promise((s,a)=>{t(n,IE(e,r,i,o)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>bE(u,a,r))})}async function zi(t,e,n,r){return eo(t,"GET",e,n,r)}async function pt(t,e,n,r,i){return eo(t,"POST",e,r,i,n)}async function Bl(t,e,n,r,i){return eo(t,"PUT",e,r,i,n)}async function RE(t,e,n,r){return eo(t,"HEAD",e,$($({},n),{},{noResolveJson:!0}),r)}async function mc(t,e,n,r,i){return eo(t,"DELETE",e,r,i,n)}var NE=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ie(e))return{data:null,error:e};throw e}}};let zg;zg=Symbol.toStringTag;var PE=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[zg]="BlobDownloadBuilder",this.promise=null}asStream(){return new NE(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ie(e))return{data:null,error:e};throw e}}};const ME={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var DE=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=pc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const s=$($({},nf),r);let a=$($({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",i.encodeMetadata(u)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),u&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(u))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,u&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r!=null&&r.headers&&(a=$($({},a),r.headers));const c=i._removeEmptyFolders(e),f=i._getFinalPath(c),m=await(t=="PUT"?Bl:pt)(i.fetch,`${i.url}/object/${f}`,o,$({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ie(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let u;const c=$({upsert:nf.upsert},r),f=$($({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType),{data:{path:o,fullPath:(await Bl(i.fetch,a.toString(),u,{headers:f})).Key},error:null}}catch(u){if(i.shouldThrowOnError)throw u;if(ie(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=$({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await pt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+o.url),a=s.searchParams.get("token");if(!a)throw new zs("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await pt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await pt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await pt(r.fetch,`${r.url}/object/sign/${i}`,$({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await pt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>$($({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),s=()=>zi(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new PE(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Gl(await zi(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await RE(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ie(r)&&r instanceof ql){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await mc(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=$($($({},ME),e),{},{prefix:t||""});return{data:await pt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=$({},t);return{data:await pt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const jg="2.88.0",Jg={"X-Client-Info":`storage-js/${jg}`};var UE=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=$($({},Jg),e),this.fetch=pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await zi(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await zi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await pt(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Bl(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await pt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await mc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},LE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=$($({},Jg),e),this.fetch=pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await pt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await zi(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await mc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!TE(t))throw new zs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new xE({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const s=i[o];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(i,a),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}};const gc={"X-Client-Info":`storage-js/${jg}`,"Content-Type":"application/json"};var Wg=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Na=class extends Wg{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},OE=class extends Wg{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const yc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$E=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new Na(rf(o),r,s))}).catch(()=>{const o=r+"";e(new Na(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new Na(i.statusText||`HTTP ${r} error`,r,o))}}else e(new OE(rf(t),t))},VE=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(FE(r)?(i.headers=$({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,$($({},i),n)):i};async function qE(t,e,n,r,i,o){return new Promise((s,a)=>{t(n,VE(e,r,i,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>s(u)).catch(u=>$E(u,a,r))})}async function Xe(t,e,n,r,i){return qE(t,"POST",e,r,i,n)}var GE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=$($({},gc),e),this.fetch=yc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Xe(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Xe(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Xe(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Xe(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}},BE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=$($({},gc),e),this.fetch=yc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Xe(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Xe(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Xe(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Xe(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Xe(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}},HE=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=$($({},gc),e),this.fetch=yc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Xe(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Xe(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Xe(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Xe(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}},zE=class extends HE{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new jE(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},jE=class extends GE{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,$($({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,$($({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new JE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},JE=class extends BE{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,$($({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,$($({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,$($({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,$($({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,$($({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},WE=class extends UE{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new DE(this.url,this.headers,t,this.fetch)}get vectors(){return new zE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new LE(this.url+"/iceberg",this.headers,this.fetch)}};const Kg="2.88.0",ar=30*1e3,Hl=3,Pa=Hl*ar,KE="http://localhost:9999",YE="supabase.auth.token",XE={"X-Client-Info":`gotrue-js/${Kg}`},zl="X-Supabase-Api-Version",Yg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZE=10*60*1e3;class ji extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class eS extends ji{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tS(t){return O(t)&&t.name==="AuthApiError"}class Dn extends ji{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jt extends ji{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class We extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nS(t){return O(t)&&t.name==="AuthSessionMissingError"}class tr extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class So extends jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class To extends jt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rS(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class of extends jt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iS extends jt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jl extends jt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ma(t){return O(t)&&t.name==="AuthRetryableFetchError"}class sf extends jt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jl extends jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),af=` 	
\r=`.split(""),oS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<af.length;e+=1)t[af[e].charCodeAt(0)]=-2;for(let e=0;e<gs.length;e+=1)t[gs[e].charCodeAt(0)]=e;return t})();function lf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gs[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gs[r]),e.queuedBits-=6}}function Xg(t,e,n){const r=oS[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function uf(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{lS(s,r,n)};for(let s=0;s<t.length;s+=1)Xg(t.charCodeAt(s),i,o);return e.join("")}function sS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function aS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}sS(r,e)}}function lS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Nr(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Xg(t.charCodeAt(i),n,r);return new Uint8Array(e)}function uS(t){const e=[];return aS(t,n=>e.push(n)),new Uint8Array(e)}function Fn(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>lf(i,n,r)),lf(null,n,r),e.join("")}function cS(t){return Math.round(Date.now()/1e3)+t}function dS(){return Symbol("auth-callback")}const Ce=()=>typeof window<"u"&&typeof document<"u",kn={tested:!1,writable:!1},Qg=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kn.tested)return kn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),kn.tested=!0,kn.writable=!0}catch{kn.tested=!0,kn.writable=!1}return kn.writable};function fS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Zg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",lr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},An=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Te=async(t,e)=>{await t.removeItem(e)};class js{constructor(){this.promise=new js.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}js.promiseConstructor=Promise;function Da(t){const e=t.split(".");if(e.length!==3)throw new Jl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!QE.test(e[r]))throw new Jl("JWT not in base64url format");return{header:JSON.parse(uf(e[0])),payload:JSON.parse(uf(e[1])),signature:Nr(e[2]),raw:{header:e[0],payload:e[1]}}}async function pS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function mS(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function gS(t){return("0"+t.toString(16)).substr(-2)}function yS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,gS).join("")}async function vS(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function wS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await vS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nr(t,e,n=!1){const r=yS();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await lr(t,`${e}-code-verifier`,i);const o=await wS(r);return[o,r===o?"plain":"s256"]}const xS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _S(t){const e=t.headers.get(zl);if(!e||!e.match(xS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ES(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function SS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rr(t){if(!TS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ua(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CS(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function cf(t){return JSON.parse(JSON.stringify(t))}const Nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kS=[502,503,504];async function df(t){var e;if(!hS(t))throw new jl(Nn(t),0);if(kS.includes(t.status))throw new jl(Nn(t),t.status);let n;try{n=await t.json()}catch(o){throw new Dn(Nn(o),o)}let r;const i=_S(t);if(i&&i.getTime()>=Yg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sf(Nn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new sf(Nn(n),t.status,n.weak_password.reasons);throw new eS(Nn(n),t.status||500,r)}const AS=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function F(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[zl]||(o[zl]=Yg["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await bS(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function bS(t,e,n,r,i,o){const s=AS(e,r,i,o);let a;try{a=await t(n,Object.assign({},s))}catch(u){throw console.error(u),new jl(Nn(u),0)}if(a.ok||await df(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(u){await df(u)}}function ft(t){var e;let n=null;NS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=cS(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ff(t){const e=ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function tn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function IS(t){return{data:t,error:null}}function RS(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=Hs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},s);return{data:{properties:a,user:u},error:null}}function hf(t){return t}function NS(t){return t.access_token&&t.refresh_token&&t.expires_in}const La=["global","local","others"];class PS{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Zg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=La[0]){if(La.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${La.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:tn})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Hs(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:RS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tn})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:hf});if(f.error)throw f.error;const m=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);c[`${_}Page`]=E}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(O(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){rr(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tn})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){rr(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:tn})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){rr(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:tn})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rr(e.userId);try{const{data:n,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(e){rr(e.userId),rr(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,s,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await F(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:hf});if(f.error)throw f.error;const m=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);c[`${_}Page`]=E}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(O(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await F(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await F(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await F(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}}function pf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ir={debug:!!(globalThis&&Qg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class e0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MS extends e0{}async function DS(t,e,n){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new MS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ir.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function US(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function t0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function LS(t){return parseInt(t,16)}function OS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function FS(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:u,resources:c,scheme:f,uri:m,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=t0(t.address),x=f?`${f}://${r}`:r,E=t.statement?`${t.statement}
`:"",_=`${x} wants you to sign in with your Ethereum account:
${g}

${E}`;let y=`URI: ${m}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),u&&(y+=`
Request ID: ${u}`),c){let v=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}y+=v}return`${_}
${y}`}class me extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ys extends me{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function $S({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(n0(s)){if(o.rp.id!==s)return new me({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function VS({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(n0(r)){if(n.rpId!==r)return new me({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const GS=new qS;function BS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Hs(t,["challenge","user","excludeCredentials"]),o=Nr(e).buffer,s=Object.assign(Object.assign({},n),{id:Nr(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const c=r[u];a.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Nr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function HS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Hs(t,["challenge","allowCredentials"]),i=Nr(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Nr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function zS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fn(new Uint8Array(i.authenticatorData)),clientDataJSON:Fn(new Uint8Array(i.clientDataJSON)),signature:Fn(new Uint8Array(i.signature)),userHandle:i.userHandle?Fn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mf(){var t,e;return!!(Ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function JS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ys("Browser returned unexpected credential type",e)}:{data:null,error:new ys("Empty credential response",e)}}catch(e){return{data:null,error:$S({error:e,options:t})}}}async function WS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ys("Browser returned unexpected credential type",e)}:{data:null,error:new ys("Empty credential response",e)}}catch(e){return{data:null,error:VS({error:e,options:t})}}}const KS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},YS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vs(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(e(s)){const a=r[o];e(a)?r[o]=vs(a,s):r[o]=vs(s)}else r[o]=s}return r}function XS(t,e){return vs(KS,t,e||{})}function QS(t,e){return vs(YS,t,e||{})}class ZS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:a};const u=i??GS.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=XS(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:m}=await JS({publicKey:c,signal:u});return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const c=QS(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:m}=await WS(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Dn("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ji("rpId is required for WebAuthn authentication")};try{if(!mf())return{data:null,error:new Dn("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};const{webauthn:u}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Dn("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ji("rpId is required for WebAuthn registration")};try{if(!mf())return{data:null,error:new Dn("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:u,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:s.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Dn("Unexpected error in register",s)}}}}US();const eT={url:KE,storageKey:YE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gf(t,e,n){return await n()}const or={};class Ji{get jwks(){var e,n;return(n=(e=or[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){or[this.storageKey]=Object.assign(Object.assign({},or[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=or[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){or[this.storageKey]=Object.assign(Object.assign({},or[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},eT),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Ji.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ji.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ce()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new PS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Zg(o.fetch),this.lock=o.lock||gf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Ce()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=DS:this.lock=gf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ZS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Qg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=pf(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ce()&&(n=fS(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ce()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),rS(o)){const u=(e=o.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?this._returnResult({error:n}):this._returnResult({error:new Dn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ft}),{data:s,error:a}=o;if(a||!s)return this._returnResult({data:{user:null,session:null},error:a});const u=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(o){if(O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:f,password:m,options:h}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await nr(this.storage,this.storageKey)),o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:x},xform:ft})}else if("phone"in e){const{phone:f,password:m,options:h}=e;o=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ft})}else throw new So("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return await Te(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const u=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(o){if(await Te(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:a}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ff})}else if("phone"in e){const{phone:o,password:s,options:a}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ff})}else throw new So("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new tr;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,s,a,u,c,f,m,h;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:E,wallet:_,statement:y,options:v}=e;let w;if(Ce())if(typeof _=="object")w=_;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")w=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=_}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),C=await w.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=t0(C[0]);let T=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const I=await w.request({method:"eth_chainId"});T=LS(I)}const b={domain:S.host,address:k,statement:y,uri:S.href,version:"1",chainId:T,nonce:(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=v==null?void 0:v.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=FS(b),x=await w.request({method:"personal_sign",params:[OS(g),k]})}try{const{data:E,error:_}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ft});if(_)throw _;if(!E||!E.session||!E.user){const y=new tr;return this._returnResult({data:{user:null,session:null},error:y})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:_})}catch(E){if(O(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,i,o,s,a,u,c,f,m,h,g;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:_,wallet:y,statement:v,options:w}=e;let S;if(Ce())if(typeof y=="object")S=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const C=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),v?{statement:v}:null));let T;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")T=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)T=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)x=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),E=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((m=(f=w==null?void 0:w.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...w.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=k}}try{const{data:_,error:y}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Fn(E)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ft});if(y)throw y;if(!_||!_.session||!_.user){const v=new tr;return this._returnResult({data:{user:null,session:null},error:v})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:y})}catch(_){if(O(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await An(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new iS;const{data:o,error:s}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ft});if(await Te(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!o||!o.session||!o.user){const a=new tr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(await Te(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ft}),{data:u,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const f=new tr;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,s;try{if("email"in e){const{email:a,options:u}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await nr(this.storage,this.storageKey));const{error:m}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:f}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(s=u==null?void 0:u.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new So("You must provide either an email or phone number.")}catch(a){if(await Te(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ft});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const u=s.session,c=s.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,s;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await nr(this.storage,this.storageKey));const c=await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:IS});return!((o=c.data)===null||o===void 0)&&o.url&&Ce()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Te(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new We;const{error:i}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(O(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:s}=await F(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:s,error:a}=await F(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a})}throw new So("You must provide either an email or phone number and a type")}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await An(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Pa:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await An(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Ua()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=CS(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tn}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:tn})})}catch(n){if(O(n))return nS(n)&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new We;const s=i.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await nr(this.storage,this.storageKey));const{data:c,error:f}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:s.access_token,xform:tn});if(f)throw f;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Te(this.storage,`${this.storageKey}-code-verifier`),O(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new We;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=Da(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new We;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ce())throw new To("No browser detected.");if(e.error||e.error_description||e.error_code)throw new To(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new of("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new To("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new of("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:u,token_type:c}=e;if(!o||!a||!s||!c)throw new To("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(a);let h=f+m;u&&(h=parseInt(u));const g=h-f;g*1e3<=ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const x=h-m;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,f);const{data:E,error:_}=await this._getUser(o);if(_)throw _;const y={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:h,refresh_token:s,token_type:c,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await An(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(tS(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=dS(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await nr(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Te(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,u,c,f;const{data:m,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Ce()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(O(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:s,provider:a,token:u,access_token:c,nonce:f}=e,m=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:u,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ft}),{data:h,error:g}=m;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new tr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Te(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await mS(async i=>(i>0&&await pS(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ft})),(i,o)=>{const s=200*Math.pow(2,i);return o&&Ma(o)&&Date.now()+s-r<ar})}catch(r){if(this._debug(n,"error",r),O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ce()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await An(this.storage,this.storageKey);if(i&&this.userStorage){let s=await An(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await lr(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Ua()}else if(i&&!i.user&&!i.user){const s=await An(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Te(this.storage,this.storageKey+"-user"),await lr(this.storage,this.storageKey,i)):i.user=Ua()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pa;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Pa}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ma(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new js;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new We;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),O(o)){const s={data:null,error:o};return Ma(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(u){o.push(u)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Te(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await lr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=cf(i);await lr(this.storage,this.storageKey,o)}else{const i=cf(n);await lr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Te(this.storage,this.storageKey),await Te(this.storage,this.storageKey+"-code-verifier"),await Te(this.storage,this.storageKey+"-user"),this.userStorage&&await Te(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ar);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ar}ms, refresh threshold is ${Hl} ticks`),i<=Hl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof e0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await nr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zS(e.webauthn.credential_response):jS(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:u}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:u}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:a}=s;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:BS(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:HS(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Da(r.access_token);let s=null;o.aal&&(s=o.aal);let a=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await F(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new We})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new We});const s=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Ce()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new We});const s=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Ce()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await F(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new We})})}catch(e){if(O(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await F(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new We})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+ZE>i)return r;const{data:o,error:s}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:x}=await this.getSession();if(x||!g.session)return this._returnResult({data:null,error:x});r=g.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:u}}=Da(r);n!=null&&n.allowExpired||ES(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:s},error:null}}const f=SS(i.alg),m=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,s,uS(`${a}.${u}`)))throw new Jl("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}}Ji.nextInstanceID={};const tT=Ji,nT="2.88.0";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const rT={"X-Client-Info":`supabase-js-${ci}/${nT}`},iT={headers:rT},oT={schema:"public"},sT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aT={};function Wi(t){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(t)}function lT(t,e){if(Wi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uT(t){var e=lT(t,"string");return Wi(e)=="symbol"?e:e+""}function cT(t,e,n){return(e=uT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yf(Object(n),!0).forEach(function(r){cT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const dT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fT=()=>Headers,hT=(t,e,n)=>{const r=dT(n),i=fT();return async(o,s)=>{var a;const u=(a=await e())!==null&&a!==void 0?a:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(o,le(le({},s),{},{headers:c}))}};function pT(t){return t.endsWith("/")?t:t+"/"}function mT(t,e){var n,r;const{db:i,auth:o,realtime:s,global:a}=t,{db:u,auth:c,realtime:f,global:m}=e,h={db:le(le({},u),i),auth:le(le({},c),o),realtime:le(le({},f),s),storage:{},global:le(le(le({},m),a),{},{headers:le(le({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function gT(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var yT=class extends tT{constructor(t){super(t)}},vT=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=gT(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:oT,realtime:aT,auth:le(le({},sT),{},{storageKey:s}),global:iT},u=mT(n??{},a);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=hT(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new X_(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new WE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new j_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:u,throwOnError:c},f,m){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yT({url:this.authUrl.href,headers:le(le({},h),f),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:a,debug:u,throwOnError:c,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pE(this.realtimeUrl.href,le(le({},t),{},{params:le(le({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const wT=(t,e,n)=>new vT(t,e,n);function xT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pr={},_T=(Pr==null?void 0:Pr.VITE_SUPABASE_URL)||"https://gvxxhbgamzplcsovhbuo.supabase.co",ET=(Pr==null?void 0:Pr.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd2eHhoYmdhbXpwbGNzb3ZoYnVvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3NTI0NTMsImV4cCI6MjA4MTMyODQ1M30.ZGuzFi1XxfuKZJs7I8hZK8rO1nnv_8rcyKKouB_1kno",Pe=wT(_T,ET,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},db:{schema:"public"},global:{headers:{"x-application-name":"autoconteudo-pro"}}}),r0=A.createContext(void 0),ST=({children:t})=>{const[e,n]=A.useState(null),[r,i]=A.useState(!0),o=(g,x)=>({id:g.id,email:g.email||x,name:g.full_name||(x==null?void 0:x.split("@")[0])||"Usurio",isPro:g.is_pro||!1,credits:g.credits??5,isAdmin:g.is_admin||!1,planType:g.plan_type||"free",subscriptionDate:g.subscription_date,lastFreeReset:g.last_free_reset}),s=async(g,x,E)=>{const _={id:g,email:x,name:(E==null?void 0:E.full_name)||x.split("@")[0],isPro:!1,credits:5,isAdmin:!1,planType:"free"};try{const y=Pe.from("profiles").select("*").eq("id",g).single(),v=new Promise((C,k)=>setTimeout(()=>k(new Error("Timeout")),3e3)),{data:w,error:S}=await Promise.race([y,v]);if(w){let C=o(w,x);if(!C.isPro&&C.planType==="free"){const k=new Date,T=w.last_free_reset?new Date(w.last_free_reset):new Date(0);if(Math.abs(k.getTime()-T.getTime())/(1e3*60*60*24)>=3){const I={credits:5,last_free_reset:k.toISOString(),plan_type:"free"};Pe.from("profiles").update(I).eq("id",g).then(),C.credits=5,C.lastFreeReset=I.last_free_reset}}return n(C),C}else return console.warn("Perfil demorou ou no encontrado, usando fallback rpido."),n(_),_}catch(y){return console.error("Fetch profile timeout/error, usando fallback:",y),n(_),_}};A.useEffect(()=>{let g=!0;(async()=>{try{const{data:{session:_}}=await Pe.auth.getSession();_!=null&&_.user&&g&&await s(_.user.id,_.user.email,_.user.user_metadata)}catch(_){console.error("Erro na sesso:",_)}finally{g&&i(!1)}})();const{data:{subscription:E}}=Pe.auth.onAuthStateChange(async(_,y)=>{y!=null&&y.user?s(y.user.id,y.user.email,y.user.user_metadata):_==="SIGNED_OUT"&&n(null),i(!1)});return()=>{g=!1,E.unsubscribe()}},[]);const a=async()=>{e!=null&&e.id&&await s(e.id,e.email,{})},u=async(g,x)=>{var E;try{const{data:_,error:y}=await Pe.auth.signInWithPassword({email:g.trim(),password:x});return y?{success:!1,error:y.message}:((E=_.session)!=null&&E.user&&s(_.session.user.id,_.session.user.email,_.session.user.user_metadata),{success:!0})}catch(_){return{success:!1,error:_.message||"Erro de conexo."}}},c=async(g,x,E)=>{var _;try{const{data:y,error:v}=await Pe.auth.signUp({email:g.trim(),password:x,options:{data:{full_name:E}}});if(v)return{success:!1,error:v.message};if((_=y.session)!=null&&_.user){const w={id:y.session.user.id,email:g,name:E,isPro:!1,credits:5,isAdmin:!1,planType:"free"};await Pe.from("profiles").update({credits:5}).eq("id",y.session.user.id),n(w)}return{success:!0,session:y.session}}catch(y){return{success:!1,error:y.message}}},f=async()=>{await Pe.auth.signOut(),n(null)},m=async g=>{!e||e.id},h=async g=>{if(!e||!e.id)return!1;if(e.planType==="monthly"||e.planType==="master_monthly"||e.planType==="yearly"||e.isAdmin)return!0;const E=g==="IMAGE"?5:1;if(e.credits<E)return!1;const _=Math.max(0,e.credits-E);n(v=>v?{...v,credits:_}:null);const{error:y}=await Pe.from("profiles").update({credits:_}).eq("id",e.id);return y?(a(),!1):!0};return p.jsx(r0.Provider,{value:{user:e,login:u,logout:f,signUp:c,activatePlan:m,consumeCredit:h,refreshProfile:a,isLoading:r},children:t})},En=()=>{const t=A.useContext(r0);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},TT=()=>{const t=Ht(),e=zt(),{user:n,logout:r}=En(),[i,o]=A.useState(!1),[s,a]=A.useState(!1),[u,c]=A.useState(!1),f=A.useRef(null),m=E=>t.pathname===E,h=(n==null?void 0:n.planType)==="yearly"||(n==null?void 0:n.planType)==="master_monthly"||(n==null?void 0:n.isAdmin),g=(n==null?void 0:n.isPro)||h;A.useEffect(()=>{const E=()=>o(window.scrollY>20);window.addEventListener("scroll",E);const _=y=>{f.current&&!f.current.contains(y.target)&&c(!1)};return document.addEventListener("mousedown",_),()=>{window.removeEventListener("scroll",E),document.removeEventListener("mousedown",_)}},[]);const x=()=>{r(),c(!1),a(!1),e("/login")};return p.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 flex justify-center pt-4 md:pt-6 px-4",children:[p.jsxs("div",{className:`
          flex justify-between items-center px-4 md:px-6 py-3 rounded-full transition-all duration-500 ease-out
          ${i||s?"bg-[#0a0a0a]/90 backdrop-blur-2xl border border-white/10 shadow-[0_10px_40px_rgba(0,0,0,0.5)] w-full max-w-7xl":"bg-transparent w-full max-w-7xl"}
      `,children:[p.jsxs(Ne,{to:"/",className:"flex items-center gap-2 md:gap-3 group",onClick:()=>a(!1),children:[p.jsxs("div",{className:"relative w-8 h-8 md:w-10 md:h-10 shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-indigo-500 rounded-full blur-md opacity-50 group-hover:opacity-100 transition-opacity animate-pulse"}),p.jsx("div",{className:"relative w-full h-full bg-gradient-to-tr from-indigo-600 to-violet-600 rounded-full flex items-center justify-center text-white shadow-lg border border-white/20",children:p.jsx(vt,{size:16,className:"md:w-5 md:h-5",fill:"currentColor"})})]}),p.jsxs("span",{className:"font-hero font-bold text-lg md:text-xl tracking-tight text-white group-hover:text-glow transition-all",children:["Auto",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-fuchsia-400",children:"Contedo"})]})]}),p.jsxs("div",{className:"hidden md:flex items-center gap-1 bg-white/5 p-1.5 rounded-full border border-white/5 backdrop-blur-md",children:[p.jsx(Ne,{to:"/",className:`flex items-center gap-2 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-widest transition-all ${m("/")?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:"Studio"}),p.jsx(Ne,{to:"/history",className:`flex items-center gap-2 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-widest transition-all ${m("/history")?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:"Arquivos"})]}),p.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[n?p.jsxs("div",{className:"relative",ref:f,children:[p.jsxs("div",{onClick:()=>c(!u),className:"flex items-center gap-3 cursor-pointer group",children:[p.jsxs("div",{className:"hidden lg:flex flex-col items-end",children:[p.jsxs("div",{className:"flex items-center gap-1.5 font-bold text-xs text-white group-hover:text-indigo-300 transition-colors",children:[h&&p.jsx(Lt,{size:12,className:"text-amber-400 animate-pulse",fill:"currentColor"}),n.name.split(" ")[0]]}),p.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded transition-all ${h?"bg-amber-500/20 text-amber-400 border border-amber-500/20":g?"bg-indigo-500/20 text-indigo-400 border border-indigo-500/20":"bg-white/10 text-slate-400 border border-white/10"}`,children:h?"Membro Elite":g?"Membro Pro":"Plano Grtis"})]}),p.jsxs("div",{className:`relative w-8 h-8 md:w-10 md:h-10 rounded-full p-[2px] cursor-pointer transition-transform shrink-0 ${u?"scale-105":"group-hover:scale-105"} ${h?"bg-gradient-to-br from-amber-400 to-orange-500":g?"bg-gradient-to-br from-indigo-500 to-fuchsia-500":"bg-slate-700"}`,children:[p.jsx("div",{className:"w-full h-full rounded-full bg-black flex items-center justify-center overflow-hidden relative",children:n.isAdmin?p.jsx("div",{className:"bg-indigo-600 w-full h-full flex items-center justify-center text-white font-bold text-xs",children:"ADM"}):p.jsx($g,{size:16,className:"md:w-[18px] text-slate-200"})}),p.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 border-2 border-[#0a0a0a] rounded-full ${h||g?"bg-green-500":"bg-slate-500"}`})]})]}),u&&p.jsxs("div",{className:"absolute right-0 top-14 w-80 bg-[#0f111a] border border-white/10 rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.6)] overflow-hidden animate-slide-up z-50",children:[p.jsx("div",{className:`p-5 relative overflow-hidden ${h?"bg-gradient-to-r from-amber-500/10 to-orange-500/10":g?"bg-gradient-to-r from-indigo-500/10 to-fuchsia-500/10":"bg-slate-800/30"}`,children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold text-white shadow-lg ${h?"bg-gradient-to-br from-amber-400 to-orange-600":g?"bg-gradient-to-br from-indigo-500 to-fuchsia-600":"bg-slate-700"}`,children:n.name.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"text-white font-bold truncate",children:n.name}),p.jsx("p",{className:"text-xs text-slate-400 truncate",children:n.email})]})]})}),p.jsxs("div",{className:"p-5 space-y-5",children:[p.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-white/5",children:[p.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Seu Plano"}),p.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 ${h?"bg-amber-500 text-slate-900":g?"bg-indigo-600 text-white":"bg-slate-800 text-slate-300"}`,children:[h?p.jsx(Lt,{size:12,fill:"currentColor"}):g?p.jsx(dc,{size:12,fill:"currentColor"}):p.jsx(d_,{size:12}),h?"MASTER ELITE":g?"PROFISSIONAL":"BSICO (FREE)"]})]}),!h&&!g?p.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-white/5",children:[p.jsxs("div",{className:"flex justify-between items-end mb-2",children:[p.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Crditos Disponveis"}),p.jsxs("span",{className:"text-sm font-black text-white",children:[n.credits," ",p.jsx("span",{className:"text-slate-500 text-xs font-normal",children:"/ 5"})]})]}),p.jsx("div",{className:"w-full bg-slate-800 h-2 rounded-full overflow-hidden mb-3",children:p.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.credits>2?"bg-cyan-400":"bg-red-500"}`,style:{width:`${Math.min(n.credits/5*100,100)}%`}})}),p.jsx(Ne,{to:"/pricing",onClick:()=>c(!1),children:p.jsxs("button",{className:"w-full py-2 rounded-lg bg-indigo-600/20 text-indigo-400 text-xs font-bold hover:bg-indigo-600 hover:text-white transition-all border border-indigo-500/30 flex items-center justify-center gap-2",children:[p.jsx(vt,{size:12})," AUMENTAR LIMITES"]})})]}):p.jsxs("div",{className:"bg-emerald-500/10 rounded-xl p-3 border border-emerald-500/20 flex items-center gap-3",children:[p.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full text-emerald-400",children:p.jsx(cc,{size:18})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold text-emerald-400 uppercase tracking-wider",children:"Acesso Ilimitado"}),p.jsx("p",{className:"text-[10px] text-emerald-200/70",children:"Voc tem o poder total."})]})]}),p.jsxs("div",{className:"space-y-1",children:[n.isAdmin&&p.jsxs(Ne,{to:"/admin",onClick:()=>c(!1),className:"flex items-center gap-3 p-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-white/5 transition-colors text-xs font-medium",children:[p.jsx(Lt,{size:14})," Painel Admin"]}),p.jsxs(Ne,{to:"/history",onClick:()=>c(!1),className:"flex items-center gap-3 p-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-white/5 transition-colors text-xs font-medium",children:[p.jsx(s_,{size:14})," Histrico de Arquivos"]}),p.jsxs(Ne,{to:"/pricing",onClick:()=>c(!1),className:"flex items-center gap-3 p-2.5 rounded-lg text-slate-300 hover:text-white hover:bg-white/5 transition-colors text-xs font-medium",children:[p.jsx(Jn,{size:14})," Gerenciar Assinatura"]})]})]}),p.jsx("div",{className:"p-4 bg-slate-900 border-t border-white/5",children:p.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 py-2 rounded-lg transition-colors text-xs font-bold uppercase tracking-widest",children:[p.jsx(Rg,{size:14})," Sair da Conta"]})})]})]}):p.jsx(Ne,{to:"/login",className:"hidden md:block",children:p.jsx("button",{className:"bg-white text-black px-6 py-2.5 rounded-full font-black text-xs hover:bg-indigo-50 transition-all shadow-[0_0_20px_rgba(255,255,255,0.4)] hover:-translate-y-1 tracking-wide",children:"ENTRAR"})}),p.jsx("button",{className:"md:hidden p-2 text-white bg-white/5 rounded-lg border border-white/10",onClick:()=>a(!s),children:s?p.jsx(qn,{size:20}):p.jsx(m_,{size:20})})]})]}),s&&p.jsx("div",{className:"md:hidden fixed inset-x-4 top-24 z-40 animate-slide-up origin-top",children:p.jsxs("div",{className:"bg-[#0a0a0a] backdrop-blur-3xl rounded-3xl border border-white/20 p-6 shadow-[0_20px_60px_rgba(0,0,0,0.8)] space-y-3",children:[p.jsx(Ne,{to:"/",onClick:()=>a(!1),className:"block p-4 rounded-2xl bg-white/5 font-bold text-white text-center hover:bg-indigo-600 transition-colors border border-white/5",children:"Studio"}),p.jsx(Ne,{to:"/history",onClick:()=>a(!1),className:"block p-4 rounded-2xl bg-white/5 font-bold text-white text-center hover:bg-indigo-600 transition-colors border border-white/5",children:"Arquivos"}),p.jsx(Ne,{to:"/pricing",onClick:()=>a(!1),className:"block p-4 rounded-2xl bg-white/5 font-bold text-white text-center hover:bg-indigo-600 transition-colors border border-white/5",children:"Planos"}),!n&&p.jsx(Ne,{to:"/login",onClick:()=>a(!1),className:"block p-4 rounded-2xl bg-white text-black font-black text-center shadow-lg hover:scale-[1.02] transition-transform",children:"ENTRAR AGORA"}),n&&p.jsx("button",{onClick:x,className:"w-full p-4 rounded-2xl bg-red-500/10 font-bold text-red-400 text-center hover:bg-red-500/20 border border-red-500/20",children:"Sair da Conta"})]})})]})};var D=(t=>(t.TEXT="TEXT",t.TEXTAREA="TEXTAREA",t.SELECT="SELECT",t.MULTI_SELECT="MULTI_SELECT",t.DATE="DATE",t.IMAGE_UPLOAD="IMAGE_UPLOAD",t.MULTI_IMAGE_UPLOAD="MULTI_IMAGE_UPLOAD",t))(D||{});const vf="AutoContedo Pro",ws="5571996556182",i0=[{id:"free_starter",name:"Grtis",price:"0.00",period:"sempre",description:"Para quem est comeando.",features:["5 Crditos Iniciais","Acesso a Ferramentas Bsicas","Suporte via Comunidade"]},{id:"subscription_pro",name:"Pro",price:"47.90",period:"/ms",highlight:!0,description:"Para criadores e profissionais.",features:["Mquina de Vdeos Virais","Redator SEO Invisvel","Criao de Sites","Prioridade na Fila"]},{id:"subscription_master_monthly",name:"Master",price:"89.90",period:"/ms",description:"Para empresas e agncias.",features:["Analista de Lucro IA","Fbrica de Funcionrios IA","Jurdico Blindado","Imagens Ultra-Realistas"]}],Le={PRO:"bg-gradient-to-br from-violet-500 via-fuchsia-500 to-purple-600",MASTER:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500",CREATIVE:"bg-gradient-to-br from-pink-500 via-rose-500 to-red-500",SOCIAL:"bg-gradient-to-br from-rose-400 via-fuchsia-500 to-indigo-500",LEGAL:"bg-gradient-to-br from-slate-700 to-slate-900",LIFESTYLE:"bg-gradient-to-br from-emerald-400 to-teal-600",DATA:"bg-gradient-to-br from-emerald-500 to-cyan-600",TECH:"bg-gradient-to-br from-blue-600 to-indigo-900"},Mr=[{id:"cv-executive",title:"Currculo Executivo (CEO Style)",description:"Layout imponente para cargos de liderana. Design sbrio, foto profissional e foco em resultados.",icon:"Crown",color:Le.MASTER,category:"Curriculo",outputType:"SITE",minPlan:"pro",oneTimePrice:29.9,systemPrompt:'Voc  um Designer de Currculos Premiado de Nova York. Crie um CV HTML/Tailwind sofisticado. 1. Use layout de duas colunas: Uma barra lateral escura elegante para a foto (use src="{{USER_PHOTO}}"), contatos e skills. 2. Coluna principal branca para Experincia e Resumo. 3. Use fontes serifadas modernas (Playfair Display) para ttulos. 4. Destaque mtricas de sucesso em caixas de estatsticas. O visual deve gritar "Sucesso" e "Autoridade".',steps:[{id:"user_photo",type:D.IMAGE_UPLOAD,question:"Sua Foto Profissional",subtext:"Uma foto de alta qualidade aumenta em 40% as chances.",required:!0,maxFiles:1},{id:"full_name",type:D.TEXT,question:"Seu Nome Completo",required:!0},{id:"role",type:D.TEXT,question:"Cargo Atual / Almejado",required:!0},{id:"summary",type:D.TEXTAREA,question:"Resumo Profissional (Pitch)",subtext:"Venda seu peixe em 3 linhas.",required:!0},{id:"experience",type:D.TEXTAREA,question:"Experincias Profissionais",subtext:"Empresa, Cargo, Data e PRINCIPAIS RESULTADOS.",required:!0},{id:"skills",type:D.TEXTAREA,question:"Habilidades & Competncias",required:!0},{id:"contact",type:D.TEXT,question:"Contatos (Email, Tel, LinkedIn)",required:!0}]},{id:"cv-creative",title:"Currculo Criativo (Visual)",description:"Para designers, marketing e artistas. Use cores, formas e sua foto em destaque.",icon:"Palette",color:Le.CREATIVE,category:"Curriculo",outputType:"SITE",minPlan:"pro",oneTimePrice:19.9,systemPrompt:'Voc  um Diretor de Arte Snior. Crie um CV HTML/Tailwind vibrante e moderno. 1. Use um Header grande e colorido com a foto (src="{{USER_PHOTO}}") em formato circular com borda grossa. 2. Use grids criativos para mostrar as Skills (barras de progresso ou tags coloridas). 3. Tipografia Sans-Serif moderna (Inter ou Poppins). 4. Use cones para contatos. O layout deve ser uma obra de arte.',steps:[{id:"user_photo",type:D.IMAGE_UPLOAD,question:"Sua Melhor Foto",required:!0,maxFiles:1},{id:"full_name",type:D.TEXT,question:"Seu Nome",required:!0},{id:"role",type:D.TEXT,question:"Sua Arte/Profisso",required:!0},{id:"portfolio",type:D.TEXT,question:"Link do Portflio",required:!1},{id:"experience",type:D.TEXTAREA,question:"Onde voc j brilhou? (Experincia)",required:!0},{id:"skills",type:D.TEXTAREA,question:"Domnio de Ferramentas (Softwares/Skills)",required:!0}]},{id:"cv-modern",title:"Currculo Moderno (Tech)",description:"O padro ouro para Tech, Startups e Administrativo. Limpo, direto e com foto.",icon:"Briefcase",color:Le.PRO,category:"Curriculo",outputType:"SITE",minPlan:"pro",oneTimePrice:14.9,systemPrompt:'Crie um CV HTML/Tailwind estilo "Startup Unicrnio". Minimalista, mas poderoso. 1. Fundo cinza bem claro (slate-50). 2. Card branco flutuante (shadow-xl) contendo o contedo. 3. Foto (src="{{USER_PHOTO}}") no topo esquerdo, quadrada com cantos arredondados (rounded-xl). 4. Use acentos em Azul Indigo ou Violeta. 5. Foco total em legibilidade e hierarquia visual perfeita.',steps:[{id:"user_photo",type:D.IMAGE_UPLOAD,question:"Foto de Perfil",required:!0,maxFiles:1},{id:"full_name",type:D.TEXT,question:"Nome Completo",required:!0},{id:"role",type:D.TEXT,question:"Cargo",required:!0},{id:"summary",type:D.TEXTAREA,question:"Sobre Voc",required:!0},{id:"experience",type:D.TEXTAREA,question:"Histrico Profissional",required:!0},{id:"education",type:D.TEXTAREA,question:"Formao",required:!0}]},{id:"neural-data-analyst",title:"Analista de Lucro IA",description:"Envie planilhas ou relatrios e descubra onde voc est perdendo dinheiro.",icon:"LineChart",color:Le.DATA,category:"Business",outputType:"TEXT",minPlan:"master",systemPrompt:"Voc  um Cientista de Dados Snior focado em Business Intelligence. Analise os dados fornecidos (texto ou upload de CSV simulado). Gere um relatrio estruturado: 1. Resumo Executivo (Focado em Dinheiro). 2. Trs principais tendncias identificadas. 3. Alertas de Risco. 4. Recomendao de Ao Imediata para aumentar lucro.",steps:[{id:"data_input",type:D.TEXTAREA,question:"Cole seus dados ou resumo financeiro aqui",required:!0},{id:"data_file",type:D.IMAGE_UPLOAD,question:"Ou envie foto de planilha/relatrio",maxFiles:3,required:!1},{id:"focus",type:D.SELECT,question:"O que voc quer descobrir?",options:[{label:"Aumentar Lucro",value:"profit"},{label:"Cortar Custos",value:"costs"},{label:"Prever Futuro",value:"patterns"}],required:!0}]},{id:"multi-agent-architect",title:"Fbrica de Funcionrios",description:"Crie uma equipe de robs autnomos. Um vende, outro atende, outro gerencia.",icon:"Bot",color:Le.TECH,category:"Business",outputType:"TEXT",minPlan:"master",systemPrompt:"Voc  um Arquiteto de Sistemas de IA. Crie a definio tcnica (Prompt de Sistema) para 3 agentes especializados baseados no objetivo do usurio. Para cada agente defina: Nome, Personalidade, Misso Principal e Regras de Conduta.",steps:[{id:"goal",type:D.TEXTAREA,question:"Qual o objetivo da sua empresa?",subtext:"Ex: Vender carros usados via WhatsApp.",required:!0},{id:"agents_count",type:D.SELECT,question:"Tamanho da Equipe",options:[{label:"2 Robs (Dupla)",value:"2"},{label:"3 Robs (Squad)",value:"3"},{label:"5 Robs (Corporao)",value:"5"}],required:!0},{id:"tone",type:D.TEXT,question:"Estilo de atendimento (Ex: Formal, Jovem)",required:!0}]},{id:"legal-contract",title:"Contrato Blindado",description:"Proteja seu servio contra calotes. Contrato jurdico completo em segundos.",icon:"Gavel",color:Le.LEGAL,category:"Jurdico",outputType:"TEXT",minPlan:"master",oneTimePrice:29.9,systemPrompt:"Aja como um advogado snior especialista em direito civil brasileiro. Crie um contrato de prestao de servios robusto. Inclua clusulas de objeto, obrigaes, pagamentos, multas, resciso, foro, confidencialidade e proteo de dados (LGPD).",steps:[{id:"contractor",type:D.TEXT,question:"Seus Dados (Prestador)",required:!0},{id:"client",type:D.TEXT,question:"Dados do Cliente",required:!0},{id:"service_desc",type:D.TEXTAREA,question:"O que ser feito?",required:!0},{id:"value_payment",type:D.TEXT,question:"Valor e Forma de Pagamento",required:!0},{id:"forum",type:D.TEXT,question:"Sua Cidade (Para o Foro)",required:!0}]},{id:"image-gen",title:"Estdio Ultra-Realista",description:"Crie fotos que parecem reais, logos 3D e artes digitais de cinema.",icon:"Image",color:Le.MASTER,category:"Criativo",outputType:"IMAGE",minPlan:"master",oneTimePrice:4.9,systemPrompt:"Create a high quality image based on this description. Style: Photorealistic, 8k, Detailed texture.",steps:[{id:"prompt",type:D.TEXTAREA,question:"O que voc quer criar?",subtext:"Seja detalhista. Ex: Um gato astronauta em marte, 4k.",required:!0},{id:"style",type:D.SELECT,question:"Estilo Visual",options:[{label:"Foto Realista (8k)",value:"photorealistic"},{label:"Cyberpunk Neon",value:"cyberpunk"},{label:"Desenho 3D (Pixar)",value:"3d render"},{label:"Logo Minimalista",value:"logo"}],required:!0},{id:"aspect_ratio",type:D.SELECT,question:"Formato da Imagem",options:[{label:"Quadrado (Instagram)",value:"1:1"},{label:"Em p (Stories)",value:"9:16"},{label:"Deitado (Youtube)",value:"16:9"}],required:!0}]},{id:"investor-pitch",title:"Apresentao Investidor",description:"O roteiro exato para convencer investidores a colocarem dinheiro na sua ideia.",icon:"Lightbulb",color:Le.MASTER,category:"Business",outputType:"TEXT",minPlan:"master",systemPrompt:"Crie o roteiro textual para um Pitch Deck de 12 slides (Padro Vale do Silcio). Para cada slide, defina: Ttulo, Texto Principal (Bullet points) e O que o apresentador deve falar (Speech).",steps:[{id:"startup_name",type:D.TEXT,question:"Nome do Projeto/Empresa",required:!0},{id:"problem",type:D.TEXTAREA,question:"Qual problema voc resolve?",required:!0},{id:"solution",type:D.TEXTAREA,question:"Qual a sua soluo mgica?",required:!0},{id:"ask",type:D.TEXT,question:"Quanto dinheiro voc precisa?",required:!0}]},{id:"viral-ugc-engine",title:"Mquina de Vdeos Virais",description:"Transforme vdeos chatos em mquinas de visualizao. Cortes e Legendas.",icon:"Clapperboard",color:Le.PRO,category:"Marketing",outputType:"TEXT",minPlan:"pro",systemPrompt:'Voc  um editor de vdeo profissional do TikTok/Reels. Analise o contexto do vdeo descrito pelo usurio. Sada esperada: 1. Sugesto de "Hook Visual" (primeiros 3s). 2. Roteiro de cortes (Timestamps sugeridos). 3. Legenda magntica com Hashtags. 4. Sugesto de udio em alta.',steps:[{id:"video_context",type:D.TEXTAREA,question:"Sobre o que  o vdeo bruto?",subtext:"Descreva o que acontece na gravao.",required:!0},{id:"niche",type:D.TEXT,question:"Qual o seu nicho?",subtext:"Ex: Fitness, Humor, Vendas.",required:!0},{id:"goal",type:D.SELECT,question:"Qual o objetivo?",options:[{label:"Explodir de Views",value:"views"},{label:"Vender Produto",value:"sales"},{label:"Ganhar Seguidores",value:"authority"}],required:!0}]},{id:"site-builder",title:"Criador de Sites",description:"Sua empresa na internet em segundos. Site completo com design moderno.",icon:"Globe",color:Le.PRO,category:"Criativo",outputType:"SITE",minPlan:"pro",systemPrompt:"Crie uma Landing Page completa em HTML nico com Tailwind CSS. Estrutura: Header (Logo+Nav), Hero Section (Headline+Sub+CTA), Features (Grid 3 colunas), Social Proof (Testimonials), Pricing Table, FAQ e Footer. Design moderno, cores harmoniosas, responsivo mobile.",steps:[{id:"niche",type:D.TEXT,question:"Qual o ramo do site?",required:!0},{id:"name",type:D.TEXT,question:"Nome do Negcio",required:!0},{id:"headline",type:D.TEXT,question:"Frase Principal (Promessa)",required:!0},{id:"colors",type:D.TEXT,question:"Cores da marca",required:!0},{id:"features",type:D.TEXTAREA,question:"3 Benefcios do seu produto",required:!0}]},{id:"seo-shadow-writer",title:"Redator SEO Invisvel",description:"Voc escreve normal, a IA reescreve para dominar a primeira pgina do Google.",icon:"FileSearch",color:Le.PRO,category:"Marketing",outputType:"TEXT",minPlan:"pro",systemPrompt:"Voc  um especialista em SEO Tcnico e Copywriting. Reescreva o texto do usurio mantendo o sentido original, mas aplicando tcnicas de SEO On-Page: Insero natural de keywords, melhoria de legibilidade (Flesch Reading Ease), uso de termos LSI e estrutura de headers (H1, H2). Sada em Markdown.",steps:[{id:"original_text",type:D.TEXTAREA,question:"Cole seu texto original",required:!0},{id:"keyword",type:D.TEXT,question:"Palavra-chave Foco (O que buscam no Google?)",required:!0},{id:"competitors",type:D.TEXT,question:"Sites concorrentes (Opcional)",required:!1}]},{id:"youtube-script",title:"Roteiros Milionrios",description:"A estrutura secreta dos Youtubers gigantes para prender a ateno.",icon:"Youtube",color:Le.PRO,category:"Marketing",outputType:"TEXT",minPlan:"pro",systemPrompt:"Crie um roteiro de vdeo para YouTube focado em alta reteno. Estrutura: 1. Hook (0-30s) impactante, 2. Intro rpida, 3. Contedo (em 3 atos), 4. Transies sugeridas, 5. CTA final. Inclua sugestes visuais (B-Roll).",steps:[{id:"title",type:D.TEXT,question:"Ideia de Ttulo",required:!0},{id:"niche",type:D.TEXT,question:"Tema do Canal",required:!0},{id:"hook_idea",type:D.TEXTAREA,question:"Qual a curiosidade inicial?",required:!0},{id:"cta",type:D.TEXT,question:"O que pedir no final? (Like, Compra...)",required:!0}]},{id:"chef-ia",title:"Chef de Cozinha IA",description:"No sabe o que jantar? Diga o que tem na geladeira e receba uma receita.",icon:"ChefHat",color:Le.LIFESTYLE,category:"Criativo",outputType:"TEXT",minPlan:"free",systemPrompt:"Aja como um Chef com estrela Michelin. Baseado nos ingredientes fornecidos, crie uma receita criativa e deliciosa.",steps:[{id:"ingredients",type:D.TEXTAREA,question:"O que tem na geladeira?",required:!0},{id:"time",type:D.SELECT,question:"Quanto tempo voc tem?",options:[{label:"15 min (Rpido)",value:"15"},{label:"30 min (Mdio)",value:"30"},{label:"1h+ (Sem pressa)",value:"60"}],required:!0}]},{id:"love-advisor",title:"Guru do Amor",description:"A mensagem perfeita para conquistar, terminar ou fazer as pazes.",icon:"HeartCrack",color:Le.SOCIAL,category:"Criativo",outputType:"TEXT",minPlan:"free",systemPrompt:"Aja como um especialista em relacionamentos. Escreva 3 opes de mensagens (Curta, Emocional, Direta) para WhatsApp.",steps:[{id:"situation",type:D.SELECT,question:"Qual a situao?",options:[{label:"Chamar pra sair",value:"date"},{label:"Voltar com Ex",value:"back"},{label:"Terminar",value:"breakup"}],required:!0},{id:"person_name",type:D.TEXT,question:"Nome dele(a)",required:!0},{id:"details",type:D.TEXTAREA,question:"O que aconteceu?",required:!0}]},{id:"dream-interpreter",title:"Vidente dos Sonhos",description:"Sonhou algo estranho? A IA revela o significado oculto.",icon:"Moon",color:Le.LIFESTYLE,category:"Criativo",outputType:"TEXT",minPlan:"free",systemPrompt:"Aja como um especialista em interpretao de sonhos junguiana e mstica. Analise os elementos do sonho e d um significado.",steps:[{id:"dream_desc",type:D.TEXTAREA,question:"Como foi o sonho?",required:!0},{id:"feeling",type:D.TEXT,question:"Qual sentimento ficou?",required:!0}]}],Wl={FileText:ms,Dumbbell:Xx,ShoppingBag:Og,Mail:Ng,FileSignature:Qx,Instagram:a_,Scale:b_,Image:Ag,Palette:__,Briefcase:Ll,Globe:kg,Code:Jx,Rocket:k_,BrainCircuit:Vx,LayoutTemplate:bg,Star:fc,Award:Ox,Zap:vt,Crown:Lt,Gavel:e_,Utensils:$_,Plane:T_,GraduationCap:n_,BookOpen:$x,UserCheck:L_,HeartPulse:o_,PenTool:E_,Terminal:M_,Gem:t_,Monitor:g_,Youtube:G_,Languages:u_,UserPlus:O_,BriefcaseIcon:Ll,TrendingUp:Fg,Wand2:q_,Paintbrush:x_,ShieldCheck:cc,MessageCircle:Gi,Hash:r_,Smile:N_,Flame:Cg,Video:V_,ScrollText:I_,Target:P_,Map:p_,BarChart3:Fx,AlertTriangle:Ux,Lightbulb:f_,AlertOctagon:Dx,HeartCrack:i_,Moon:y_,Search:R_,ChefHat:Gx,Clapperboard:zx,FileSearch:Zx,Network:v_,LineChart:h_,Bot:_g},o0=t=>t.replace(/```html/g,"").replace(/```/g,"").trim();async function vc(t,e){try{const n=`${t}

CONTEXTO DO USURIO:
${e}`,r=encodeURIComponent(n),i=await fetch(`https://text.pollinations.ai/${r}?model=openai&seed=${Math.floor(Math.random()*1e3)}`);if(!i.ok)throw new Error("Falha na Pollinations AI");return await i.text()}catch(n){return console.error("Erro Pollinations:",n),"Ocorreu um erro ao conectar com a Inteligncia Artificial. Por favor, tente novamente."}}async function CT(t){return`https://image.pollinations.ai/prompt/${encodeURIComponent(t)}?width=1024&height=1024&nologo=true&seed=${Math.floor(Math.random()*1e3)}&model=flux`}const kT=async(t,e,n=!1)=>{let r=`DADOS FORNECIDOS PELO USURIO:
`,i=null;for(const[a,u]of Object.entries(e))if(a==="user_photo"&&Array.isArray(u)&&u.length>0)i=u[0],r+=`[FOTO DO PERFIL]: O usurio forneceu uma foto. Use a string '{{USER_PHOTO}}' no atributo src da tag img.
`;else{const c=t.steps.find(f=>f.id===a);c&&(r+=`[${c.question}]: ${Array.isArray(u)?u.join(", "):u}
`)}if(t.outputType==="IMAGE"){const a=`Best quality, masterpiece, ultra realistic, 8k. ${t.systemPrompt}. Context: ${r}`;return await CT(a)}let o=`${t.systemPrompt}

REGRAS ESTRUTURAIS (100% POWER):
- Se for solicitado cdigo ou site, use HTML5 + Tailwind CSS (via CDN) em um nico arquivo.
- Design deve ser EXTREMAMENTE moderno, profissional e de alto nvel (Estilo Awwwards/Silicon Valley).
- Use sombras (shadow-xl), bordas arredondadas (rounded-2xl), gradientes e tipografia premium.
- Responda APENAS com o contedo final (o texto ou o cdigo), sem introdues.`,s=await vc(o,r);if(t.outputType==="SITE"){let a=o0(s);return i&&(a=a.replace(/{{USER_PHOTO}}/g,i).replace(/%7B%7BUSER_PHOTO%7D%7D/g,i).replace(/src="[^"]*user_photo[^"]*"/gi,`src="${i}"`)),a}return s},AT=async(t,e,n)=>{const r="Voc  um editor snior de classe mundial. Refine o contedo abaixo seguindo estritamente a instruo do usurio. Mantenha a formatao original (se for cdigo HTML, mantenha a estrutura e melhore o design/contedo).",i=`CONTEDO ORIGINAL:
${t}

O QUE MUDAR (INSTRUO DO USURIO):
${e}`,o=await vc(r,i);return n.outputType==="SITE"?o0(o):o},bT=async(t,e,n)=>{let r="";n==="creative"?r="Modo Visionrio: Respostas inspiradoras, artsticas, metafricas e inovadoras.":n==="analytical"?r="Modo Analtico: Lgica pura, dados, preciso, listas e comparaes.":r="Modo Executivo: Estratgia de negcios, liderana, tom profissional, direto e focado em ROI.";const i=e.length>0?`[O usurio enviou imagens, mas neste modo texto, foque na descrio que ele deu]. Pergunta: ${t}`:t;return await vc(r,i)},IT=()=>{const{user:t}=En(),e=zt(),[n,r]=A.useState("All"),[i,o]=A.useState(""),[s,a]=A.useState([]),[u,c]=A.useState("executive"),[f,m]=A.useState(""),[h,g]=A.useState(!1),x=A.useRef(null),E=A.useRef(null),_=["All","Curriculo","Marketing","Business","Jurdico","Criativo"],y=n==="All"?Mr:Mr.filter(T=>T.category===n),v=(t==null?void 0:t.planType)==="master_monthly"||(t==null?void 0:t.planType)==="yearly"||(t==null?void 0:t.isAdmin),w=(t==null?void 0:t.isPro)||v,S=T=>{var G;const b=Wl[T.icon],I=T.minPlan==="master",R=T.minPlan==="pro",V=T.category==="Curriculo",Y=["viral-ugc-engine","neural-data-analyst","cv-executive","cv-creative"].includes(T.id),z=I&&v||R&&w||!T.minPlan&&T.category!=="Curriculo",B=!!T.oneTimePrice,re=I?"glow-master":R?"glow-pro":"glow-free",W=I?"text-amber-400":R?"text-indigo-400":"text-cyan-400",pe=I?"bg-amber-500/10 border-amber-500/20 text-amber-400":R?"bg-indigo-500/10 border-indigo-500/20 text-indigo-400":"bg-cyan-500/10 border-cyan-500/20 text-cyan-400",U=V?"bg-gradient-to-br from-slate-900 via-[#0f111a] to-slate-900 border-indigo-500/30 shadow-[0_0_30px_rgba(79,70,229,0.15)] ring-1 ring-indigo-500/50 hover:scale-[1.02]":`cyber-card ${re}`;return p.jsx(Ne,{to:`/generate/${T.id}`,className:"group block h-full w-full active:scale-[0.98] transition-all duration-300",children:p.jsxs("div",{className:`${U} h-full rounded-[20px] md:rounded-[24px] p-5 md:p-6 flex flex-col justify-between relative overflow-hidden`,children:[p.jsx("div",{className:`absolute -top-10 -right-10 w-32 h-32 rounded-full blur-[60px] opacity-0 group-hover:opacity-40 transition-opacity duration-500 ${I?"bg-amber-500":R?"bg-indigo-600":"bg-cyan-500"}`}),p.jsxs("div",{className:"flex justify-between items-start mb-5 relative z-10",children:[p.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-2xl flex items-center justify-center shadow-lg transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3 bg-[#0f111a] border border-white/5",children:b&&p.jsx(b,{size:24,strokeWidth:1.5,className:W})}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[Y&&p.jsxs("span",{className:"flex items-center gap-1 bg-red-600 text-white px-2 py-0.5 rounded text-[9px] font-black uppercase tracking-wider animate-pulse shadow-[0_0_10px_#dc2626]",children:[p.jsx(Cg,{size:10,fill:"currentColor"})," Novo"]}),p.jsxs("div",{className:`px-2 py-1 rounded border text-[9px] font-black uppercase tracking-wider flex items-center gap-1 ${pe}`,children:[I?p.jsx(Lt,{size:10}):R?p.jsx(fc,{size:10}):p.jsx(vt,{size:10}),I?"Master":R?"Pro":"Free"]})]})]}),p.jsxs("div",{className:"flex-grow flex flex-col relative z-10",children:[p.jsxs("div",{className:"flex flex-col gap-1 mb-3",children:[p.jsx("h3",{className:"font-hero font-bold text-lg md:text-xl leading-tight text-white group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-white group-hover:to-slate-400 transition-all",children:T.title}),B&&!w&&p.jsxs("div",{className:"self-start mt-1 bg-emerald-600 text-white border border-emerald-400 px-3 py-1 rounded-lg text-xs font-black whitespace-nowrap shadow-[0_0_15px_rgba(16,185,129,0.4)] flex items-center gap-1.5 transform group-hover:scale-105 transition-transform origin-left",children:[p.jsx(Jn,{size:12,strokeWidth:3}),"R$ ",(G=T.oneTimePrice)==null?void 0:G.toFixed(2).replace(".",",")]})]}),p.jsx("p",{className:"text-sm text-slate-400 font-medium leading-relaxed mb-4 md:mb-6 line-clamp-3",children:T.description})]}),p.jsxs("div",{className:"mt-auto border-t border-white/5 pt-4 flex items-center justify-between relative z-10",children:[p.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest group-hover:text-slate-500 transition-colors",children:T.category}),p.jsx("div",{className:`flex items-center gap-2 text-[10px] font-black transition-all duration-300 transform translate-y-0 group-hover:translate-x-1 ${z?"text-emerald-400":"text-slate-500"}`,children:z?p.jsxs(p.Fragment,{children:["ACESSAR ",p.jsx(lc,{size:12})]}):p.jsxs(p.Fragment,{children:[p.jsx(Wn,{size:12})," ",B?"COMPRAR":"BLOQUEADO"]})})]})]})},T.id)},C=async()=>{if(!w){e("/pricing");return}if(!(!i.trim()&&s.length===0)){g(!0),m("");try{const T=await bT(i,s,u);m(T),setTimeout(()=>{var b;(b=E.current)==null||b.scrollIntoView({behavior:"smooth"})},100)}catch{m("Erro no Omni.")}finally{g(!1)}}},k=T=>{Array.from(T.target.files||[]).forEach(I=>{const R=new FileReader;R.onloadend=()=>a(V=>[...V,R.result]),R.readAsDataURL(I)})};return p.jsxs("div",{className:"w-full",children:[p.jsxs("div",{className:"relative min-h-[90vh] flex flex-col justify-center items-center text-center px-4 pt-28 pb-16 md:pt-32 md:pb-20",children:[p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] md:w-[900px] md:h-[900px] bg-indigo-500/10 rounded-full blur-[80px] md:blur-[120px] pointer-events-none -z-10"}),p.jsxs("div",{className:"relative z-10 animate-fade-in-up max-w-6xl mx-auto flex flex-col items-center",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 md:gap-3 px-4 py-2 md:px-6 md:py-2.5 rounded-full bg-white/5 border border-white/10 backdrop-blur-md text-indigo-300 text-[9px] md:text-xs font-black uppercase tracking-[0.2em] md:tracking-[0.3em] mb-6 md:mb-10 hover:bg-white/10 transition-colors shadow-[0_0_30px_rgba(99,102,241,0.2)]",children:[p.jsx(dc,{size:12,className:"text-amber-400 animate-pulse"})," Inteligncia Artificial de Elite"]}),p.jsxs("h1",{className:"font-hero text-4xl sm:text-5xl md:text-7xl lg:text-9xl font-black text-white mb-6 md:mb-8 tracking-tighter leading-[1] md:leading-[0.95] drop-shadow-2xl",children:["A TECNOLOGIA DOS ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-orange-300 to-amber-400 animate-gradient-x text-glow-gold",children:"BILIONRIOS."})]}),p.jsxs("p",{className:"text-base sm:text-lg md:text-2xl text-slate-300 max-w-xs sm:max-w-2xl md:max-w-3xl mx-auto mb-10 md:mb-12 leading-relaxed font-light mix-blend-plus-lighter",children:[p.jsx("span",{className:"text-white font-bold block mb-1 md:mb-2",children:"Agora na palma da sua mo."}),"Da estratgia de vendas ao jurdico blindado. Acessibilidade para todos, poder para quem quer vencer."]}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 md:gap-6 items-center w-full mt-2",children:[p.jsx("button",{onClick:()=>{var T;return(T=document.getElementById("services"))==null?void 0:T.scrollIntoView({behavior:"smooth"})},className:"group btn-neon relative w-full sm:w-auto px-8 py-4 md:px-12 md:py-6 rounded-full font-black text-white text-sm md:text-lg tracking-wide hover:scale-105 transition-transform shadow-2xl shadow-indigo-900/50",children:p.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:["EXPLORAR ARSENAL ",p.jsx(Lx,{size:18,className:"group-hover:translate-y-1 transition-transform"})]})}),!w&&p.jsxs("button",{onClick:()=>e("/pricing"),className:"w-full sm:w-auto px-8 py-4 md:px-12 md:py-6 rounded-full font-bold text-sm md:text-lg text-white border border-white/20 hover:bg-white/5 hover:border-amber-400/50 hover:text-amber-300 transition-all flex items-center justify-center gap-2 backdrop-blur-sm",children:[p.jsx(Lt,{size:18,className:"text-amber-400 animate-pulse",fill:"currentColor"})," ACESSO VIP"]})]}),p.jsx("div",{className:"mt-16 md:mt-20 flex flex-wrap justify-center gap-4 md:gap-16 opacity-40 grayscale mix-blend-screen px-4",children:["Gemini 2.0 Flash","Processamento Neural","Dados Criptografados","24/7"].map((T,b)=>p.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-bold text-white whitespace-nowrap",children:[p.jsx(qx,{size:12})," ",T]},b))})]})]}),p.jsx("div",{id:"services",className:"w-full px-4 md:px-12 lg:px-24 py-16 md:py-24 bg-black/20 backdrop-blur-sm border-t border-white/5",children:p.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-10 md:mb-16 gap-6 md:gap-8 border-b border-white/5 pb-8",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsxs("h2",{className:"text-3xl md:text-5xl font-hero font-black text-white flex flex-col md:flex-row items-center md:items-center gap-2 md:gap-4 tracking-tight mb-2 md:mb-4 justify-center md:justify-start",children:[p.jsx(c_,{className:"text-indigo-500 w-8 h-8 md:w-12 md:h-12"})," ARSENAL COMPLETO"]}),p.jsx("p",{className:"text-slate-400 text-sm md:text-xl max-w-2xl mx-auto md:mx-0",children:"Ferramentas de alta performance organizadas por objetivo. Selecione seu mdulo."})]}),p.jsx("div",{className:"flex flex-wrap justify-center md:justify-end gap-2",children:_.map(T=>p.jsx("button",{onClick:()=>r(T),className:`px-3 py-2 md:px-5 md:py-2.5 rounded-xl text-[9px] md:text-xs font-black uppercase tracking-wider transition-all border ${n===T?"bg-indigo-600 text-white border-indigo-500 shadow-[0_0_20px_rgba(79,70,229,0.5)]":"bg-white/5 text-slate-400 border-white/5 hover:bg-white/10 hover:text-white"}`,children:T},T))})]}),(n==="All"||n==="Curriculo")&&p.jsxs("div",{className:"mb-12",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-amber-400 to-orange-500 flex items-center justify-center text-white shadow-lg shadow-amber-500/30",children:p.jsx(Ll,{size:20,fill:"currentColor"})}),p.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:"Carreira & Currculos de Elite"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Mr.filter(T=>T.category==="Curriculo").map(S)}),n==="All"&&p.jsx("div",{className:"h-px bg-white/5 my-12"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4 md:gap-8 auto-rows-fr",children:y.filter(T=>T.category!=="Curriculo").map(S)})]})}),p.jsx("div",{className:"relative py-20 md:py-40 border-t border-white/5 bg-[#010208]",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[p.jsxs("div",{className:"text-center mb-12 md:mb-20",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-24 md:h-24 rounded-2xl md:rounded-[2rem] bg-gradient-to-br from-indigo-900 to-slate-900 border border-indigo-500/50 mb-6 md:mb-8 shadow-[0_0_80px_rgba(99,102,241,0.3)] animate-float",children:p.jsx(Jd,{size:32,className:"md:w-12 md:h-12 text-indigo-400"})}),p.jsxs("h2",{className:"text-4xl md:text-7xl lg:text-8xl font-black mb-4 md:mb-6 tracking-tighter text-white",children:["NCLEO ",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-500 animate-gradient-x text-glow",children:"OMNI"})]}),p.jsx("p",{className:"text-indigo-200/50 text-base md:text-2xl max-w-3xl mx-auto font-light",children:"Acesso direto  rede neural bruta. Sem templates. Poder ilimitado."})]}),p.jsxs("div",{className:"glass-panel rounded-2xl md:rounded-3xl p-1 relative border border-indigo-500/20 shadow-2xl overflow-hidden ring-1 ring-white/5 max-w-5xl mx-auto",children:[!w&&p.jsxs("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-md flex flex-col items-center justify-center text-center p-6",children:[p.jsx(Wn,{size:32,className:"text-slate-500 mb-4 md:mb-6"}),p.jsx("h3",{className:"text-xl md:text-3xl font-bold mb-4 text-white",children:"Acesso Restrito Classe Elite"}),p.jsx("button",{onClick:()=>e("/pricing"),className:"btn-neon text-white px-8 py-3 md:px-10 md:py-4 rounded-full font-black tracking-wide text-xs md:text-sm",children:"DESBLOQUEAR ACESSO"})]}),p.jsxs("div",{className:"bg-[#0c0e16] rounded-xl md:rounded-[1.4rem] p-4 md:p-10 min-h-[400px] md:min-h-[500px] flex flex-col",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-8 border-b border-white/5 pb-4 gap-4 w-full",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-red-500 shadow-[0_0_10px_red]"}),p.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-yellow-500 shadow-[0_0_10px_orange]"}),p.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-green-500 shadow-[0_0_10px_green]"})]}),p.jsx("div",{className:"flex gap-2 bg-black/40 p-1 rounded-lg w-full md:w-auto overflow-x-auto no-scrollbar",children:[{id:"creative",label:"Visionrio"},{id:"analytical",label:"Analtico"},{id:"executive",label:"Executivo"}].map(T=>p.jsx("button",{onClick:()=>c(T.id),className:`flex-1 md:flex-none px-3 py-2 rounded-md text-[9px] md:text-[10px] font-black uppercase tracking-wider transition-all whitespace-nowrap ${u===T.id?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:text-white"}`,children:T.label},T.id))})]}),p.jsxs("div",{className:"flex-grow flex flex-col relative group",children:[p.jsx("textarea",{value:i,onChange:T=>o(T.target.value),placeholder:"> Insira seu comando mestre aqui...",className:"w-full bg-transparent border-none text-indigo-50 placeholder-slate-700 text-lg md:text-2xl p-0 focus:ring-0 resize-none font-mono leading-relaxed flex-grow outline-none h-40 md:h-auto"}),s.length>0&&p.jsx("div",{className:"flex gap-4 mt-6 overflow-x-auto pb-2",children:s.map((T,b)=>p.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-xl overflow-hidden border border-indigo-500/30 shadow-[0_0_20px_rgba(99,102,241,0.2)] flex-shrink-0",children:p.jsx("img",{src:T,className:"w-full h-full object-cover"})},b))})]}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-6 md:mt-8 pt-6 border-t border-white/5 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[p.jsxs("button",{onClick:()=>{var T;return(T=x.current)==null?void 0:T.click()},className:"text-slate-500 hover:text-indigo-400 transition-colors flex items-center gap-2 text-xs font-bold uppercase tracking-wider group w-full md:w-auto justify-center md:justify-start border border-slate-800 rounded-lg p-3 md:border-none md:p-0",children:[p.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full md:border border-slate-700 flex items-center justify-center group-hover:border-indigo-500 group-hover:bg-indigo-500/10",children:p.jsx(Dg,{size:14,className:"md:w-4 md:h-4"})}),"Adicionar Visual"]}),p.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",multiple:!0,onChange:k})]}),p.jsxs("button",{onClick:C,disabled:h,className:`w-full md:w-auto px-8 py-3 md:px-10 md:py-4 rounded-xl font-black text-xs md:text-sm flex items-center justify-center gap-3 transition-all ${h?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-[0_0_30px_rgba(79,70,229,0.4)] hover:scale-105 active:scale-95"}`,children:[h?p.jsx(Ig,{size:16,className:"animate-spin"}):p.jsx(Wx,{size:16}),h?"PROCESSANDO...":"EXECUTAR"]})]}),f&&p.jsxs("div",{ref:E,className:"mt-8 pt-8 border-t border-indigo-500/30 animate-fade-in pb-10",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-400 text-xs font-bold uppercase tracking-widest",children:[p.jsx(Jd,{size:14,className:"animate-spin-slow"})," Resposta do Ncleo"]}),p.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs md:text-base text-indigo-100/90 leading-relaxed overflow-x-auto",children:f})]})]})]})]})})]})},ce=({children:t,variant:e="primary",size:n="md",isLoading:r,className:i="",...o})=>{const s="inline-flex items-center justify-center font-bold tracking-tight transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl active:scale-95 relative overflow-hidden",a={primary:"bg-gradient-to-r from-indigo-600 via-violet-600 to-fuchsia-600 bg-[length:200%_auto] hover:bg-right text-white shadow-[0_0_20px_rgba(99,102,241,0.5)] hover:shadow-[0_0_30px_rgba(99,102,241,0.7)] border border-white/10 btn-shine animate-gradient-x",gold:"bg-gradient-to-r from-amber-400 to-orange-500 text-slate-900 shadow-[0_0_20px_rgba(251,191,36,0.5)] hover:shadow-[0_0_30px_rgba(251,191,36,0.7)] btn-shine hover:-translate-y-0.5",secondary:"bg-white/10 text-white hover:bg-white/20 hover:shadow-lg border border-white/10 backdrop-blur-md",outline:"border border-white/20 bg-transparent text-slate-300 hover:bg-white/5 hover:text-white hover:border-white/40",ghost:"text-slate-400 hover:bg-white/5 hover:text-white bg-transparent"},u={sm:"h-9 px-4 text-xs",md:"h-12 px-6 text-sm",lg:"h-16 px-10 text-lg"};return p.jsxs("button",{className:`${s} ${a[e]} ${u[n]} ${i}`,disabled:r||o.disabled,...o,children:[r?p.jsx("span",{className:"mr-2",children:p.jsxs("svg",{className:"animate-spin h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):null,p.jsx("span",{className:"relative z-10 flex items-center",children:t})]})},RT=({steps:t,onComplete:e,isGenerating:n})=>{const[r,i]=A.useState(0),[o,s]=A.useState({}),[a,u]=A.useState(""),[c,f]=A.useState(null),[m,h]=A.useState(!1),g=A.useRef(null),x=A.useRef(null),E=zt(),_=t[r],y=(r+1)/t.length*100;A.useEffect(()=>{const T=o[_.id];u(T||(_.type===D.MULTI_SELECT||_.type===D.MULTI_IMAGE_UPLOAD?[]:"")),f(null)},[r,_.id]),A.useEffect(()=>{const T=window.SpeechRecognition||window.webkitSpeechRecognition;if(T){const b=new T;b.lang="pt-BR",b.continuous=!1,b.interimResults=!1,b.onstart=()=>h(!0),b.onend=()=>h(!1),b.onresult=I=>{const R=I.results[0][0].transcript;u(V=>typeof V=="string"&&V?V+" "+R:R)},x.current=b}},[]);const v=()=>{if(!x.current){alert("Seu navegador no suporta escrita por voz ou no deu permisso ao microfone.");return}m?x.current.stop():x.current.start()},w=()=>{if(_.required&&(!a||Array.isArray(a)&&a.length===0)){f("Este campo  obrigatrio.");return}const T={...o,[_.id]:a};s(T),r<t.length-1?i(b=>b+1):e(T)},S=T=>{const b=Array.from(T.target.files||[]);if(b.length===0)return;const I=_.maxFiles||1;if((Array.isArray(a)?a:[]).length+b.length>I){f(`Mximo de ${I} fotos permitido.`);return}b.forEach(V=>{const Y=new FileReader;Y.onloadend=()=>{const z=Y.result;_.type===D.MULTI_IMAGE_UPLOAD?u(B=>[...Array.isArray(B)?B:[],z]):u(z)},Y.readAsDataURL(V)})},C=T=>{T!==void 0&&Array.isArray(a)?u(a.filter((b,I)=>I!==T)):u("")},k=()=>{var b;const T=_.type===D.TEXT||_.type===D.TEXTAREA;return p.jsxs("div",{className:"relative w-full",children:[T&&p.jsx("button",{type:"button",onClick:v,className:`absolute right-3 top-3 z-10 p-2 md:p-3 rounded-full transition-all shadow-md ${m?"bg-red-500 text-white animate-pulse scale-110":"bg-slate-800 border border-slate-700 text-slate-400 hover:text-white"}`,children:m?p.jsx(Pg,{size:18}):p.jsx(Mg,{size:18})}),_.type===D.TEXT&&p.jsx("input",{autoFocus:!0,type:"text",value:a,onChange:I=>u(I.target.value),className:"w-full p-4 md:p-5 pr-14 text-base md:text-xl bg-slate-900 border border-slate-700 text-white rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all font-medium placeholder-slate-600",placeholder:_.placeholder||"Digite aqui..."}),_.type===D.TEXTAREA&&p.jsx("textarea",{autoFocus:!0,rows:5,value:a,onChange:I=>u(I.target.value),className:"w-full p-4 md:p-5 pr-14 text-base md:text-xl bg-slate-900 border border-slate-700 text-white rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all font-medium resize-none placeholder-slate-600",placeholder:_.placeholder||"Descreva detalhadamente..."}),(_.type===D.IMAGE_UPLOAD||_.type===D.MULTI_IMAGE_UPLOAD)&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{onClick:()=>{var I;return(I=g.current)==null?void 0:I.click()},className:"border-2 border-dashed border-slate-700 hover:border-indigo-500 hover:bg-slate-800 rounded-[2rem] p-8 md:p-12 flex flex-col items-center justify-center cursor-pointer transition-all bg-slate-900/50",children:[p.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-slate-800 rounded-2xl shadow-xl flex items-center justify-center text-indigo-400 mb-4 transform group-hover:scale-110 transition-transform",children:p.jsx(U_,{className:"w-6 h-6 md:w-8 md:h-8"})}),p.jsx("p",{className:"font-black text-white text-base md:text-lg text-center",children:"Enviar Fotos"}),p.jsxs("p",{className:"text-xs md:text-sm text-slate-500 mt-2 font-medium text-center",children:["Arraste ou clique para selecionar (Mx: ",_.maxFiles||1,")"]}),p.jsx("input",{type:"file",ref:g,className:"hidden",accept:"image/*",multiple:_.type===D.MULTI_IMAGE_UPLOAD,onChange:S})]}),p.jsx("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:Array.isArray(a)?a.map((I,R)=>p.jsxs("div",{className:"relative w-20 h-20 md:w-24 md:h-24 rounded-2xl overflow-hidden group shadow-lg border border-slate-700",children:[p.jsx("img",{src:I,className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>C(R),className:"absolute inset-0 bg-red-500/80 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(qn,{size:24})})]},R)):a&&p.jsxs("div",{className:"relative w-28 h-28 md:w-32 md:h-32 rounded-2xl overflow-hidden group shadow-lg border border-slate-700 mx-auto md:mx-0",children:[p.jsx("img",{src:a,className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>C(),className:"absolute inset-0 bg-red-500/80 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(qn,{size:24})})]})})]}),_.type===D.SELECT&&p.jsx("div",{className:"grid gap-3 md:gap-4",children:(b=_.options)==null?void 0:b.map(I=>p.jsxs("button",{onClick:()=>u(I.value),className:`p-4 md:p-6 text-left border rounded-2xl md:rounded-3xl transition-all font-bold text-base md:text-lg flex items-center justify-between group active:scale-[0.98] ${a===I.value?"border-indigo-500 bg-indigo-600/20 text-indigo-300 shadow-xl scale-[1.02]":"border-slate-800 bg-slate-900/50 text-slate-400 hover:border-slate-600 hover:text-white"}`,children:[I.label,p.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full border-2 flex items-center justify-center transition-all ${a===I.value?"border-indigo-500 bg-indigo-500":"border-slate-600"}`,children:a===I.value&&p.jsx(Sg,{size:12,className:"text-white"})})]},I.value))})]})};return p.jsxs("div",{className:"max-w-2xl mx-auto px-2 md:px-0",children:[p.jsx("div",{className:"mb-6 md:mb-10",children:p.jsx("div",{className:"w-full bg-slate-800 h-1.5 md:h-2 rounded-full overflow-hidden shadow-inner",children:p.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-fuchsia-500 h-full transition-all duration-700 ease-out shadow-[0_0_15px_rgba(99,102,241,0.8)]",style:{width:`${y}%`}})})}),p.jsxs("div",{className:"glass-panel-dark p-6 md:p-14 rounded-[2rem] md:rounded-[3rem] shadow-2xl border border-white/10 animate-slide-up relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 md:w-40 h-32 md:h-40 bg-indigo-600/20 rounded-full -mr-16 -mt-16 blur-3xl pointer-events-none"}),p.jsx("h2",{className:"text-xl md:text-3xl font-black text-white mb-6 md:mb-10 leading-tight tracking-tight",children:_.question}),k(),c&&p.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm mt-4 font-bold animate-pulse",children:[p.jsx(qn,{size:16})," ",c]}),p.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between mt-10 md:mt-16 gap-4",children:[p.jsxs(ce,{variant:"ghost",onClick:()=>r>0?i(T=>T-1):E("/"),className:"text-slate-500 hover:text-white w-full md:w-auto",children:[p.jsx(xg,{className:"w-5 h-5 mr-2"})," Voltar"]}),p.jsxs(ce,{onClick:w,isLoading:n,size:"lg",className:"px-12 shadow-[0_0_30px_rgba(99,102,241,0.4)] w-full md:w-auto justify-center",children:[r===t.length-1?"Gerar Agora":"Prximo",r!==t.length-1&&p.jsx(lc,{className:"w-5 h-5 ml-2"})]})]})]})]})},NT=()=>{var Y,z;const{templateId:t}=ix(),e=zt(),n=Mr.find(B=>B.id===t),{user:r,consumeCredit:i}=En(),[o,s]=A.useState(!1),[a,u]=A.useState(null),[c,f]=A.useState(!1),[m,h]=A.useState("credits"),[g,x]=A.useState(""),[E,_]=A.useState(!1),y=A.useRef(null),[v,w]=A.useState(0),S=["Conectando  Rede Neural Global...","Analisando padres de alta performance...","Gerando contedo exclusivo...","Finalizando detalhes visuais..."];if(A.useEffect(()=>{let B;return o&&(B=setInterval(()=>w(re=>(re+1)%S.length),2e3)),()=>clearInterval(B)},[o]),A.useEffect(()=>{const B=window.SpeechRecognition||window.webkitSpeechRecognition;B&&(y.current=new B,y.current.lang="pt-BR",y.current.continuous=!1,y.current.interimResults=!1,y.current.onstart=()=>_(!0),y.current.onend=()=>_(!1),y.current.onresult=re=>{const W=re.results[0][0].transcript;x(pe=>pe+" "+W)})},[]),!n)return p.jsx("div",{className:"text-center py-40 font-black text-3xl text-slate-300",children:"Ferramenta no encontrada."});const C=(r==null?void 0:r.planType)==="master_monthly"||(r==null?void 0:r.planType)==="yearly"||(r==null?void 0:r.isAdmin),k=(r==null?void 0:r.isPro)||C,T=async B=>{if(!r){e("/login",{state:{from:{pathname:`/generate/${n.id}`}}});return}if(!(C||k)){if(n.category==="Curriculo"){h("one_time"),f(!0);return}if(n.minPlan==="master"){h("master"),f(!0);return}if(n.minPlan==="pro"){h("pro"),f(!0);return}if(r.credits<=0){h("credits"),f(!0);return}}s(!0);try{if(!k&&!C&&n.category!=="Curriculo"&&!await i(n.outputType==="IMAGE"?"IMAGE":"TEXT"))throw new Error("Credits error.");const re=await kT(n,B,k),W={id:"",templateId:n.id,title:`${n.title} - ${new Date().toLocaleDateString()}`,content:re,createdAt:new Date,previewSnippet:n.outputType==="TEXT"?re.substring(0,150)+"...":n.outputType,type:n.outputType};if(r!=null&&r.id){const{data:pe}=await Pe.from("documents").insert({user_id:r.id,template_id:n.id,title:W.title,content:re,type:n.outputType,preview_snippet:W.previewSnippet}).select().single();pe&&(W.id=pe.id)}u(W),s(!1),window.scrollTo({top:0,behavior:"smooth"})}catch(re){console.error(re),s(!1),alert("Ocorreu um erro na gerao. Tente novamente.")}},b=async()=>{if(g.trim()){s(!0);try{const B=g,re=await AT(a.content,B,n);u(W=>W?{...W,content:re}:null),x(""),a!=null&&a.id&&await Pe.from("documents").update({content:re}).eq("id",a.id)}catch(B){console.error(B)}finally{s(!1)}}},I=()=>{if(!y.current){alert("Seu navegador no suporta escrita por voz.");return}E?y.current.stop():y.current.start()},R=()=>{if(!a)return;if(a.type==="IMAGE"){const pe=document.createElement("a");pe.href=a.content,pe.download=`imagem-${a.id}.png`,pe.target="_blank",pe.click();return}const B=new Blob([a.content],{type:"text/html;charset=utf-8"}),re=URL.createObjectURL(B),W=document.createElement("a");W.href=re,W.download=`${a.title}.html`,W.click()},V=()=>{var W;const B=`Ol! Gostaria de comprar o acesso avulso para a ferramenta *${n.title}* por *R$ ${(W=n.oneTimePrice)==null?void 0:W.toFixed(2)}*. Como procedo para o pagamento?`,re=`https://wa.me/${ws}?text=${encodeURIComponent(B)}`;window.open(re,"_blank")};return a?p.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-16 animate-slide-up",children:[p.jsxs("div",{className:"flex justify-between items-center mb-16",children:[p.jsxs(ce,{variant:"ghost",onClick:()=>u(null),className:"text-lg",children:[p.jsx(Dg,{className:"mr-2"})," Novo Projeto"]}),p.jsxs(ce,{onClick:R,size:"lg",className:"shadow-2xl shadow-indigo-200 text-lg px-12",children:[p.jsx(Yx,{className:"mr-3"})," Baixar"]})]}),p.jsxs("div",{className:"glass-panel rounded-[3rem] p-8 md:p-16 shadow-2xl mb-10 relative overflow-hidden",children:[p.jsx("div",{className:`absolute top-0 left-0 w-full h-2 ${n.color}`}),p.jsx("div",{className:"prose prose-lg prose-indigo max-w-none text-slate-800",children:n.outputType==="SITE"?p.jsx("div",{className:"h-[800px] rounded-[2rem] overflow-hidden border border-slate-200 shadow-inner bg-white",children:p.jsx("iframe",{srcDoc:a.content,className:"w-full h-full",title:"Result"})}):n.outputType==="IMAGE"?p.jsx("div",{className:"flex justify-center",children:p.jsx("img",{src:a.content,alt:"Resultado IA",className:"rounded-2xl shadow-lg max-h-[800px]"})}):p.jsx("pre",{className:"whitespace-pre-wrap font-sans leading-relaxed text-xl bg-transparent p-0 border-none",children:a.content})})]}),n.outputType!=="IMAGE"&&p.jsx("div",{className:"max-w-3xl mx-auto",children:p.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white/60 rounded-[2.5rem] p-6 shadow-xl omni-input-glow transition-all",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-900 flex items-center justify-center text-white shadow-lg",children:p.jsx(vt,{size:16,fill:"white"})}),p.jsx("span",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Refinar Resultado"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("textarea",{value:g,onChange:B=>x(B.target.value),placeholder:"O que voc deseja alterar no texto/cdigo acima?",className:"w-full bg-slate-50 border-none rounded-[1.8rem] p-6 pr-32 text-slate-800 focus:ring-0 resize-none h-32 text-lg font-medium placeholder-slate-400"}),p.jsxs("div",{className:"absolute right-4 bottom-4 flex items-center gap-2",children:[p.jsx("button",{onClick:I,className:`p-3 border rounded-full transition-all shadow-sm ${E?"bg-red-500 text-white border-red-500 animate-pulse":"bg-white border-slate-200 text-slate-500 hover:bg-indigo-50 hover:text-indigo-600"}`,children:E?p.jsx(Pg,{size:22}):p.jsx(Mg,{size:22})}),p.jsx("button",{onClick:b,disabled:o||!g.trim(),className:"p-3 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 disabled:opacity-50 shadow-lg shadow-indigo-200",children:p.jsx(uc,{size:22,className:"ml-0.5"})})]})]})]})})]}):p.jsxs("div",{className:"max-w-4xl mx-auto py-32 px-4 animate-fade-in bg-mesh-light min-h-screen",children:[o&&p.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950/90 backdrop-blur-3xl flex flex-col items-center justify-center p-12 text-center",children:[p.jsxs("div",{className:"w-32 h-32 mb-12 relative",children:[p.jsx("div",{className:"absolute inset-0 border-[6px] border-indigo-500/20 rounded-full"}),p.jsx("div",{className:"absolute inset-0 border-[6px] border-indigo-500 border-t-transparent rounded-full animate-spin"}),p.jsx("div",{className:"absolute inset-0 m-auto w-20 h-20 bg-indigo-500/20 rounded-full blur-xl animate-pulse"}),p.jsx(vt,{className:"absolute inset-0 m-auto text-white animate-pulse",size:40,fill:"currentColor"})]}),p.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6 tracking-tighter max-w-2xl leading-tight",children:S[v]}),p.jsx("p",{className:"text-slate-400 text-xl font-light",children:"Criando algo nico para voc..."})]}),p.jsxs("div",{className:"text-center mb-24",children:[p.jsx("div",{className:`w-24 h-24 mx-auto rounded-[2rem] ${n.color} text-white flex items-center justify-center mb-10 shadow-2xl transform rotate-3`,children:Wl[n.icon]&&hu.createElement(Wl[n.icon],{size:48,strokeWidth:2})}),p.jsx("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 tracking-tighter mb-8",children:n.title}),p.jsx("p",{className:"text-slate-500 text-2xl font-medium max-w-2xl mx-auto leading-relaxed",children:n.description}),n.category==="Curriculo"?p.jsxs("div",{className:"mt-10 inline-flex items-center gap-3 bg-white text-slate-900 px-8 py-3 rounded-full text-xs font-black border border-slate-200 shadow-sm animate-pulse-glow",children:[p.jsx(Jn,{size:14}),k?"INCLUSO NO SEU PLANO":`R$ ${(Y=n.oneTimePrice)==null?void 0:Y.toFixed(2)} (COMPRA NICA)`]}):n.minPlan==="master"?p.jsxs("div",{className:"mt-10 inline-flex items-center gap-3 bg-slate-900 text-white px-8 py-3 rounded-full text-xs font-black border border-slate-800 shadow-xl",children:[p.jsx(Lt,{size:14,fill:"#fbbf24",className:"text-amber-400"})," EXCLUSIVO MASTER"]}):n.minPlan==="pro"?p.jsxs("div",{className:"mt-10 inline-flex items-center gap-3 bg-gradient-to-r from-indigo-600 to-fuchsia-600 text-white px-8 py-3 rounded-full text-xs font-black shadow-xl",children:[p.jsx(fc,{size:14,fill:"white"})," SERVIO PRO"]}):p.jsxs("div",{className:"mt-10 inline-flex items-center gap-3 bg-white text-indigo-700 px-8 py-3 rounded-full text-xs font-black border border-indigo-100 shadow-sm",children:[p.jsx(vt,{size:14,fill:"currentColor"})," GRTIS / CRDITOS"]})]}),p.jsx(RT,{steps:n.steps,onComplete:T,isGenerating:o}),c&&p.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-xl flex items-center justify-center p-6",children:p.jsxs("div",{className:"bg-white rounded-[4rem] p-16 max-w-xl w-full shadow-[0_60px_120px_rgba(0,0,0,0.5)] border border-white/50 animate-slide-up text-center relative overflow-hidden",children:[p.jsx("div",{className:`absolute top-0 inset-x-0 h-2 ${n.color}`}),p.jsx("div",{className:"w-28 h-28 bg-slate-50 rounded-[2rem] flex items-center justify-center mx-auto mb-10 text-indigo-600 shadow-inner",children:m==="master"?p.jsx(Lt,{size:56,fill:"currentColor",className:"text-amber-500"}):m==="one_time"?p.jsx(Jn,{size:56}):m==="pro"?p.jsx(ms,{size:56}):p.jsx(vt,{size:56,fill:"currentColor"})}),p.jsx("h3",{className:"text-4xl font-black text-slate-900 mb-6 leading-tight tracking-tight",children:m==="one_time"?"Desbloquear Documento":m==="master"?"Exclusivo Master":m==="pro"?"Seja Premium":"Sem Crditos"}),p.jsx("p",{className:"text-slate-500 text-lg font-medium mb-12 leading-relaxed",children:m==="one_time"?`Currculos so documentos de alto valor. Adquira este modelo por R$ ${(z=n.oneTimePrice)==null?void 0:z.toFixed(2)} ou assine para acesso ilimitado.`:m==="master"?"Este servio utiliza recursos avanados exclusivos do plano Master.":m==="credits"?"Seus 5 crditos gratuitos acabaram. Espere a recarga ou assine.":"Liberte todo o potencial da IA com nossos planos."}),p.jsxs("div",{className:"space-y-4",children:[m==="one_time"&&p.jsxs(ce,{className:"w-full justify-center h-16 rounded-[2rem] text-xl bg-slate-900 hover:bg-slate-800",onClick:V,children:[p.jsx(Gi,{size:24,className:"mr-2"}),"COMPRAR VIA WHATSAPP"]}),p.jsx(ce,{className:"w-full justify-center h-16 rounded-[2rem] text-xl shadow-xl hover:scale-[1.02] transition-transform",onClick:()=>e("/pricing"),children:m==="one_time"?"OU ASSINAR PRO (ILIMITADO)":"VER PLANOS"}),p.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 text-xs font-bold hover:text-slate-600 mt-6 block w-full tracking-[0.2em] uppercase",children:"Cancelar"})]})]})})]})},PT=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(null),[i,o]=A.useState(!0),{user:s}=En();A.useEffect(()=>{s!=null&&s.id?a():o(!1)},[s]);const a=async()=>{o(!0);const{data:h,error:g}=await Pe.from("documents").select("*").order("created_at",{ascending:!1});if(!g&&h){const x=h.map(E=>({id:E.id,templateId:E.template_id,title:E.title,content:E.content,createdAt:E.created_at,previewSnippet:E.preview_snippet,type:E.type}));e(x)}o(!1)},u=async h=>{if(confirm("Tem certeza que deseja apagar este documento?")){const{error:g}=await Pe.from("documents").delete().eq("id",h);g||e(t.filter(x=>x.id!==h))}},c=h=>{r(n===h?null:h)},f=h=>{navigator.clipboard.writeText(h),alert("Contedo copiado!")},m=h=>{switch(h){case"IMAGE":return p.jsx(Ag,{size:24});case"SITE":return p.jsx(kg,{size:24});default:return p.jsx(ms,{size:24})}};return i?p.jsx("div",{className:"flex justify-center items-center py-40",children:p.jsx(Ig,{className:"animate-spin text-indigo-600",size:32})}):p.jsxs("div",{className:"max-w-5xl mx-auto pt-32 pb-12 px-4 animate-fade-in min-h-screen",children:[p.jsx("div",{className:"flex items-center justify-between mb-8",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Meus Arquivos"}),p.jsx("p",{className:"text-slate-400 mt-1",children:"Seus documentos salvos na nuvem."})]})}),t.length===0?p.jsxs("div",{className:"text-center py-20 bg-slate-900/50 rounded-2xl border border-white/5 border-dashed animate-slide-up backdrop-blur-sm",children:[p.jsx("div",{className:"w-16 h-16 bg-slate-800 text-slate-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(ms,{size:32})}),p.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Nenhum arquivo ainda"}),p.jsx("p",{className:"text-slate-400 mb-6",children:"Comece agora a usar a consultoria inteligente."}),p.jsx(Ne,{to:"/",children:p.jsx(ce,{className:"shadow-lg shadow-indigo-900/50",children:"Criar Novo"})})]}):p.jsx("div",{className:"grid gap-4",children:t.map((h,g)=>p.jsxs("div",{className:`bg-slate-900/60 backdrop-blur-md rounded-xl border border-white/10 shadow-sm transition-all duration-300 ${n===h.id?"shadow-lg ring-1 ring-indigo-500/50":"hover:bg-slate-800/80 hover:translate-y-[-2px]"} animate-slide-up`,style:{animationDelay:`${g*50}ms`},children:[p.jsxs("div",{className:"p-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-start gap-4 cursor-pointer flex-grow",onClick:()=>c(h.id),children:[p.jsx("div",{className:`p-3 rounded-lg hidden sm:block transition-colors ${n===h.id?"bg-indigo-500/20 text-indigo-400":"bg-slate-800 text-slate-500"}`,children:m(h.type)}),p.jsxs("div",{children:[p.jsx("h4",{className:`font-bold text-lg transition-colors ${n===h.id?"text-indigo-400":"text-slate-200"}`,children:h.title}),p.jsxs("div",{className:"flex items-center text-xs text-slate-500 mt-1 mb-2",children:[p.jsx(jx,{size:12,className:"mr-1"}),new Date(h.createdAt).toLocaleDateString()," s ",new Date(h.createdAt).toLocaleTimeString()]}),!n&&p.jsx("p",{className:"text-sm text-slate-400 line-clamp-2 max-w-xl",children:h.type==="SITE"?"Cdigo HTML Gerado":h.previewSnippet})]})]}),p.jsxs("div",{className:"flex gap-2 shrink-0",children:[p.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>c(h.id),className:"border-white/10 text-slate-300 hover:text-white",children:[n===h.id?"Fechar":"Ver",n===h.id?p.jsx(Hx,{size:14,className:"ml-1"}):p.jsx(Bx,{size:14,className:"ml-1"})]}),p.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>u(h.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:p.jsx(D_,{size:16})})]})]}),n===h.id&&p.jsx("div",{className:"px-6 pb-6 pt-0 border-t border-white/5 animate-fade-in",children:h.type==="IMAGE"?p.jsxs("div",{className:"py-4 flex flex-col items-center",children:[p.jsx("img",{src:h.content,alt:h.title,className:"max-w-full rounded-lg shadow-sm border border-slate-700 mb-4 max-h-[500px]"}),p.jsx("a",{href:h.content,download:`imagem-${h.id}.png`,children:p.jsx(ce,{size:"sm",children:"Baixar Imagem"})})]}):h.type==="SITE"?p.jsxs("div",{className:"py-4",children:[p.jsx("div",{className:"h-[400px] border border-slate-700 rounded-lg overflow-hidden mb-4 bg-white",children:p.jsx("iframe",{srcDoc:h.content,className:"w-full h-full",title:"Site Preview"})}),p.jsx(ce,{size:"sm",onClick:()=>f(h.content),children:"Copiar HTML"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex justify-end py-2",children:p.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>f(h.content),className:"text-indigo-400 hover:text-indigo-300",children:[p.jsx(Tg,{size:14,className:"mr-1"})," Copiar Tudo"]})}),p.jsx("div",{className:"bg-slate-950/50 p-6 rounded-lg border border-white/5 overflow-x-auto max-h-[500px] overflow-y-auto custom-scrollbar",children:p.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-slate-300 leading-relaxed",children:h.content})})]})})]},h.id))})]})},MT=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(!1),[i,o]=A.useState(""),[s,a]=A.useState(""),[u,c]=A.useState(""),[f,m]=A.useState(!1),[h,g]=A.useState(""),{login:x,signUp:E}=En(),_=zt(),y=Ht();A.useEffect(()=>{let w;return f&&(w=setTimeout(()=>{f&&(m(!1),g("A conexo est demorando muito. Tente novamente."))},15e3)),()=>clearTimeout(w)},[f]);const v=async w=>{var S,C;w.preventDefault(),m(!0),g("");try{if(t){const k=await E(s,u,i);if(k.success){if(k.session){_("/",{replace:!0});return}(await x(s,u)).success?_("/",{replace:!0}):r(!0)}else g(k.error||"Erro ao criar conta.")}else{const k=await x(s,u);if(k.success){const T=((C=(S=y.state)==null?void 0:S.from)==null?void 0:C.pathname)||"/";_(T,{replace:!0})}else g(k.error||"Erro ao entrar.")}}catch(k){console.error(k),g("Ocorreu um erro inesperado.")}finally{m(!1)}};return n?p.jsx("div",{className:"min-h-[calc(100vh-8rem)] flex items-center justify-center py-8 px-4",children:p.jsxs("div",{className:"bg-white rounded-[2rem] md:rounded-[3rem] shadow-2xl border border-slate-200 p-8 md:p-16 max-w-lg w-full text-center animate-fade-in",children:[p.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 md:mb-10 animate-pulse",children:p.jsx(uc,{size:40})}),p.jsx("h2",{className:"text-3xl md:text-4xl font-black text-slate-950 mb-4 md:mb-6 font-heading tracking-tighter",children:"Verifique seu E-mail"}),p.jsxs("p",{className:"text-slate-600 text-lg md:text-xl mb-8 md:mb-12 leading-relaxed",children:["Enviamos um link de confirmao para ",p.jsx("br",{}),p.jsx("strong",{children:s}),"."]}),p.jsx(ce,{onClick:()=>r(!1),variant:"outline",className:"w-full h-14 md:h-16 rounded-2xl",children:"Voltar para Login"})]})}):p.jsx("div",{className:"min-h-[calc(100vh-8rem)] flex items-center justify-center py-4 md:py-8 px-4",children:p.jsxs("div",{className:"bg-white rounded-[2rem] md:rounded-[4rem] shadow-3xl border border-slate-100 overflow-hidden flex flex-col md:flex-row max-w-6xl w-full mx-auto animate-fade-in",children:[p.jsxs("div",{className:"p-8 md:p-20 md:w-1/2 flex flex-col justify-center bg-white order-2 md:order-1",children:[p.jsxs(Ne,{to:"/",className:"inline-flex items-center text-xs md:text-sm font-black text-slate-400 hover:text-indigo-600 mb-8 md:mb-12 transition-colors group uppercase tracking-widest",children:[p.jsx(xg,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Voltar ao site"]}),p.jsxs("div",{className:"text-left mb-8 md:mb-12",children:[p.jsx("h2",{className:"text-3xl md:text-5xl font-black text-slate-950 mb-3 md:mb-4 font-heading tracking-tighter leading-tight",children:t?"Criar Conta Elite":"Acesse seu Estdio"}),p.jsx("p",{className:"text-slate-500 text-base md:text-xl font-medium",children:"A inteligncia artificial de ltima gerao ao seu comando."})]}),p.jsxs("form",{className:"space-y-5 md:space-y-6",onSubmit:v,children:[h&&p.jsxs("div",{className:"bg-red-50 text-red-600 p-4 md:p-5 rounded-2xl text-xs md:text-sm border border-red-100 flex items-center gap-3 animate-fade-in",children:[p.jsx(Lg,{size:20}),p.jsx("span",{className:"font-bold",children:h})]}),t&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"Nome Completo"}),p.jsxs("div",{className:"relative",children:[p.jsx($g,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5"}),p.jsx("input",{type:"text",value:i,onChange:w=>o(w.target.value),placeholder:"Como voc quer ser chamado?",className:"w-full p-4 md:p-5 pl-12 md:pl-14 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all font-medium text-sm md:text-base text-slate-900 placeholder:text-slate-400",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"E-mail Corporativo"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ng,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5"}),p.jsx("input",{type:"email",value:s,onChange:w=>a(w.target.value),placeholder:"seu@email.com",className:"w-full p-4 md:p-5 pl-12 md:pl-14 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all font-medium text-sm md:text-base text-slate-900 placeholder:text-slate-400",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"Senha Segura"}),p.jsxs("div",{className:"relative",children:[p.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5"}),p.jsx("input",{type:"password",value:u,onChange:w=>c(w.target.value),placeholder:"",className:"w-full p-4 md:p-5 pl-12 md:pl-14 border-2 border-slate-100 rounded-2xl focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all font-medium text-sm md:text-base text-slate-900 placeholder:text-slate-400",required:!0})]})]}),p.jsx(ce,{type:"submit",className:"w-full h-14 md:h-16 text-lg md:text-xl rounded-2xl shadow-2xl btn-premium mt-4 md:mt-6",size:"lg",isLoading:f,children:t?"CONSTRUIR MINHA CONTA":"ACESSAR AGORA"})]}),p.jsx("div",{className:"mt-8 md:mt-12 text-center",children:p.jsx("button",{onClick:()=>{e(!t),g("")},className:"text-slate-400 hover:text-indigo-600 font-black text-xs uppercase tracking-widest transition-all p-2",children:t?"J faz parte da elite? Fazer Login":"Ainda no tem acesso? Criar Grtis"})})]}),p.jsxs("div",{className:"bg-slate-950 p-8 md:p-20 md:w-1/2 flex flex-col justify-center text-white relative overflow-hidden order-1 md:order-2 min-h-[300px] md:min-h-0",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 md:w-96 h-64 md:h-96 bg-indigo-600/20 rounded-full blur-[80px] md:blur-[120px] -mr-10 -mt-10"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-48 md:w-80 h-48 md:h-80 bg-fuchsia-600/10 rounded-full blur-[60px] md:blur-[100px] -mb-10 -ml-10"}),p.jsxs("div",{className:"relative z-10 text-center md:text-left",children:[p.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-3xl bg-gradient-to-br from-indigo-500 to-fuchsia-600 flex items-center justify-center mb-6 md:mb-10 shadow-3xl transform rotate-6 mx-auto md:mx-0",children:p.jsx(vt,{className:"text-white w-8 h-8 md:w-10 md:h-10 fill-white"})}),p.jsx("h3",{className:"text-3xl md:text-6xl font-heading font-black mb-6 md:mb-10 leading-tight tracking-tighter",children:"A prxima gerao de criadores est aqui."}),p.jsxs("div",{className:"space-y-4 md:space-y-6 hidden sm:block",children:[p.jsxs("div",{className:"flex items-center gap-4 text-slate-400 font-medium text-sm md:text-lg justify-center md:justify-start",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"})," IA Gemini 3 Pro Elite"]}),p.jsxs("div",{className:"flex items-center gap-4 text-slate-400 font-medium text-sm md:text-lg justify-center md:justify-start",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-fuchsia-500"})," Gerao de Cdigo & Sites"]}),p.jsxs("div",{className:"flex items-center gap-4 text-slate-400 font-medium text-sm md:text-lg justify-center md:justify-start",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"})," Suporte Consultivo 24/7"]})]})]})]})]})})},DT="https://checkout-seguro-mp-v3.onrender.com",UT=({plan:t,user:e,onClose:n})=>{const[r,i]=A.useState("details"),[o,s]=A.useState(!1),[a,u]=A.useState(""),[c,f]=A.useState(""),[m,h]=A.useState(""),[g,x]=A.useState("pix"),[E,_]=A.useState(""),[y,v]=A.useState(""),[w,S]=A.useState(""),C=R=>{R=R.replace(/\D/g,""),R.length>11&&(R=R.substring(0,11)),R=R.replace(/(\d{3})(\d)/,"$1.$2"),R=R.replace(/(\d{3})(\d)/,"$1.$2"),R=R.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),f(R)},k=R=>{R=R.replace(/\D/g,""),R=R.replace(/^(\d{2})(\d)/g,"($1) $2"),R=R.replace(/(\d)(\d{4})$/,"$1-$2"),h(R)},T=async()=>{if(c.length<14||m.length<14){u("Por favor, preencha CPF e Telefone corretamente.");return}s(!0),u("");try{const R={planId:t.id,name:e.name,email:e.email,userId:e.id,cpfCnpj:c.replace(/\D/g,"")},V=await fetch(`${DT}/api/pagamento/criar-checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),Y=await V.json();if(!V.ok)throw new Error(Y.error||"Erro na conexo com pagamento");Y.paymentUrl&&S(Y.paymentUrl),Y.qr_code_base64&&_(Y.qr_code_base64),Y.qr_code&&v(Y.qr_code),i("payment")}catch(R){console.error(R),u("backend_fail")}finally{s(!1)}},b=()=>{const R=`Ol! Tentei assinar o plano *${t.name}* (R$ ${t.price}) mas tive problemas no site. Pode me enviar o link de pagamento? Meus dados: ${e.email}`;window.open(`https://wa.me/${ws}?text=${encodeURIComponent(R)}`,"_blank")},I=()=>{navigator.clipboard.writeText(y),alert("Cdigo PIX copiado!")};return p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm animate-fade-in",children:p.jsxs("div",{className:"bg-[#0f111a] w-full max-w-md rounded-3xl border border-white/10 shadow-2xl relative overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"p-6 border-b border-white/5 bg-slate-900/50 flex justify-between items-center",children:[p.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[p.jsx(Wn,{size:18,className:"text-emerald-400"})," Checkout Seguro"]}),p.jsx("button",{onClick:n,className:"text-slate-400 hover:text-white transition-colors",children:p.jsx(qn,{size:24})})]}),a==="backend_fail"?p.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center h-full",children:[p.jsx("div",{className:"w-20 h-20 bg-amber-500/10 rounded-full flex items-center justify-center mb-6",children:p.jsx(Ul,{size:40,className:"text-amber-500"})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Ops! Instabilidade temporria."}),p.jsx("p",{className:"text-slate-400 mb-8",children:"No conseguimos gerar o pagamento automtico agora. Mas no se preocupe, finalize diretamente pelo WhatsApp."}),p.jsxs(ce,{onClick:b,className:"w-full h-14 text-lg bg-[#25D366] hover:bg-[#128C7E] text-white shadow-lg shadow-green-900/20",children:[p.jsx(Gi,{size:24,className:"mr-2"}),"FINALIZAR NO WHATSAPP"]}),p.jsx("button",{onClick:()=>u(""),className:"mt-4 text-slate-500 text-sm hover:text-white underline",children:"Tentar novamente"})]}):r==="details"?p.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-white/5 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Voc est assinando"}),p.jsx("h4",{className:"text-lg font-black text-white",children:t.name})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-xl font-black text-emerald-400",children:["R$ ",t.price]}),p.jsx("p",{className:"text-[10px] text-slate-500",children:t.period})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase ml-1",children:"CPF (Titular)"}),p.jsx("input",{type:"text",value:c,onChange:R=>C(R.target.value),placeholder:"000.000.000-00",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-4 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder-slate-600",maxLength:14})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase ml-1",children:"Celular / WhatsApp"}),p.jsx("input",{type:"text",value:m,onChange:R=>k(R.target.value),placeholder:"(00) 00000-0000",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-4 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder-slate-600",maxLength:15})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase ml-1 mb-2 block",children:"Forma de Pagamento"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:()=>x("pix"),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${g==="pix"?"bg-emerald-500/10 border-emerald-500 text-emerald-400":"bg-slate-900 border-slate-700 text-slate-500 hover:border-slate-500"}`,children:[p.jsx(C_,{size:24}),p.jsx("span",{className:"font-bold text-sm",children:"PIX (Instantneo)"})]}),p.jsxs("button",{onClick:()=>x("card"),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${g==="card"?"bg-indigo-500/10 border-indigo-500 text-indigo-400":"bg-slate-900 border-slate-700 text-slate-500 hover:border-slate-500"}`,children:[p.jsx(Jn,{size:24}),p.jsx("span",{className:"font-bold text-sm",children:"Carto de Crdito"})]})]})]}),a&&p.jsxs("div",{className:"text-red-400 text-sm font-bold bg-red-400/10 p-3 rounded-lg flex items-center gap-2",children:[p.jsx(Ul,{size:16})," ",a]}),p.jsx(ce,{onClick:T,isLoading:o,className:"w-full h-14 text-lg shadow-xl shadow-indigo-900/20",children:g==="pix"?"GERAR PAGAMENTO PIX":"IR PARA PAGAMENTO"}),p.jsx("p",{className:"text-center text-[10px] text-slate-500",children:"Ambiente criptografado. Seus dados esto seguros."})]}):p.jsxs("div",{className:"p-6 space-y-6 flex flex-col items-center text-center",children:[g==="pix"?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center text-emerald-400 mb-2",children:p.jsx(Eg,{size:32})}),p.jsx("h3",{className:"text-xl font-bold text-white",children:"Pagamento Gerado!"}),E?p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"text-slate-400 text-sm",children:"Escaneie o QR Code abaixo:"}),p.jsx("div",{className:"bg-white p-4 rounded-xl shadow-lg my-4",children:p.jsx("img",{src:`data:image/png;base64,${E}`,alt:"QR Code Pix",className:"w-48 h-48"})})]}):p.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-4 rounded-xl my-4 text-amber-300 text-sm",children:[p.jsx("p",{className:"font-bold",children:"QR Code de Imagem no disponvel."}),p.jsx("p",{className:"text-xs mt-1",children:'Utilize o boto "Copia e Cola" abaixo ou clique em "Abrir Fatura".'})]}),y&&p.jsxs("div",{className:"w-full",children:[p.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block",children:"Pix Copia e Cola"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{value:y,readOnly:!0,className:"bg-slate-900 border border-slate-700 text-slate-300 text-xs p-3 rounded-lg w-full truncate"}),p.jsx("button",{onClick:I,className:"bg-indigo-600 hover:bg-indigo-500 text-white p-3 rounded-lg",children:p.jsx(Tg,{size:16})})]})]}),p.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"w-full mt-2",children:p.jsx(ce,{variant:"outline",className:"w-full h-12 text-sm border-emerald-500/50 text-emerald-400 hover:bg-emerald-500/10",children:"ABRIR FATURA COMPLETA"})})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-16 h-16 bg-indigo-500/20 rounded-full flex items-center justify-center text-indigo-400 mb-2 animate-pulse",children:p.jsx(Jn,{size:32})}),p.jsx("h3",{className:"text-xl font-bold text-white",children:"Quase l!"}),p.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Para sua segurana, finalize o pagamento no checkout blindado."}),p.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"w-full",children:p.jsx(ce,{className:"w-full h-14 text-lg",children:"ABRIR CHECKOUT SEGURO"})})]}),p.jsx("div",{className:"w-full pt-6 border-t border-white/5 mt-4",children:p.jsxs("button",{onClick:b,className:"text-sm font-bold text-slate-500 hover:text-green-400 flex items-center justify-center gap-2 w-full transition-colors",children:[p.jsx(Gi,{size:16})," Tive um problema, me ajude no WhatsApp"]})})]})]})})},LT=()=>{const t=zt(),{user:e}=En(),[n,r]=A.useState(null),i=o=>{if(!e){t("/login");return}if(o.price==="0.00"){t("/");return}r(o)};return p.jsxs("div",{className:"max-w-7xl mx-auto py-20 md:py-32 px-4 animate-fade-in relative bg-mesh-dark min-h-screen",children:[p.jsxs("div",{className:"text-center mb-16 md:mb-32",children:[p.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-2 rounded-full bg-white/5 border border-white/10 text-indigo-300 text-[10px] font-black uppercase tracking-[0.3em] mb-8 md:mb-10 shadow-[0_0_20px_rgba(99,102,241,0.2)]",children:[p.jsx(Fg,{size:14})," Retorno Sobre Investimento"]}),p.jsxs("h1",{className:"text-5xl sm:text-7xl md:text-[8rem] font-black text-white mb-6 md:mb-8 leading-[0.9] md:leading-[0.85] tracking-tighter drop-shadow-2xl",children:["Poder. ",p.jsx("br",{}),p.jsx("span",{className:"text-gradient-animated",children:"Ilimitado."})]}),p.jsx("p",{className:"text-base md:text-xl text-slate-400 font-light max-w-xs md:max-w-2xl mx-auto leading-relaxed",children:"Ferramentas de nvel corporativo acessveis para voc. Cancele quando quiser, sem perguntas."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 mb-32 md:mb-48 perspective-1000 items-end",children:i0.map(o=>{const s=o.id.includes("master"),a=o.highlight;return p.jsxs("div",{className:`
                group relative rounded-[2rem] md:rounded-[2.5rem] p-6 md:p-8 flex flex-col overflow-hidden backface-hidden transition-all duration-500
                ${s?"bg-slate-900 border border-amber-500/50 shadow-[0_0_50px_rgba(245,158,11,0.15)] md:scale-110 z-10 hover:-translate-y-2":a?"bg-slate-900/60 border border-indigo-500/30 backdrop-blur-md hover:-translate-y-2 hover:border-indigo-500/50":"bg-slate-950/40 border border-white/10 backdrop-blur-md hover:-translate-y-2 hover:border-white/20"}
            `,children:[s&&p.jsx("div",{className:"absolute top-0 inset-x-0 h-[2px] bg-gradient-to-r from-transparent via-amber-400 to-transparent shadow-[0_0_20px_#fbbf24]"}),p.jsxs("div",{className:"mb-6 md:mb-8 text-center",children:[p.jsx("div",{className:`w-16 h-16 md:w-20 md:h-20 mx-auto rounded-2xl flex items-center justify-center mb-6 shadow-xl transition-all group-hover:scale-110 ${s?"bg-gradient-to-br from-amber-400 to-orange-600 text-slate-900":a?"bg-gradient-to-br from-indigo-500 to-fuchsia-600 text-white":"bg-slate-800 text-slate-500"}`,children:s?p.jsx(Lt,{className:"w-8 h-8 md:w-10 md:h-10",fill:"currentColor"}):p.jsx(vt,{className:"w-8 h-8 md:w-10 md:h-10",fill:"currentColor"})}),p.jsx("h3",{className:`text-2xl md:text-3xl font-black mb-2 tracking-tight ${s?"text-white":"text-slate-200"}`,children:o.name}),p.jsx("p",{className:"text-xs md:text-sm font-medium text-slate-500 leading-relaxed px-4",children:o.description})]}),p.jsxs("div",{className:"mb-8 md:mb-10 text-center",children:[p.jsxs("div",{className:"flex items-baseline justify-center gap-1 text-white",children:[p.jsx("span",{className:"text-base md:text-lg font-bold opacity-60",children:"R$"}),p.jsx("span",{className:"text-5xl md:text-6xl font-black tracking-tighter",children:o.price})]}),p.jsx("span",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] mt-2 block text-slate-500",children:o.period})]}),p.jsx("div",{className:"space-y-3 md:space-y-4 mb-8 md:mb-10 flex-grow px-2",children:o.features.map((u,c)=>p.jsxs("div",{className:`flex items-start gap-3 text-xs md:text-sm font-bold ${s?"text-slate-300":"text-slate-400"}`,children:[p.jsx("div",{className:`shrink-0 w-4 h-4 md:w-5 md:h-5 rounded-full flex items-center justify-center ${s?"bg-amber-500 text-slate-950":a?"bg-indigo-600 text-white":"bg-slate-800 text-slate-500"}`,children:p.jsx(Sg,{size:10,strokeWidth:4})}),u]},c))}),p.jsxs("button",{onClick:()=>i(o),className:`w-full h-14 md:h-16 rounded-2xl text-xs md:text-sm font-black group flex items-center justify-center gap-2 transition-all shadow-xl hover:scale-[1.02] active:scale-95 ${s?"bg-amber-400 hover:bg-amber-300 text-slate-950 btn-shine":a?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-white text-slate-900 hover:bg-slate-200"}`,children:[o.price==="0.00"?"CRIAR CONTA GRTIS":"GARANTIR ACESSO",p.jsx(lc,{className:"transition-transform group-hover:translate-x-1",size:16})]}),s&&p.jsxs("div",{className:"mt-4 flex justify-center items-center gap-2 text-[9px] md:text-[10px] text-amber-500/80 font-bold uppercase tracking-wider",children:[p.jsx(cc,{size:12})," Garantia de 7 dias"]})]},o.id)})}),n&&e&&p.jsx(UT,{plan:n,user:e,onClose:()=>r(null)})]})},OT={promoBadge:"Tecnologia Pollinations AI",heroTitle:"Crie Vdeos, Sites e Contedo com IA.",heroSubtitle:"A nica plataforma que transforma suas ideias em Landing Pages completas, Vdeos Cinematogrficos e Documentos Jurdicos em segundos.",paymentPublicKey:"",paymentPrivateKey:""},FT=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,o]=A.useState(""),[s,a]=A.useState(OT),[u,c]=A.useState(!1),[f,m]=A.useState({totalUsers:0,totalPaid:0,subscribersPro:0,subscribersMaster:0,oneTimePurchases:0,loading:!0}),{login:h,logout:g,user:x}=En();zt(),A.useEffect(()=>{const v=async()=>{const{data:w}=await Pe.from("site_config").select("*").limit(1).single();if(w){let S=w.promo_badge,C=w.hero_title,k=w.hero_subtitle;S!=null&&S.toLowerCase().includes("gemini")&&(S="Tecnologia Pollinations AI"),C!=null&&C.toLowerCase().includes("gemini")&&(C="Sua Criatividade <br/><span class='text-gradient-animated'>Sem Limites.</span>"),k!=null&&k.toLowerCase().includes("gemini")&&(k="De freelancers a grandes agncias: crie sites, imagens e copys profissionais em segundos com IA Open Source."),a({promoBadge:S,heroTitle:C,heroSubtitle:k,paymentPublicKey:w.payment_public_key||"",paymentPrivateKey:w.payment_private_key||""})}};x!=null&&x.isAdmin&&v()},[x]),A.useEffect(()=>{x!=null&&x.isAdmin&&E()},[x]);const E=async()=>{try{const{data:v,error:w}=await Pe.from("profiles").select("id, is_pro, plan_type");if(w)throw w;if(v){const S=v.length,C=v.filter(I=>I.plan_type==="master_monthly"||I.plan_type==="yearly").length,k=v.filter(I=>I.plan_type==="monthly").length,T=v.filter(I=>I.plan_type==="credits_pack").length,b=v.filter(I=>I.is_pro||I.plan_type==="credits_pack").length;m({totalUsers:S,totalPaid:b,subscribersPro:k,subscribersMaster:C,oneTimePurchases:T,loading:!1})}}catch(v){console.error("Error fetching stats:",v),m(w=>({...w,loading:!1}))}},_=async v=>{var S;v.preventDefault();const w=await h(t,n);w.success?o(""):(S=w.error)!=null&&S.includes("Invalid login credentials")?o("E-mail ou senha incorretos."):o(w.error||"Credenciais invlidas.")},y=async()=>{const{error:v}=await Pe.from("site_config").upsert({id:1,promo_badge:s.promoBadge,hero_title:s.heroTitle,hero_subtitle:s.heroSubtitle,payment_public_key:s.paymentPublicKey,payment_private_key:s.paymentPrivateKey,updated_at:new Date});v?alert("Erro ao salvar (Verifique se as colunas de pagamento existem no banco): "+v.message):(c(!0),setTimeout(()=>c(!1),3e3))};return x!=null&&x.isAdmin?p.jsxs("div",{className:"max-w-5xl mx-auto py-12 px-4 animate-fade-in",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-2",children:[p.jsx(bg,{className:"text-indigo-600"}),"Painel Administrativo"]}),p.jsx("p",{className:"text-slate-500",children:"Viso geral do negcio e gerenciamento de contedo."})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(ce,{variant:"outline",size:"sm",onClick:E,className:"border-slate-200",children:"Atualizar Dados"}),p.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-bold border border-green-200 flex items-center h-fit self-center",children:"Acesso Super Admin"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg shadow-indigo-200 transform hover:scale-[1.02] transition-transform",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:p.jsx(Jn,{className:"text-white",size:24})}),p.jsx("span",{className:"text-xs font-bold bg-white/20 px-2 py-1 rounded-md text-indigo-100",children:"+ Vendas"})]}),p.jsx("h3",{className:"text-4xl font-bold mb-1",children:f.loading?"...":f.totalPaid}),p.jsx("p",{className:"text-indigo-100 text-sm font-medium opacity-90",children:"Total de Pagantes"})]}),p.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("div",{className:"flex justify-between items-start mb-4",children:p.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:p.jsx(Ug,{className:"text-amber-600",size:24})})}),p.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-1",children:f.loading?"...":f.subscribersPro+f.subscribersMaster}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Assinaturas Recorrentes"})]}),p.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("div",{className:"flex justify-between items-start mb-4",children:p.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:p.jsx(w_,{className:"text-blue-600",size:24})})}),p.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-1",children:f.loading?"...":f.oneTimePurchases}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Packs de Crdito Vendidos"})]}),p.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm",children:[p.jsx("div",{className:"flex justify-between items-start mb-4",children:p.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:p.jsx(F_,{className:"text-slate-600",size:24})})}),p.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-1",children:f.loading?"...":f.totalUsers}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Usurios Totais"})]})]}),p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 p-8",children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-6 border-b pb-4 flex items-center gap-2",children:[p.jsx(l_,{size:20,className:"text-indigo-600"}),"Configuraes de Pagamento & CMS"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Og,{className:"text-blue-500"}),p.jsx("h3",{className:"font-bold text-slate-700",children:"Mercado Pago (Assinaturas)"})]}),p.jsx("p",{className:"text-xs text-slate-500",children:"Configure as chaves para criar planos e assinaturas recorrentes."}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Access Token (Produo/Teste)"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"password",value:s.paymentPrivateKey,onChange:v=>a({...s,paymentPrivateKey:v.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-xs",placeholder:"APP_USR-xxxx-xxxx-xxxx-xxxx"}),p.jsx("div",{className:"absolute right-3 top-3 text-slate-400",children:p.jsx(Wn,{size:16})})]}),p.jsx("p",{className:"text-[10px] text-slate-500 mt-2",children:"Usado para criar assinaturas via API."})]}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 opacity-70",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Public Key (Opcional)"}),p.jsx("input",{type:"text",value:s.paymentPublicKey,onChange:v=>a({...s,paymentPublicKey:v.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-xs",placeholder:"TEST-xxxx-xxxx-xxxx-xxxx"}),p.jsx("p",{className:"text-[10px] text-slate-500 mt-2",children:"Menos usada para assinaturas puras de API, mas til para checkout transparente."})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h3",{className:"font-bold text-slate-700",children:"Aparncia do Site"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Badge Promocional"}),p.jsx("input",{type:"text",value:s.promoBadge,onChange:v=>a({...s,promoBadge:v.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo Principal (HTML)"}),p.jsx("textarea",{rows:2,value:s.heroTitle,onChange:v=>a({...s,heroTitle:v.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subttulo"}),p.jsx("textarea",{rows:3,value:s.heroSubtitle,onChange:v=>a({...s,heroSubtitle:v.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]})]}),p.jsxs("div",{className:"pt-8 flex items-center gap-4 border-t mt-6",children:[p.jsxs(ce,{onClick:y,className:"shadow-lg shadow-indigo-200",children:[p.jsx(A_,{className:"w-4 h-4 mr-2"}),"Salvar Configuraes"]}),u&&p.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-sm animate-fade-in",children:[p.jsx(Eg,{size:16})," Atualizado com sucesso!"]})]})]})]}):x&&!x.isAdmin?p.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-red-100 w-full max-w-md text-center animate-slide-up",children:[p.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(Lg,{size:32})}),p.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Acesso Restrito"}),p.jsxs("p",{className:"text-slate-500 mb-6",children:["A conta ",p.jsx("strong",{children:x.email})," no possui privilgios de administrador."]}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-xs text-left font-mono text-slate-600 mb-6 overflow-x-auto",children:[p.jsx("p",{className:"mb-2 text-slate-400",children:"// Para liberar acesso, rode no SQL do Supabase:"}),"update profiles set is_admin = true where email = '",x.email,"';"]}),p.jsxs(ce,{onClick:g,variant:"outline",className:"w-full justify-center text-red-500 border-red-200 hover:bg-red-50",children:[p.jsx(Rg,{size:16,className:"mr-2"})," Sair e tentar outra conta"]})]})}):p.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border border-slate-200 w-full max-w-md animate-slide-up",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"w-16 h-16 bg-slate-900 text-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:p.jsx(Wn,{size:32})}),p.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Acesso Restrito"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"rea exclusiva para administrao."})]}),p.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i&&p.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm flex items-center gap-2",children:[p.jsx(Ul,{size:16})," ",i]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-600 uppercase mb-1",children:"E-mail de Admin"}),p.jsx("input",{type:"text",value:t,onChange:v=>e(v.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 outline-none",placeholder:"admin@exemplo.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-600 uppercase mb-1",children:"Senha"}),p.jsx("input",{type:"password",value:n,onChange:v=>r(v.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 outline-none",placeholder:""})]}),p.jsx(ce,{type:"submit",variant:"secondary",className:"w-full justify-center mt-2",children:"Entrar no Painel"})]})]})})};var $T={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let VT,qT;function GT(){return{geminiUrl:VT,vertexUrl:qT}}function BT(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=GT();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jt{}function M(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function d(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const u=t[a];if(Array.isArray(n))for(let c=0;c<u.length;c++){const f=u[c];d(f,e.slice(o+1),n[c])}else for(const c of u)d(c,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const u=t[a];d(u[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function l(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>l(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function HT(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){a=u;break}if(a!==-1&&o.length>a)for(let u=a;u<o.length;u++){const c=o[u];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}Kl(t,i,o,0,s)}}function Kl(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const u of a[s])Kl(u,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(c=>!c.startsWith("_")&&!i.has(c)),u={};for(const c of a)u[c]=s[c];for(const[c,f]of Object.entries(u)){const m=[];for(const h of n.slice(r))h==="*"?m.push(c):m.push(h);d(s,m,f)}for(const c of a)delete s[c]}}else{const s=t;o in s&&Kl(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zT(t){const e={},n=l(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=l(t,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function jT(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);o!=null&&d(e,["error"],o);const s=l(t,["response","generateVideoResponse"]);return s!=null&&d(e,["response"],WT(s)),e}function JT(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);o!=null&&d(e,["error"],o);const s=l(t,["response"]);return s!=null&&d(e,["response"],KT(s)),e}function WT(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>YT(s))),d(e,["generatedVideos"],o)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function KT(t){const e={},n=l(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>XT(s))),d(e,["generatedVideos"],o)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function YT(t){const e={},n=l(t,["video"]);return n!=null&&d(e,["video"],r1(n)),e}function XT(t){const e={},n=l(t,["_self"]);return n!=null&&d(e,["video"],i1(n)),e}function QT(t){const e={},n=l(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function ZT(t){const e={},n=l(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function e1(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);o!=null&&d(e,["error"],o);const s=l(t,["response"]);return s!=null&&d(e,["response"],t1(s)),e}function t1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const i=l(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function s0(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);o!=null&&d(e,["error"],o);const s=l(t,["response"]);return s!=null&&d(e,["response"],n1(s)),e}function n1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const i=l(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function r1(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],wc(r));const i=l(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function i1(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],wc(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wf;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wf||(wf={}));var xf;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(xf||(xf={}));var _f;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_f||(_f={}));var sn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(sn||(sn={}));var Ef;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ef||(Ef={}));var Sf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Sf||(Sf={}));var Tf;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Tf||(Tf={}));var Cf;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Cf||(Cf={}));var kf;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(kf||(kf={}));var Af;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Af||(Af={}));var bf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(bf||(bf={}));var If;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(If||(If={}));var Rf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Rf||(Rf={}));var Nf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Nf||(Nf={}));var Pf;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Pf||(Pf={}));var Mf;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mf||(Mf={}));var Df;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Df||(Df={}));var Uf;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Uf||(Uf={}));var Lf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Lf||(Lf={}));var xs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xs||(xs={}));var Of;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Of||(Of={}));var Ff;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ff||(Ff={}));var $f;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})($f||($f={}));var Yl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yl||(Yl={}));var Vf;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Vf||(Vf={}));var qf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(qf||(qf={}));var Gf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Gf||(Gf={}));var Bf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Bf||(Bf={}));var Hf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hf||(Hf={}));var zf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zf||(zf={}));var jf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(jf||(jf={}));var Jf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Jf||(Jf={}));var Wf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Wf||(Wf={}));var Kf;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Kf||(Kf={}));var Yf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Yf||(Yf={}));var Xf;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Xf||(Xf={}));var Qf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Qf||(Qf={}));var Zf;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Zf||(Zf={}));var eh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(eh||(eh={}));var th;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(th||(th={}));var nh;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(nh||(nh={}));var rh;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(rh||(rh={}));var ih;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ih||(ih={}));var oh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(oh||(oh={}));var sh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(sh||(sh={}));var ah;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ah||(ah={}));var lh;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(lh||(lh={}));var uh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(uh||(uh={}));var ch;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ch||(ch={}));var dh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dh||(dh={}));var fh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fh||(fh={}));var hh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(hh||(hh={}));var ph;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ph||(ph={}));var mh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mh||(mh={}));var gh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(gh||(gh={}));var Sr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Sr||(Sr={}));class Xl{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ii{get text(){var e,n,r,i,o,s,a,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const m=[];for(const h of(u=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(const[g,x]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(x!==null||x!==void 0)&&m.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,r,i,o,s,a,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const m of(u=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(const[h,g]of Object.entries(m))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,o,s,a,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,o,s,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,o,s,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class yh{}class vh{}class o1{}class s1{}class a1{}class l1{}class wh{}class xh{}class _h{}class u1{}class _s{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new _s;let i;const o=e;return n?i=JT(o):i=jT(o),Object.assign(r,i),r}}class Eh{}class Sh{}class Th{}class Ch{}class c1{}class d1{}class f1{}class xc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new xc,o=e1(e);return Object.assign(r,o),r}}class h1{}class p1{}class m1{}class kh{}class g1{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(a))u!=="text"&&u!=="thought"&&c!==null&&s.push(u);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,u]of Object.entries(s))a!=="inlineData"&&u!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class y1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class _c{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new _c,o=s0(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function a0(t,e){const n=K(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function l0(t){return Array.isArray(t)?t.map(e=>Es(e)):[Es(t)]}function Es(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function u0(t){const e=Es(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function c0(t){const e=Es(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ah(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function d0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Ah(e)):[Ah(t)]}function Ql(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function bh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ih(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function De(t){if(t==null)throw new Error("ContentUnion is required");return Ql(t)?t:{role:"user",parts:d0(t)}}function Ec(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=De(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=De(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>De(n)):[De(e)]}function at(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(bh(t)||Ih(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[De(t)]}const e=[],n=[],r=Ql(t[0]);for(const i of t){const o=Ql(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(bh(i)||Ih(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:d0(n)}),e}function v1(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(sn).includes(n[0].toUpperCase())?n[0].toUpperCase():sn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(sn).includes(r.toUpperCase())?r.toUpperCase():sn.TYPE_UNSPECIFIED})}}function Dr(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&v1(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(sn).includes(a.toUpperCase())?a.toUpperCase():sn.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Dr(a);else if(r.includes(s)){const u=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}u.push(Dr(c))}e[s]=u}else if(i.includes(s)){const u={};for(const[c,f]of Object.entries(a))u[c]=Dr(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=a}return e}function Sc(t){return Dr(t)}function Tc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Cc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Dr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Dr(e.response));return t}function Wr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function w1(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Wt(t,e){if(typeof e!="string")throw new Error("name must be a string");return w1(t,e,"cachedContents")}function f0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Sn(t){return wc(t)}function x1(t){return t!=null&&typeof t=="object"&&"name"in t}function _1(t){return t!=null&&typeof t=="object"&&"video"in t}function E1(t){return t!=null&&typeof t=="object"&&"uri"in t}function h0(t){var e;let n;if(x1(t)&&(n=t.name),!(E1(t)&&(n=t.uri,n===void 0))&&!(_1(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function p0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function m0(t){for(const e of["models","tunedModels","publisherModels"])if(S1(t,e))return t[e];return[]}function S1(t,e){return t!==null&&typeof t=="object"&&e in t}function T1(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function C1(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=T1(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function g0(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function k1(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function y0(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Kr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function v0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A1(t){const e={},n=l(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const r=l(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>aC(s))),d(e,["inlinedResponses"],o)}const i=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["inlinedEmbedContentResponses"],o)}return e}function b1(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const r=l(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const i=l(t,["bigqueryDestination","outputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function I1(t){const e={},n=l(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const r=l(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const i=l(t,["bigqueryUri"]);if(i!=null&&d(e,["bigqueryDestination","outputUri"],i),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Go(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const i=l(t,["metadata","state"]);i!=null&&d(e,["state"],v0(i));const o=l(t,["metadata","createTime"]);o!=null&&d(e,["createTime"],o);const s=l(t,["metadata","endTime"]);s!=null&&d(e,["endTime"],s);const a=l(t,["metadata","updateTime"]);a!=null&&d(e,["updateTime"],a);const u=l(t,["metadata","model"]);u!=null&&d(e,["model"],u);const c=l(t,["metadata","output"]);return c!=null&&d(e,["dest"],A1(y0(c))),e}function Zl(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=l(t,["state"]);i!=null&&d(e,["state"],v0(i));const o=l(t,["error"]);o!=null&&d(e,["error"],o);const s=l(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=l(t,["startTime"]);a!=null&&d(e,["startTime"],a);const u=l(t,["endTime"]);u!=null&&d(e,["endTime"],u);const c=l(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const f=l(t,["model"]);f!=null&&d(e,["model"],f);const m=l(t,["inputConfig"]);m!=null&&d(e,["src"],R1(m));const h=l(t,["outputConfig"]);h!=null&&d(e,["dest"],b1(y0(h)));const g=l(t,["completionStats"]);return g!=null&&d(e,["completionStats"],g),e}function R1(t){const e={},n=l(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const r=l(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const i=l(t,["bigquerySource","inputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function N1(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&d(n,["fileName"],r);const i=l(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sC(t,s))),d(n,["requests","requests"],o)}return n}function P1(t){const e={},n=l(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const r=l(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const i=l(t,["bigqueryUri"]);if(i!=null&&d(e,["bigquerySource","inputUri"],i),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function M1(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function D1(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Kr(t,r)),n}function U1(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Kr(t,r)),n}function L1(t){const e={},n=l(t,["content"]);n!=null&&d(e,["content"],n);const r=l(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],O1(r));const i=l(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const o=l(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const s=l(t,["avgLogprobs"]);s!=null&&d(e,["avgLogprobs"],s);const a=l(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const u=l(t,["index"]);u!=null&&d(e,["index"],u);const c=l(t,["logprobsResult"]);c!=null&&d(e,["logprobsResult"],c);const f=l(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["safetyRatings"],h)}const m=l(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function O1(t){const e={},n=l(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["citations"],r)}return e}function w0(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pC(o))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function F1(t,e){const n={},r=l(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function $1(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=l(t,["dest"]);return e!==void 0&&i!=null&&d(e,["outputConfig"],I1(k1(i))),n}function Rh(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["src"]);i!=null&&d(n,["batch","inputConfig"],N1(t,g0(t,i)));const o=l(e,["config"]);return o!=null&&F1(o,n),n}function V1(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],K(t,r));const i=l(e,["src"]);i!=null&&d(n,["inputConfig"],P1(g0(t,i)));const o=l(e,["config"]);return o!=null&&$1(o,n),n}function q1(t,e){const n={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),n}function G1(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["src"]);i!=null&&d(n,["batch","inputConfig"],K1(t,i));const o=l(e,["config"]);return o!=null&&q1(o,n),n}function B1(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Kr(t,r)),n}function H1(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Kr(t,r)),n}function z1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);return o!=null&&d(e,["error"],o),e}function j1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);return o!=null&&d(e,["error"],o),e}function J1(t,e){const n={},r=l(e,["contents"]);if(r!=null){let o=Ec(t,r);Array.isArray(o)&&(o=o.map(s=>s)),d(n,["requests[]","request","content"],o)}const i=l(e,["config"]);return i!=null&&(d(n,["_self"],W1(i,n)),HT(n,{"requests[].*":"requests[].request.*"})),n}function W1(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=l(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const o=l(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&d(e,["requests[]","outputDimensionality"],o),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function K1(t,e){const n={},r=l(e,["fileName"]);r!=null&&d(n,["file_name"],r);const i=l(e,["inlinedRequests"]);return i!=null&&d(n,["requests"],J1(t,i)),n}function Y1(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function X1(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Q1(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Z1(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],w0(De(i)));const o=l(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=l(e,["topP"]);s!=null&&d(r,["topP"],s);const a=l(e,["topK"]);a!=null&&d(r,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&d(r,["candidateCount"],u);const c=l(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const h=l(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const g=l(e,["presencePenalty"]);g!=null&&d(r,["presencePenalty"],g);const x=l(e,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const E=l(e,["seed"]);E!=null&&d(r,["seed"],E);const _=l(e,["responseMimeType"]);_!=null&&d(r,["responseMimeType"],_);const y=l(e,["responseSchema"]);y!=null&&d(r,["responseSchema"],Sc(y));const v=l(e,["responseJsonSchema"]);if(v!=null&&d(r,["responseJsonSchema"],v),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=l(e,["safetySettings"]);if(n!==void 0&&w!=null){let z=w;Array.isArray(z)&&(z=z.map(B=>mC(B))),d(n,["safetySettings"],z)}const S=l(e,["tools"]);if(n!==void 0&&S!=null){let z=Wr(S);Array.isArray(z)&&(z=z.map(B=>yC(Jr(B)))),d(n,["tools"],z)}const C=l(e,["toolConfig"]);if(n!==void 0&&C!=null&&d(n,["toolConfig"],gC(C)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=l(e,["cachedContent"]);n!==void 0&&k!=null&&d(n,["cachedContent"],Wt(t,k));const T=l(e,["responseModalities"]);T!=null&&d(r,["responseModalities"],T);const b=l(e,["mediaResolution"]);b!=null&&d(r,["mediaResolution"],b);const I=l(e,["speechConfig"]);if(I!=null&&d(r,["speechConfig"],Tc(I)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=l(e,["thinkingConfig"]);R!=null&&d(r,["thinkingConfig"],R);const V=l(e,["imageConfig"]);V!=null&&d(r,["imageConfig"],oC(V));const Y=l(e,["enableEnhancedCivicAnswers"]);return Y!=null&&d(r,["enableEnhancedCivicAnswers"],Y),r}function eC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>L1(c))),d(e,["candidates"],u)}const i=l(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=l(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const s=l(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=l(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function tC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Kr(t,r)),n}function nC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Kr(t,r)),n}function rC(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function iC(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function oC(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["request","model"],K(t,r));const i=l(e,["contents"]);if(i!=null){let a=at(i);Array.isArray(a)&&(a=a.map(u=>w0(u))),d(n,["request","contents"],a)}const o=l(e,["metadata"]);o!=null&&d(n,["metadata"],o);const s=l(e,["config"]);return s!=null&&d(n,["request","generationConfig"],Z1(t,s,l(n,["request"],{}))),n}function aC(t){const e={},n=l(t,["response"]);n!=null&&d(e,["response"],eC(n));const r=l(t,["error"]);return r!=null&&d(e,["error"],r),e}function lC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);if(e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function uC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=l(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),n}function cC(t){const e={},n=l(t,["config"]);return n!=null&&lC(n,e),e}function dC(t){const e={},n=l(t,["config"]);return n!=null&&uC(n,e),e}function fC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Go(s))),d(e,["batchJobs"],o)}return e}function hC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Zl(s))),d(e,["batchJobs"],o)}return e}function pC(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=l(t,["fileData"]);o!=null&&d(e,["fileData"],Y1(o));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],X1(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],M1(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function mC(t){const e={},n=l(t,["category"]);if(n!=null&&d(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function gC(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],Q1(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function yC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=l(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],rC(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],iC(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(qt||(qt={}));class Qn{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vC extends Jt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qn(qt.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Rh(this.apiClient,e),r=n._url,i=M("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,u=a.requests,c=[];for(const f of u){const m=Object.assign({},f);if(m.systemInstruction){const h=m.systemInstruction;delete m.systemInstruction;const g=m.request;g.systemInstruction=h,m.request=g}c.push(m)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=V1(this.apiClient,e);return a=M("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Zl(f))}else{const c=Rh(this.apiClient,e);return a=M("{model}:batchGenerateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Go(f))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=G1(this.apiClient,e);return o=M("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Go(u))}}async get(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=nC(this.apiClient,e);return a=M("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Zl(f))}else{const c=tC(this.apiClient,e);return a=M("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Go(f))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const u=U1(this.apiClient,e);s=M("batchPredictionJobs/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=D1(this.apiClient,e);s=M("batches/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=dC(e);return a=M("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=hC(f),h=new kh;return Object.assign(h,m),h})}else{const c=cC(e);return a=M("batches",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=fC(f),h=new kh;return Object.assign(h,m),h})}}async delete(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=H1(this.apiClient,e);return a=M("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>j1(f))}else{const c=B1(this.apiClient,e);return a=M("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>z1(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Nh(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>GC(o))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function xC(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=l(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const o=l(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const s=l(t,["contents"]);if(e!==void 0&&s!=null){let f=at(s);Array.isArray(f)&&(f=f.map(m=>Nh(m))),d(e,["contents"],f)}const a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],Nh(De(a)));const u=l(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>HC(m))),d(e,["tools"],f)}const c=l(t,["toolConfig"]);if(e!==void 0&&c!=null&&d(e,["toolConfig"],BC(c)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _C(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=l(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const o=l(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const s=l(t,["contents"]);if(e!==void 0&&s!=null){let m=at(s);Array.isArray(m)&&(m=m.map(h=>h)),d(e,["contents"],m)}const a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],De(a));const u=l(t,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>zC(h))),d(e,["tools"],m)}const c=l(t,["toolConfig"]);e!==void 0&&c!=null&&d(e,["toolConfig"],c);const f=l(t,["kmsKeyName"]);return e!==void 0&&f!=null&&d(e,["encryption_spec","kmsKeyName"],f),n}function EC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],a0(t,r));const i=l(e,["config"]);return i!=null&&xC(i,n),n}function SC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],a0(t,r));const i=l(e,["config"]);return i!=null&&_C(i,n),n}function TC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Wt(t,r)),n}function CC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Wt(t,r)),n}function kC(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function AC(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function bC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function IC(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RC(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function NC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=l(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=l(t,["response"]);s!=null&&d(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function PC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Wt(t,r)),n}function MC(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Wt(t,r)),n}function DC(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function UC(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function LC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function OC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function FC(t){const e={},n=l(t,["config"]);return n!=null&&LC(n,e),e}function $C(t){const e={},n=l(t,["config"]);return n!=null&&OC(n,e),e}function VC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["cachedContents"],o)}return e}function qC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["cachedContents"],o)}return e}function GC(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=l(t,["fileData"]);o!=null&&d(e,["fileData"],bC(o));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],IC(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],wC(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function BC(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],RC(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function HC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=l(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],DC(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],UC(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function zC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>NC(h))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=l(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=l(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],u);const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function jC(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=l(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function JC(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=l(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function WC(t,e){const n={},r=l(e,["name"]);r!=null&&d(n,["_url","name"],Wt(t,r));const i=l(e,["config"]);return i!=null&&jC(i,n),n}function KC(t,e){const n={},r=l(e,["name"]);r!=null&&d(n,["_url","name"],Wt(t,r));const i=l(e,["config"]);return i!=null&&JC(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC extends Jt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qn(qt.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=SC(this.apiClient,e);return a=M("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=EC(this.apiClient,e);return a=M("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=MC(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=PC(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=CC(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=AC(f),h=new Th;return Object.assign(h,m),h})}else{const c=TC(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=kC(f),h=new Th;return Object.assign(h,m),h})}}async update(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=KC(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=WC(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=$C(e);return a=M("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=qC(f),h=new Ch;return Object.assign(h,m),h})}else{const c=FC(e);return a=M("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=VC(f),h=new Ch;return Object.assign(h,m),h})}}}function Ss(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ph(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(t){return this instanceof q?(this.v=t,this):new q(t)}function _t(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(x){return Promise.resolve(x).then(g,m)}}function a(g,x){r[g]&&(i[g]=function(E){return new Promise(function(_,y){o.push([g,E,_,y])>1||u(g,E)})},x&&(i[g]=x(i[g])))}function u(g,x){try{c(r[g](x))}catch(E){h(o[0][3],E)}}function c(g){g.value instanceof q?Promise.resolve(g.value.v).then(f,m):h(o[0][2],g)}function f(g){u("next",g)}function m(g){u("throw",g)}function h(g,x){g(x),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Et(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ph=="function"?Ph(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:x0(n)}function x0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function QC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Mh(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!x0(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class ZC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ek(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ek{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),QC(o)}async sendMessage(e){var n;await this.sendPromise;const r=De(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const u=await i,c=(s=(o=u.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];f!=null&&(h=(a=f.slice(m))!==null&&a!==void 0?a:[]);const g=c?[c]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=De(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Mh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return _t(this,arguments,function*(){var i,o,s,a,u,c;const f=[];try{for(var m=!0,h=Et(e),g;g=yield q(h.next()),i=g.done,!i;m=!0){a=g.value,m=!1;const x=a;if(XC(x)){const E=(c=(u=x.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content;E!==void 0&&f.push(E)}yield yield q(x)}}catch(x){o={error:x}}finally{try{!m&&!i&&(s=h.return)&&(yield q(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Mh(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Js extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Js.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tk(t){const e={},n=l(t,["file"]);return n!=null&&d(e,["file"],n),e}function nk(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function rk(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","file"],h0(n)),e}function ik(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function ok(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","file"],h0(n)),e}function sk(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function ak(t){const e={},n=l(t,["config"]);return n!=null&&sk(n,e),e}function lk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uk extends Jt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qn(qt.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ak(e);return o=M("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=lk(u),f=new h1;return Object.assign(f,c),f})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=tk(e);return o=M("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=nk(u),f=new p1;return Object.assign(f,c),f})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ok(e);return o=M("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=rk(e);return o=M("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=ik(u),f=new m1;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bo(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function ck(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kk(o))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function dk(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function fk(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hk(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=l(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=l(t,["response"]);s!=null&&d(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function pk(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=l(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const i=l(t,["audioTimestamp"]);i!=null&&d(e,["audioTimestamp"],i);const o=l(t,["candidateCount"]);o!=null&&d(e,["candidateCount"],o);const s=l(t,["enableAffectiveDialog"]);s!=null&&d(e,["enableAffectiveDialog"],s);const a=l(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const u=l(t,["logprobs"]);u!=null&&d(e,["logprobs"],u);const c=l(t,["maxOutputTokens"]);c!=null&&d(e,["maxOutputTokens"],c);const f=l(t,["mediaResolution"]);f!=null&&d(e,["mediaResolution"],f);const m=l(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const h=l(t,["responseLogprobs"]);h!=null&&d(e,["responseLogprobs"],h);const g=l(t,["responseMimeType"]);g!=null&&d(e,["responseMimeType"],g);const x=l(t,["responseModalities"]);x!=null&&d(e,["responseModalities"],x);const E=l(t,["responseSchema"]);E!=null&&d(e,["responseSchema"],E);const _=l(t,["routingConfig"]);_!=null&&d(e,["routingConfig"],_);const y=l(t,["seed"]);y!=null&&d(e,["seed"],y);const v=l(t,["speechConfig"]);v!=null&&d(e,["speechConfig"],v);const w=l(t,["stopSequences"]);w!=null&&d(e,["stopSequences"],w);const S=l(t,["temperature"]);S!=null&&d(e,["temperature"],S);const C=l(t,["thinkingConfig"]);C!=null&&d(e,["thinkingConfig"],C);const k=l(t,["topK"]);k!=null&&d(e,["topK"],k);const T=l(t,["topP"]);if(T!=null&&d(e,["topP"],T),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function mk(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function gk(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function yk(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=l(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=l(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","maxOutputTokens"],u);const c=l(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Cc(m));const h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const g=l(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=l(t,["systemInstruction"]);e!==void 0&&x!=null&&d(e,["setup","systemInstruction"],ck(De(x)));const E=l(t,["tools"]);if(e!==void 0&&E!=null){let k=Wr(E);Array.isArray(k)&&(k=k.map(T=>bk(Jr(T)))),d(e,["setup","tools"],k)}const _=l(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],Ak(_));const y=l(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&d(e,["setup","inputAudioTranscription"],y);const v=l(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","outputAudioTranscription"],v);const w=l(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&d(e,["setup","realtimeInputConfig"],w);const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&d(e,["setup","contextWindowCompression"],S);const C=l(t,["proactivity"]);if(e!==void 0&&C!=null&&d(e,["setup","proactivity"],C),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function vk(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],pk(r));const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=l(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=l(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","maxOutputTokens"],u);const c=l(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Cc(m));const h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const g=l(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=l(t,["systemInstruction"]);e!==void 0&&x!=null&&d(e,["setup","systemInstruction"],De(x));const E=l(t,["tools"]);if(e!==void 0&&E!=null){let T=Wr(E);Array.isArray(T)&&(T=T.map(b=>Ik(Jr(b)))),d(e,["setup","tools"],T)}const _=l(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],_);const y=l(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&d(e,["setup","inputAudioTranscription"],y);const v=l(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","outputAudioTranscription"],v);const w=l(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&d(e,["setup","realtimeInputConfig"],w);const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&d(e,["setup","contextWindowCompression"],S);const C=l(t,["proactivity"]);e!==void 0&&C!=null&&d(e,["setup","proactivity"],C);const k=l(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&d(e,["setup","explicitVadSignal"],k),n}function wk(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],K(t,r));const i=l(e,["config"]);return i!=null&&d(n,["config"],yk(i,n)),n}function xk(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],K(t,r));const i=l(e,["config"]);return i!=null&&d(n,["config"],vk(i,n)),n}function _k(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],n),e}function Ek(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["weightedPrompts"],r)}return e}function Sk(t){const e={},n=l(t,["media"]);if(n!=null){let c=l0(n);Array.isArray(c)&&(c=c.map(f=>Bo(f))),d(e,["mediaChunks"],c)}const r=l(t,["audio"]);r!=null&&d(e,["audio"],Bo(c0(r)));const i=l(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const o=l(t,["video"]);o!=null&&d(e,["video"],Bo(u0(o)));const s=l(t,["text"]);s!=null&&d(e,["text"],s);const a=l(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const u=l(t,["activityEnd"]);return u!=null&&d(e,["activityEnd"],u),e}function Tk(t){const e={},n=l(t,["media"]);if(n!=null){let c=l0(n);Array.isArray(c)&&(c=c.map(f=>f)),d(e,["mediaChunks"],c)}const r=l(t,["audio"]);r!=null&&d(e,["audio"],c0(r));const i=l(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const o=l(t,["video"]);o!=null&&d(e,["video"],u0(o));const s=l(t,["text"]);s!=null&&d(e,["text"],s);const a=l(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const u=l(t,["activityEnd"]);return u!=null&&d(e,["activityEnd"],u),e}function Ck(t){const e={},n=l(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],n);const r=l(t,["serverContent"]);r!=null&&d(e,["serverContent"],r);const i=l(t,["toolCall"]);i!=null&&d(e,["toolCall"],i);const o=l(t,["toolCallCancellation"]);o!=null&&d(e,["toolCallCancellation"],o);const s=l(t,["usageMetadata"]);s!=null&&d(e,["usageMetadata"],Rk(s));const a=l(t,["goAway"]);a!=null&&d(e,["goAway"],a);const u=l(t,["sessionResumptionUpdate"]);u!=null&&d(e,["sessionResumptionUpdate"],u);const c=l(t,["voiceActivityDetectionSignal"]);return c!=null&&d(e,["voiceActivityDetectionSignal"],c),e}function kk(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=l(t,["fileData"]);o!=null&&d(e,["fileData"],dk(o));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],fk(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],Bo(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function Ak(t){const e={},n=l(t,["handle"]);if(n!=null&&d(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bk(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=l(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],mk(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],gk(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function Ik(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>hk(h))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=l(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=l(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],u);const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function Rk(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=l(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const i=l(t,["candidatesTokenCount"]);i!=null&&d(e,["responseTokenCount"],i);const o=l(t,["toolUsePromptTokenCount"]);o!=null&&d(e,["toolUsePromptTokenCount"],o);const s=l(t,["thoughtsTokenCount"]);s!=null&&d(e,["thoughtsTokenCount"],s);const a=l(t,["totalTokenCount"]);a!=null&&d(e,["totalTokenCount"],a);const u=l(t,["promptTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(x=>x)),d(e,["promptTokensDetails"],g)}const c=l(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(x=>x)),d(e,["cacheTokensDetails"],g)}const f=l(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(x=>x)),d(e,["responseTokensDetails"],g)}const m=l(t,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(x=>x)),d(e,["toolUsePromptTokensDetails"],g)}const h=l(t,["trafficType"]);return h!=null&&d(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nk(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Pk(t){const e={},n=l(t,["content"]);n!=null&&d(e,["content"],n);const r=l(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],Mk(r));const i=l(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const o=l(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const s=l(t,["avgLogprobs"]);s!=null&&d(e,["avgLogprobs"],s);const a=l(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const u=l(t,["index"]);u!=null&&d(e,["index"],u);const c=l(t,["logprobsResult"]);c!=null&&d(e,["logprobsResult"],c);const f=l(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["safetyRatings"],h)}const m=l(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function Mk(t){const e={},n=l(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["citations"],r)}return e}function Dk(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["contents"]);if(i!=null){let o=at(i);Array.isArray(o)&&(o=o.map(s=>s)),d(n,["contents"],o)}return n}function Uk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["tokensInfo"],i)}return e}function Lk(t){const e={},n=l(t,["values"]);n!=null&&d(e,["values"],n);const r=l(t,["statistics"]);return r!=null&&d(e,["statistics"],Ok(r)),e}function Ok(t){const e={},n=l(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=l(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function Ws(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jA(o))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function Fk(t){const e={},n=l(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=l(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function $k(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Vk(t,e){const n={},r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],De(r));const i=l(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>T0(a))),d(e,["tools"],s)}const o=l(t,["generationConfig"]);return e!==void 0&&o!=null&&d(e,["generationConfig"],NA(o)),n}function qk(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["contents"]);if(i!=null){let s=at(i);Array.isArray(s)&&(s=s.map(a=>Ws(a))),d(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&$k(o),n}function Gk(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["contents"]);if(i!=null){let s=at(i);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&Vk(o,n),n}function Bk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);r!=null&&d(e,["totalTokens"],r);const i=l(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function Hk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);return r!=null&&d(e,["totalTokens"],r),e}function zk(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],K(t,r)),n}function jk(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],K(t,r)),n}function Jk(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Wk(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Kk(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=l(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const u=l(t,["seed"]);e!==void 0&&u!=null&&d(e,["parameters","seed"],u);const c=l(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const h=l(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const g=l(t,["language"]);e!==void 0&&g!=null&&d(e,["parameters","language"],g);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&d(e,["parameters","outputOptions","mimeType"],x);const E=l(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&d(e,["parameters","outputOptions","compressionQuality"],E);const _=l(t,["addWatermark"]);e!==void 0&&_!=null&&d(e,["parameters","addWatermark"],_);const y=l(t,["labels"]);e!==void 0&&y!=null&&d(e,["labels"],y);const v=l(t,["editMode"]);e!==void 0&&v!=null&&d(e,["parameters","editMode"],v);const w=l(t,["baseSteps"]);return e!==void 0&&w!=null&&d(e,["parameters","editConfig","baseSteps"],w),n}function Yk(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=l(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>QA(u))),d(n,["instances[0]","referenceImages"],a)}const s=l(e,["config"]);return s!=null&&Kk(s,n),n}function Xk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ks(o))),d(e,["generatedImages"],i)}return e}function Qk(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=l(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const o=l(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&d(e,["requests[]","outputDimensionality"],o),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Zk(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const i=l(t,["title"]);e!==void 0&&i!=null&&d(e,["instances[]","title"],i);const o=l(t,["outputDimensionality"]);e!==void 0&&o!=null&&d(e,["parameters","outputDimensionality"],o);const s=l(t,["mimeType"]);e!==void 0&&s!=null&&d(e,["instances[]","mimeType"],s);const a=l(t,["autoTruncate"]);return e!==void 0&&a!=null&&d(e,["parameters","autoTruncate"],a),n}function eA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["contents"]);if(i!=null){let a=Ec(t,i);Array.isArray(a)&&(a=a.map(u=>u)),d(n,["requests[]","content"],a)}const o=l(e,["config"]);o!=null&&Qk(o,n);const s=l(e,["model"]);return s!==void 0&&d(n,["requests[]","model"],K(t,s)),n}function tA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["contents"]);if(i!=null){let s=Ec(t,i);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["instances[]","content"],s)}const o=l(e,["config"]);return o!=null&&Zk(o,n),n}function nA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["embeddings"],o)}const i=l(t,["metadata"]);return i!=null&&d(e,["metadata"],i),e}function rA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Lk(s))),d(e,["embeddings"],o)}const i=l(t,["metadata"]);return i!=null&&d(e,["metadata"],i),e}function iA(t){const e={},n=l(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=l(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function oA(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function sA(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aA(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lA(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=l(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=l(t,["response"]);s!=null&&d(e,["response"],s);const a=l(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function uA(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],Ws(De(i)));const o=l(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=l(e,["topP"]);s!=null&&d(r,["topP"],s);const a=l(e,["topK"]);a!=null&&d(r,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&d(r,["candidateCount"],u);const c=l(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const h=l(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const g=l(e,["presencePenalty"]);g!=null&&d(r,["presencePenalty"],g);const x=l(e,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const E=l(e,["seed"]);E!=null&&d(r,["seed"],E);const _=l(e,["responseMimeType"]);_!=null&&d(r,["responseMimeType"],_);const y=l(e,["responseSchema"]);y!=null&&d(r,["responseSchema"],Sc(y));const v=l(e,["responseJsonSchema"]);if(v!=null&&d(r,["responseJsonSchema"],v),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=l(e,["safetySettings"]);if(n!==void 0&&w!=null){let z=w;Array.isArray(z)&&(z=z.map(B=>ZA(B))),d(n,["safetySettings"],z)}const S=l(e,["tools"]);if(n!==void 0&&S!=null){let z=Wr(S);Array.isArray(z)&&(z=z.map(B=>sb(Jr(B)))),d(n,["tools"],z)}const C=l(e,["toolConfig"]);if(n!==void 0&&C!=null&&d(n,["toolConfig"],ob(C)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=l(e,["cachedContent"]);n!==void 0&&k!=null&&d(n,["cachedContent"],Wt(t,k));const T=l(e,["responseModalities"]);T!=null&&d(r,["responseModalities"],T);const b=l(e,["mediaResolution"]);b!=null&&d(r,["mediaResolution"],b);const I=l(e,["speechConfig"]);if(I!=null&&d(r,["speechConfig"],Tc(I)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=l(e,["thinkingConfig"]);R!=null&&d(r,["thinkingConfig"],R);const V=l(e,["imageConfig"]);V!=null&&d(r,["imageConfig"],LA(V));const Y=l(e,["enableEnhancedCivicAnswers"]);return Y!=null&&d(r,["enableEnhancedCivicAnswers"],Y),r}function cA(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],De(i));const o=l(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=l(e,["topP"]);s!=null&&d(r,["topP"],s);const a=l(e,["topK"]);a!=null&&d(r,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&d(r,["candidateCount"],u);const c=l(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const h=l(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const g=l(e,["presencePenalty"]);g!=null&&d(r,["presencePenalty"],g);const x=l(e,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const E=l(e,["seed"]);E!=null&&d(r,["seed"],E);const _=l(e,["responseMimeType"]);_!=null&&d(r,["responseMimeType"],_);const y=l(e,["responseSchema"]);y!=null&&d(r,["responseSchema"],Sc(y));const v=l(e,["responseJsonSchema"]);v!=null&&d(r,["responseJsonSchema"],v);const w=l(e,["routingConfig"]);w!=null&&d(r,["routingConfig"],w);const S=l(e,["modelSelectionConfig"]);S!=null&&d(r,["modelConfig"],S);const C=l(e,["safetySettings"]);if(n!==void 0&&C!=null){let W=C;Array.isArray(W)&&(W=W.map(pe=>pe)),d(n,["safetySettings"],W)}const k=l(e,["tools"]);if(n!==void 0&&k!=null){let W=Wr(k);Array.isArray(W)&&(W=W.map(pe=>T0(Jr(pe)))),d(n,["tools"],W)}const T=l(e,["toolConfig"]);n!==void 0&&T!=null&&d(n,["toolConfig"],T);const b=l(e,["labels"]);n!==void 0&&b!=null&&d(n,["labels"],b);const I=l(e,["cachedContent"]);n!==void 0&&I!=null&&d(n,["cachedContent"],Wt(t,I));const R=l(e,["responseModalities"]);R!=null&&d(r,["responseModalities"],R);const V=l(e,["mediaResolution"]);V!=null&&d(r,["mediaResolution"],V);const Y=l(e,["speechConfig"]);Y!=null&&d(r,["speechConfig"],Tc(Y));const z=l(e,["audioTimestamp"]);z!=null&&d(r,["audioTimestamp"],z);const B=l(e,["thinkingConfig"]);B!=null&&d(r,["thinkingConfig"],B);const re=l(e,["imageConfig"]);if(re!=null&&d(r,["imageConfig"],OA(re)),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Dh(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["contents"]);if(i!=null){let s=at(i);Array.isArray(s)&&(s=s.map(a=>Ws(a))),d(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&d(n,["generationConfig"],uA(t,o,n)),n}function Uh(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["contents"]);if(i!=null){let s=at(i);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&d(n,["generationConfig"],cA(t,o,n)),n}function Lh(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Pk(c))),d(e,["candidates"],u)}const i=l(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=l(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const s=l(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=l(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function Oh(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(e,["candidates"],c)}const i=l(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=l(t,["modelVersion"]);o!=null&&d(e,["modelVersion"],o);const s=l(t,["promptFeedback"]);s!=null&&d(e,["promptFeedback"],s);const a=l(t,["responseId"]);a!=null&&d(e,["responseId"],a);const u=l(t,["usageMetadata"]);return u!=null&&d(e,["usageMetadata"],u),e}function dA(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=l(t,["aspectRatio"]);e!==void 0&&i!=null&&d(e,["parameters","aspectRatio"],i);const o=l(t,["guidanceScale"]);if(e!==void 0&&o!=null&&d(e,["parameters","guidanceScale"],o),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const a=l(t,["personGeneration"]);e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a);const u=l(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&d(e,["parameters","includeSafetyAttributes"],u);const c=l(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const f=l(t,["language"]);e!==void 0&&f!=null&&d(e,["parameters","language"],f);const m=l(t,["outputMimeType"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","mimeType"],m);const h=l(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&d(e,["parameters","outputOptions","compressionQuality"],h),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=l(t,["imageSize"]);if(e!==void 0&&g!=null&&d(e,["parameters","sampleImageSize"],g),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function fA(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=l(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const u=l(t,["seed"]);e!==void 0&&u!=null&&d(e,["parameters","seed"],u);const c=l(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const h=l(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const g=l(t,["language"]);e!==void 0&&g!=null&&d(e,["parameters","language"],g);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&d(e,["parameters","outputOptions","mimeType"],x);const E=l(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&d(e,["parameters","outputOptions","compressionQuality"],E);const _=l(t,["addWatermark"]);e!==void 0&&_!=null&&d(e,["parameters","addWatermark"],_);const y=l(t,["labels"]);e!==void 0&&y!=null&&d(e,["labels"],y);const v=l(t,["imageSize"]);e!==void 0&&v!=null&&d(e,["parameters","sampleImageSize"],v);const w=l(t,["enhancePrompt"]);return e!==void 0&&w!=null&&d(e,["parameters","enhancePrompt"],w),n}function hA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=l(e,["config"]);return o!=null&&dA(o,n),n}function pA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=l(e,["config"]);return o!=null&&fA(o,n),n}function mA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>AA(s))),d(e,["generatedImages"],o)}const i=l(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],E0(i)),e}function gA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ks(s))),d(e,["generatedImages"],o)}const i=l(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],S0(i)),e}function yA(t,e){const n={},r=l(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=l(t,["durationSeconds"]);if(e!==void 0&&i!=null&&d(e,["parameters","durationSeconds"],i),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=l(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const s=l(t,["resolution"]);e!==void 0&&s!=null&&d(e,["parameters","resolution"],s);const a=l(t,["personGeneration"]);if(e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=l(t,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const c=l(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&d(e,["parameters","enhancePrompt"],c),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=l(t,["lastFrame"]);e!==void 0&&f!=null&&d(e,["instances[0]","lastFrame"],Ys(f));const m=l(t,["referenceImages"]);if(e!==void 0&&m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>wb(g))),d(e,["instances[0]","referenceImages"],h)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function vA(t,e){const n={},r=l(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=l(t,["fps"]);e!==void 0&&o!=null&&d(e,["parameters","fps"],o);const s=l(t,["durationSeconds"]);e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s);const a=l(t,["seed"]);e!==void 0&&a!=null&&d(e,["parameters","seed"],a);const u=l(t,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const c=l(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const f=l(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const m=l(t,["pubsubTopic"]);e!==void 0&&m!=null&&d(e,["parameters","pubsubTopic"],m);const h=l(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const g=l(t,["enhancePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","enhancePrompt"],g);const x=l(t,["generateAudio"]);e!==void 0&&x!=null&&d(e,["parameters","generateAudio"],x);const E=l(t,["lastFrame"]);e!==void 0&&E!=null&&d(e,["instances[0]","lastFrame"],Tt(E));const _=l(t,["referenceImages"]);if(e!==void 0&&_!=null){let w=_;Array.isArray(w)&&(w=w.map(S=>xb(S))),d(e,["instances[0]","referenceImages"],w)}const y=l(t,["mask"]);e!==void 0&&y!=null&&d(e,["instances[0]","mask"],vb(y));const v=l(t,["compressionQuality"]);return e!==void 0&&v!=null&&d(e,["parameters","compressionQuality"],v),n}function wA(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);o!=null&&d(e,["error"],o);const s=l(t,["response","generateVideoResponse"]);return s!=null&&d(e,["response"],SA(s)),e}function xA(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);o!=null&&d(e,["error"],o);const s=l(t,["response"]);return s!=null&&d(e,["response"],TA(s)),e}function _A(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=l(e,["image"]);o!=null&&d(n,["instances[0]","image"],Ys(o));const s=l(e,["video"]);s!=null&&d(n,["instances[0]","video"],C0(s));const a=l(e,["source"]);a!=null&&CA(a,n);const u=l(e,["config"]);return u!=null&&yA(u,n),n}function EA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=l(e,["image"]);o!=null&&d(n,["instances[0]","image"],Tt(o));const s=l(e,["video"]);s!=null&&d(n,["instances[0]","video"],k0(s));const a=l(e,["source"]);a!=null&&kA(a,n);const u=l(e,["config"]);return u!=null&&vA(u,n),n}function SA(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>IA(s))),d(e,["generatedVideos"],o)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function TA(t){const e={},n=l(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>RA(s))),d(e,["generatedVideos"],o)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function CA(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=l(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Ys(i));const o=l(t,["video"]);return e!==void 0&&o!=null&&d(e,["instances[0]","video"],C0(o)),n}function kA(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=l(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Tt(i));const o=l(t,["video"]);return e!==void 0&&o!=null&&d(e,["instances[0]","video"],k0(o)),n}function AA(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["image"],FA(n));const r=l(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=l(t,["_self"]);return i!=null&&d(e,["safetyAttributes"],E0(i)),e}function Ks(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["image"],_0(n));const r=l(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=l(t,["_self"]);i!=null&&d(e,["safetyAttributes"],S0(i));const o=l(t,["prompt"]);return o!=null&&d(e,["enhancedPrompt"],o),e}function bA(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["mask"],_0(n));const r=l(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["labels"],i)}return e}function IA(t){const e={},n=l(t,["video"]);return n!=null&&d(e,["video"],gb(n)),e}function RA(t){const e={},n=l(t,["_self"]);return n!=null&&d(e,["video"],yb(n)),e}function NA(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=l(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const i=l(t,["audioTimestamp"]);i!=null&&d(e,["audioTimestamp"],i);const o=l(t,["candidateCount"]);o!=null&&d(e,["candidateCount"],o);const s=l(t,["enableAffectiveDialog"]);s!=null&&d(e,["enableAffectiveDialog"],s);const a=l(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const u=l(t,["logprobs"]);u!=null&&d(e,["logprobs"],u);const c=l(t,["maxOutputTokens"]);c!=null&&d(e,["maxOutputTokens"],c);const f=l(t,["mediaResolution"]);f!=null&&d(e,["mediaResolution"],f);const m=l(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const h=l(t,["responseLogprobs"]);h!=null&&d(e,["responseLogprobs"],h);const g=l(t,["responseMimeType"]);g!=null&&d(e,["responseMimeType"],g);const x=l(t,["responseModalities"]);x!=null&&d(e,["responseModalities"],x);const E=l(t,["responseSchema"]);E!=null&&d(e,["responseSchema"],E);const _=l(t,["routingConfig"]);_!=null&&d(e,["routingConfig"],_);const y=l(t,["seed"]);y!=null&&d(e,["seed"],y);const v=l(t,["speechConfig"]);v!=null&&d(e,["speechConfig"],v);const w=l(t,["stopSequences"]);w!=null&&d(e,["stopSequences"],w);const S=l(t,["temperature"]);S!=null&&d(e,["temperature"],S);const C=l(t,["thinkingConfig"]);C!=null&&d(e,["thinkingConfig"],C);const k=l(t,["topK"]);k!=null&&d(e,["topK"],k);const T=l(t,["topP"]);if(T!=null&&d(e,["topP"],T),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function PA(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],K(t,r)),n}function MA(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],K(t,r)),n}function DA(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function UA(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function LA(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function OA(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);r!=null&&d(e,["imageSize"],r);const i=l(t,["outputMimeType"]);i!=null&&d(e,["imageOutputOptions","mimeType"],i);const o=l(t,["outputCompressionQuality"]);return o!=null&&d(e,["imageOutputOptions","compressionQuality"],o),e}function FA(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],Sn(n));const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function _0(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],Sn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Ys(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],Sn(n));const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Tt(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],Sn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function $A(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const s=l(e,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const a=l(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],p0(t,a)),r}function VA(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const s=l(e,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const a=l(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],p0(t,a)),r}function qA(t,e){const n={},r=l(e,["config"]);return r!=null&&$A(t,r,n),n}function GA(t,e){const n={},r=l(e,["config"]);return r!=null&&VA(t,r,n),n}function BA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["_self"]);if(i!=null){let o=m0(i);Array.isArray(o)&&(o=o.map(s=>eu(s))),d(e,["models"],o)}return e}function HA(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["_self"]);if(i!=null){let o=m0(i);Array.isArray(o)&&(o=o.map(s=>tu(s))),d(e,["models"],o)}return e}function zA(t){const e={},n=l(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=l(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const i=l(t,["maskDilation"]);return i!=null&&d(e,["dilation"],i),e}function eu(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=l(t,["description"]);i!=null&&d(e,["description"],i);const o=l(t,["version"]);o!=null&&d(e,["version"],o);const s=l(t,["_self"]);s!=null&&d(e,["tunedModelInfo"],ab(s));const a=l(t,["inputTokenLimit"]);a!=null&&d(e,["inputTokenLimit"],a);const u=l(t,["outputTokenLimit"]);u!=null&&d(e,["outputTokenLimit"],u);const c=l(t,["supportedGenerationMethods"]);c!=null&&d(e,["supportedActions"],c);const f=l(t,["temperature"]);f!=null&&d(e,["temperature"],f);const m=l(t,["maxTemperature"]);m!=null&&d(e,["maxTemperature"],m);const h=l(t,["topP"]);h!=null&&d(e,["topP"],h);const g=l(t,["topK"]);g!=null&&d(e,["topK"],g);const x=l(t,["thinking"]);return x!=null&&d(e,["thinking"],x),e}function tu(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=l(t,["description"]);i!=null&&d(e,["description"],i);const o=l(t,["versionId"]);o!=null&&d(e,["version"],o);const s=l(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(h=>iA(h))),d(e,["endpoints"],m)}const a=l(t,["labels"]);a!=null&&d(e,["labels"],a);const u=l(t,["_self"]);u!=null&&d(e,["tunedModelInfo"],lb(u));const c=l(t,["defaultCheckpointId"]);c!=null&&d(e,["defaultCheckpointId"],c);const f=l(t,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>h)),d(e,["checkpoints"],m)}return e}function jA(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=l(t,["fileData"]);o!=null&&d(e,["fileData"],oA(o));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],sA(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],Nk(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function JA(t){const e={},n=l(t,["productImage"]);return n!=null&&d(e,["image"],Tt(n)),e}function WA(t,e){const n={},r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=l(t,["baseSteps"]);e!==void 0&&i!=null&&d(e,["parameters","baseSteps"],i);const o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const s=l(t,["seed"]);e!==void 0&&s!=null&&d(e,["parameters","seed"],s);const a=l(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const u=l(t,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const c=l(t,["addWatermark"]);e!==void 0&&c!=null&&d(e,["parameters","addWatermark"],c);const f=l(t,["outputMimeType"]);e!==void 0&&f!=null&&d(e,["parameters","outputOptions","mimeType"],f);const m=l(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","compressionQuality"],m);const h=l(t,["enhancePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","enhancePrompt"],h);const g=l(t,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),n}function KA(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["source"]);i!=null&&XA(i,n);const o=l(e,["config"]);return o!=null&&WA(o,n),n}function YA(t){const e={},n=l(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ks(i))),d(e,["generatedImages"],r)}return e}function XA(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=l(t,["personImage"]);e!==void 0&&i!=null&&d(e,["instances[0]","personImage","image"],Tt(i));const o=l(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>JA(a))),d(e,["instances[0]","productImages"],s)}return n}function QA(t){const e={},n=l(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],Tt(n));const r=l(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const i=l(t,["referenceType"]);i!=null&&d(e,["referenceType"],i);const o=l(t,["maskImageConfig"]);o!=null&&d(e,["maskImageConfig"],zA(o));const s=l(t,["controlImageConfig"]);s!=null&&d(e,["controlImageConfig"],Fk(s));const a=l(t,["styleImageConfig"]);a!=null&&d(e,["styleImageConfig"],a);const u=l(t,["subjectImageConfig"]);return u!=null&&d(e,["subjectImageConfig"],u),e}function E0(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=l(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function S0(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=l(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function ZA(t){const e={},n=l(t,["category"]);if(n!=null&&d(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function eb(t){const e={},n=l(t,["image"]);return n!=null&&d(e,["image"],Tt(n)),e}function tb(t,e){const n={},r=l(t,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const i=l(t,["maxPredictions"]);e!==void 0&&i!=null&&d(e,["parameters","maxPredictions"],i);const o=l(t,["confidenceThreshold"]);e!==void 0&&o!=null&&d(e,["parameters","confidenceThreshold"],o);const s=l(t,["maskDilation"]);e!==void 0&&s!=null&&d(e,["parameters","maskDilation"],s);const a=l(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&d(e,["parameters","binaryColorThreshold"],a);const u=l(t,["labels"]);return e!==void 0&&u!=null&&d(e,["labels"],u),n}function nb(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["source"]);i!=null&&ib(i,n);const o=l(e,["config"]);return o!=null&&tb(o,n),n}function rb(t){const e={},n=l(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bA(i))),d(e,["generatedMasks"],r)}return e}function ib(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=l(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Tt(i));const o=l(t,["scribbleImage"]);return e!==void 0&&o!=null&&d(e,["instances[0]","scribble"],eb(o)),n}function ob(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],aA(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function sb(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=l(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],DA(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],UA(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function T0(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>lA(h))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=l(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=l(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=l(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=l(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],u);const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function ab(t){const e={},n=l(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=l(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function lb(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=l(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function ub(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=l(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const o=l(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&d(e,["defaultCheckpointId"],o),n}function cb(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=l(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const o=l(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&d(e,["defaultCheckpointId"],o),n}function db(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","name"],K(t,r));const i=l(e,["config"]);return i!=null&&ub(i,n),n}function fb(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["config"]);return i!=null&&cb(i,n),n}function hb(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=l(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&d(e,["parameters","safetySetting"],i);const o=l(t,["personGeneration"]);e!==void 0&&o!=null&&d(e,["parameters","personGeneration"],o);const s=l(t,["includeRaiReason"]);e!==void 0&&s!=null&&d(e,["parameters","includeRaiReason"],s);const a=l(t,["outputMimeType"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","mimeType"],a);const u=l(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&d(e,["parameters","outputOptions","compressionQuality"],u);const c=l(t,["enhanceInputImage"]);e!==void 0&&c!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=l(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=l(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const h=l(t,["numberOfImages"]);e!==void 0&&h!=null&&d(e,["parameters","sampleCount"],h);const g=l(t,["mode"]);return e!==void 0&&g!=null&&d(e,["parameters","mode"],g),n}function pb(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],K(t,r));const i=l(e,["image"]);i!=null&&d(n,["instances[0]","image"],Tt(i));const o=l(e,["upscaleFactor"]);o!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=l(e,["config"]);return s!=null&&hb(s,n),n}function mb(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ks(o))),d(e,["generatedImages"],i)}return e}function gb(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],Sn(r));const i=l(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function yb(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],Sn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function vb(t){const e={},n=l(t,["image"]);n!=null&&d(e,["_self"],Tt(n));const r=l(t,["maskMode"]);return r!=null&&d(e,["maskMode"],r),e}function wb(t){const e={},n=l(t,["image"]);n!=null&&d(e,["image"],Ys(n));const r=l(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function xb(t){const e={},n=l(t,["image"]);n!=null&&d(e,["image"],Tt(n));const r=l(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function C0(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["videoBytes"]);r!=null&&d(e,["encodedVideo"],Sn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["encoding"],i),e}function k0(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],Sn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _b(t,e){const n={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),n}function Eb(t){const e={},n=l(t,["config"]);return n!=null&&_b(n,e),e}function Sb(t,e){const n={},r=l(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function Tb(t){const e={},n=l(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&Sb(r,e),e}function Cb(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function kb(t,e){const n={},r=l(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["customMetadata"],o)}const i=l(t,["chunkingConfig"]);return e!==void 0&&i!=null&&d(e,["chunkingConfig"],i),n}function Ab(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const o=l(t,["error"]);o!=null&&d(e,["error"],o);const s=l(t,["response"]);return s!=null&&d(e,["response"],Ib(s)),e}function bb(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=l(t,["fileName"]);r!=null&&d(e,["fileName"],r);const i=l(t,["config"]);return i!=null&&kb(i,e),e}function Ib(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const i=l(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function Rb(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function Nb(t){const e={},n=l(t,["config"]);return n!=null&&Rb(n,e),e}function Pb(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["fileSearchStores"],o)}return e}function A0(t,e){const n={},r=l(t,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const i=l(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=l(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["customMetadata"],a)}const s=l(t,["chunkingConfig"]);return e!==void 0&&s!=null&&d(e,["chunkingConfig"],s),n}function Mb(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=l(t,["config"]);return r!=null&&A0(r,e),e}function Db(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ub="Content-Type",Lb="X-Server-Timeout",Ob="User-Agent",nu="x-goog-api-client",Fb="1.34.0",$b=`google-genai-sdk/${Fb}`,Vb="v1beta1",qb="v1beta";class Gb{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Vb,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:qb,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&Bb(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Fh(i),new Xl(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Fh(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return _t(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:f}=yield q(i.read());if(c){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(f,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const E=JSON.parse(JSON.stringify(x.error)),_=E.status,y=E.code,v=`got status: ${_}. ${JSON.stringify(x)}`;if(y>=400&&y<600)throw new Js({message:v,status:y})}}catch(x){if(x.name==="ApiError")throw x}s+=m;let h=-1,g=0;for(;;){h=-1,g=0;for(const _ of u){const y=s.indexOf(_);y!==-1&&(h===-1||y<h)&&(h=y,g=_.length)}if(h===-1)break;const x=s.substring(0,h);s=s.substring(h+g);const E=x.trim();if(E.startsWith(a)){const _=E.substring(a.length).trim();try{const y=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield q(new Xl(y))}catch(y){throw new Error(`exception parsing stream chunk ${_}. ${y}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=$b+" "+this.clientOptions.userAgentExtra;return e[Ob]=n,e[nu]=n,e[Ub]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Lb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const u={file:i},c=this.getFileName(e),f=M("upload/v1beta/files",u._url),m=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,c,u,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),m={};r!=null&&A0(r,m);const h=await this.fetchUploadUrl(c,a,u,f,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:u});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Fh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Js({message:i,status:n}):new Error(i)}}function Bb(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const c=s[u],f=a[u];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?a[u]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),a[u]=c)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="mcp_used/unknown";let zb=!1;function b0(t){for(const e of t)if(jb(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zb}function I0(t){var e;const n=(e=t[nu])!==null&&e!==void 0?e:"";t[nu]=(n+` ${Hb}`).trimStart()}function jb(t){return t!==null&&typeof t=="object"&&t instanceof kc}function Jb(t){return _t(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield q(n.listTools({cursor:i}));for(const a of s.tools)yield yield q(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class kc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new kc(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const f of this.mcpClients)try{for(var a=!0,u=(n=void 0,Et(Jb(f))),c;c=await u.next(),e=c.done,!e;a=!0){i=c.value,a=!1;const m=i;s.push(m);const h=m.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=f}}catch(m){n={error:m}}finally{try{!a&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),C1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Wb(t,e,n){const r=new y1;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Kb{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=Qb(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const f=new Promise(w=>{c=w}),m=e.callbacks,h=function(){c({})},g=this.apiClient,x={onopen:h,onmessage:w=>{Wb(g,m.onmessage,w)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(w){}},E=this.webSocketFactory.create(u,Xb(s),x);E.connect(),await f;const v={setup:{model:K(this.apiClient,e.model)}};return E.send(JSON.stringify(v)),new Yb(E,this.apiClient)}}class Yb{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Ek(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=_k(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Sr.PLAY)}pause(){this.sendPlaybackControl(Sr.PAUSE)}stop(){this.sendPlaybackControl(Sr.STOP)}resetContext(){this.sendPlaybackControl(Sr.RESET_CONTEXT)}close(){this.conn.close()}}function Xb(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Qb(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function eI(t,e,n){const r=new g1;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=Ck(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class tI{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Kb(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&b0(e.config.tools)&&I0(m);const h=oI(m);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const I=this.apiClient.getApiKey();let R="BidiGenerateContent",V="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",V="access_token"),f=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.${R}?${V}=${I}`}let g=()=>{};const x=new Promise(I=>{g=I}),E=e.callbacks,_=function(){var I;(I=E==null?void 0:E.onopen)===null||I===void 0||I.call(E),g({})},y=this.apiClient,v={onopen:_,onmessage:I=>{eI(y,E.onmessage,I)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(I){}},w=this.webSocketFactory.create(f,iI(h),v);w.connect(),await x;let S=K(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const I=this.apiClient.getProject(),R=this.apiClient.getLocation();S=`projects/${I}/locations/${R}/`+S}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xs.AUDIO]}:e.config.responseModalities=[xs.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],T=[];for(const I of k)if(this.isCallableTool(I)){const R=I;T.push(await R.tool())}else T.push(I);T.length>0&&(e.config.tools=T);const b={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=xk(this.apiClient,b):C=wk(this.apiClient,b),delete C.config,w.send(JSON.stringify(C)),new rI(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const nI={turnComplete:!0};class rI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=at(n.turns),e.isVertexAI()||(r=r.map(i=>Ws(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Zb)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},nI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Tk(e)}:n={realtimeInput:Sk(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function iI(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function oI(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $h=10;function Vh(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ur(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ur(t){return"callTool"in t&&typeof t.callTool=="function"}function sI(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ur(i)))!==null&&r!==void 0?r:!1}function qh(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ur(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Gh(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aI extends Jt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!sI(n)||Vh(n.config))return await this.generateContentInternal(u);const c=qh(n);if(c.length>0){const E=c.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,m;const h=at(u.contents),g=(o=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:$h;let x=0;for(;x<g&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,_=[];for(const y of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Ur(y)){const w=await y.callTool(f.functionCalls);_.push(...w)}x++,m={role:"user",parts:_},u.contents=at(u.contents),u.contents.push(E),u.contents.push(m),Gh(u.config)&&(h.push(E),h.push(m))}return Gh(u.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),Vh(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const u=qh(n);if(u.length>0){const m=u.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,f=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=u==null?void 0:u.safetyAttributes:s.push(u);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Qn(qt.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async u=>Ur(u)?await u.tool():u)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&b0(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},u);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),I0(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ur(s)){const a=s,u=await a.tool();for(const c of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:$h;let s=!1,a=0;const u=await this.initAfcToolsMap(e);return function(c,f,m){return _t(this,arguments,function*(){for(var h,g,x,E,_,y;a<o;){s&&(a++,s=!1);const C=yield q(c.processParamsMaybeAddMcpUsage(m)),k=yield q(c.generateContentStreamInternal(C)),T=[],b=[];try{for(var v=!0,w=(g=void 0,Et(k)),S;S=yield q(w.next()),h=S.done,!h;v=!0){E=S.value,v=!1;const I=E;if(yield yield q(I),I.candidates&&(!((_=I.candidates[0])===null||_===void 0)&&_.content)){b.push(I.candidates[0].content);for(const R of(y=I.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(a<o&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(R.functionCall.name)){const V=yield q(f.get(R.functionCall.name).callTool([R.functionCall]));T.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(I){g={error:I}}finally{try{!v&&!h&&(x=w.return)&&(yield q(x.call(w)))}finally{if(g)throw g.error}}if(T.length>0){s=!0;const I=new ii;I.candidates=[{content:{role:"user",parts:T}}],yield yield q(I);const R=[];R.push(...b),R.push({role:"user",parts:T});const V=at(m.contents).concat(R);m.contents=V}else break}})}(this,u,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=Uh(this.apiClient,e);return a=M("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=Oh(f),h=new ii;return Object.assign(h,m),h})}else{const c=Dh(this.apiClient,e);return a=M("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=Lh(f),h=new ii;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=Uh(this.apiClient,e);return a=M("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return _t(this,arguments,function*(){var h,g,x,E;try{for(var _=!0,y=Et(m),v;v=yield q(y.next()),h=v.done,!h;_=!0){E=v.value,_=!1;const w=E,S=Oh(yield q(w.json()));S.sdkHttpResponse={headers:w.headers};const C=new ii;Object.assign(C,S),yield yield q(C)}}catch(w){g={error:w}}finally{try{!_&&!h&&(x=y.return)&&(yield q(x.call(y)))}finally{if(g)throw g.error}}})})}else{const c=Dh(this.apiClient,e);return a=M("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(m){return _t(this,arguments,function*(){var h,g,x,E;try{for(var _=!0,y=Et(m),v;v=yield q(y.next()),h=v.done,!h;_=!0){E=v.value,_=!1;const w=E,S=Lh(yield q(w.json()));S.sdkHttpResponse={headers:w.headers};const C=new ii;Object.assign(C,S),yield yield q(C)}}catch(w){g={error:w}}finally{try{!_&&!h&&(x=y.return)&&(yield q(x.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=tA(this.apiClient,e);return a=M("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=rA(f),h=new yh;return Object.assign(h,m),h})}else{const c=eA(this.apiClient,e);return a=M("{model}:batchEmbedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=nA(f),h=new yh;return Object.assign(h,m),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=pA(this.apiClient,e);return a=M("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=gA(f),h=new vh;return Object.assign(h,m),h})}else{const c=hA(this.apiClient,e);return a=M("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=mA(f),h=new vh;return Object.assign(h,m),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Yk(this.apiClient,e);return o=M("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Xk(u),f=new o1;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=pb(this.apiClient,e);return o=M("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=mb(u),f=new s1;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=KA(this.apiClient,e);return o=M("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=YA(u),f=new a1;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=nb(this.apiClient,e);return o=M("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=rb(u),f=new l1;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=MA(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>tu(f))}else{const c=PA(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>eu(f))}}async listInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=GA(this.apiClient,e);return a=M("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=HA(f),h=new wh;return Object.assign(h,m),h})}else{const c=qA(this.apiClient,e);return a=M("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=BA(f),h=new wh;return Object.assign(h,m),h})}}async update(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=fb(this.apiClient,e);return a=M("{model}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>tu(f))}else{const c=db(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>eu(f))}}async delete(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=jk(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=Wk(f),h=new xh;return Object.assign(h,m),h})}else{const c=zk(this.apiClient,e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=Jk(f),h=new xh;return Object.assign(h,m),h})}}async countTokens(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=Gk(this.apiClient,e);return a=M("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=Hk(f),h=new _h;return Object.assign(h,m),h})}else{const c=qk(this.apiClient,e);return a=M("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=Bk(f),h=new _h;return Object.assign(h,m),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Dk(this.apiClient,e);return o=M("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Uk(u),f=new u1;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=EA(this.apiClient,e);return a=M("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const m=xA(f),h=new _s;return Object.assign(h,m),h})}else{const c=_A(this.apiClient,e);return a=M("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const m=wA(f),h=new _s;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lI extends Jt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=ZT(e);return a=M("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const c=QT(e);return a=M("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=zT(e);return o=M("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uI(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function cI(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wI(o))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function dI(t,e,n){const r={},i=l(e,["expireTime"]);n!==void 0&&i!=null&&d(n,["expireTime"],i);const o=l(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&d(n,["newSessionExpireTime"],o);const s=l(e,["uses"]);n!==void 0&&s!=null&&d(n,["uses"],s);const a=l(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&d(n,["bidiGenerateContentSetup"],vI(t,a));const u=l(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&d(n,["fieldMask"],u),r}function fI(t,e){const n={},r=l(e,["config"]);return r!=null&&d(n,["config"],dI(t,r,n)),n}function hI(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function pI(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mI(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function gI(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function yI(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=l(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=l(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=l(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","maxOutputTokens"],u);const c=l(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","seed"],f);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Cc(m));const h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const g=l(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=l(t,["systemInstruction"]);e!==void 0&&x!=null&&d(e,["setup","systemInstruction"],cI(De(x)));const E=l(t,["tools"]);if(e!==void 0&&E!=null){let k=Wr(E);Array.isArray(k)&&(k=k.map(T=>_I(Jr(T)))),d(e,["setup","tools"],k)}const _=l(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],xI(_));const y=l(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&d(e,["setup","inputAudioTranscription"],y);const v=l(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&d(e,["setup","outputAudioTranscription"],v);const w=l(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&d(e,["setup","realtimeInputConfig"],w);const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&d(e,["setup","contextWindowCompression"],S);const C=l(t,["proactivity"]);if(e!==void 0&&C!=null&&d(e,["setup","proactivity"],C),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function vI(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],K(t,r));const i=l(e,["config"]);return i!=null&&d(n,["config"],yI(i,n)),n}function wI(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=l(t,["fileData"]);o!=null&&d(e,["fileData"],hI(o));const s=l(t,["functionCall"]);s!=null&&d(e,["functionCall"],pI(s));const a=l(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&d(e,["inlineData"],uI(u));const c=l(t,["text"]);c!=null&&d(e,["text"],c);const f=l(t,["thought"]);f!=null&&d(e,["thought"],f);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function xI(t){const e={},n=l(t,["handle"]);if(n!=null&&d(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _I(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),d(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=l(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=l(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],mI(a));const u=l(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],gI(u));const c=l(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function SI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=EI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const u=[];o&&u.push(o),a.length>0&&u.push(...a),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class TI extends Jt{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=fI(this.apiClient,e);o=M("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const u=SI(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CI(t,e){const n={},r=l(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function kI(t){const e={},n=l(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&CI(r,e),e}function AI(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function bI(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function II(t){const e={},n=l(t,["parent"]);n!=null&&d(e,["_url","parent"],n);const r=l(t,["config"]);return r!=null&&bI(r,e),e}function RI(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NI extends Jt{constructor(e){super(),this.apiClient=e,this.list=async n=>new Qn(qt.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=AI(e);return o=M("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=kI(e);i=M("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=II(e);return o=M("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=RI(u),f=new c1;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PI extends Jt{constructor(e,n=new NI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Qn(qt.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Eb(e);return o=M("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Cb(e);return o=M("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tb(e);i=M("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Nb(e);return o=M("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Pb(u),f=new d1;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Mb(e);return o=M("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Db(u),f=new f1;return Object.assign(f,c),f})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bb(e);return o=M("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Ab(u),f=new xc;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R0=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return R0=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const MI=()=>R0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ru(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const iu=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ct extends Error{}class Ve extends ct{constructor(e,n,r,i){super(`${Ve.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Xs({message:r,cause:iu(n)});const o=n;return e===400?new P0(e,o,r,i):e===401?new M0(e,o,r,i):e===403?new D0(e,o,r,i):e===404?new U0(e,o,r,i):e===409?new L0(e,o,r,i):e===422?new O0(e,o,r,i):e===429?new F0(e,o,r,i):e>=500?new $0(e,o,r,i):new Ve(e,o,r,i)}}class ou extends Ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Xs extends Ve{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class N0 extends Xs{constructor({message:e}={}){super({message:e??"Request timed out."})}}class P0 extends Ve{}class M0 extends Ve{}class D0 extends Ve{}class U0 extends Ve{}class L0 extends Ve{}class O0 extends Ve{}class F0 extends Ve{}class $0 extends Ve{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DI=/^[a-z][a-z0-9+.-]*:/i,UI=t=>DI.test(t);let su=t=>(su=Array.isArray,su(t));const LI=su;let OI=LI;const Bh=OI;function FI(t){if(!t)return!0;for(const e in t)return!1;return!0}function $I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const VI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ct(`${t} must be an integer`);if(e<0)throw new ct(`${t} must be a positive integer`);return e},qI=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GI=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ur="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const HI=()=>{var t,e,n,r,i;const o=BI();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":zh(Deno.build.os),"X-Stainless-Arch":Hh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":zh((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Hh((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=zI();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const Hh=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",zh=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Co;const jI=()=>Co??(Co=HI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function V0(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function WI(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return V0({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function q0(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function KI(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G0=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Oa(t,e,n){return G0(),new File(t,e??"unknown_file",n)}function XI(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const QI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B0=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ZI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&B0(t),eR=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function tR(t,e,n){if(G0(),t=await t,ZI(t))return t instanceof File?t:Oa([await t.arrayBuffer()],t.name);if(eR(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Oa(await au(i),e,n)}const r=await au(t);if(e||(e=XI(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Oa(r,e,n)}async function au(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(B0(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(QI(t))try{for(var a=!0,u=Et(t),c;c=await u.next(),e=c.done,!e;a=!0){i=c.value,a=!1;const f=i;s.push(...await au(f))}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}else{const f=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${nR(t)}`)}return s}function nR(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H0{constructor(e){this._client=e}}H0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z0(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const jh=Object.freeze(Object.create(null)),rR=(t=z0)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((f,m,h)=>{var g,x,E;/[?#]/.test(m)&&(i=!0);const _=r[h];let y=(i?encodeURIComponent:t)(""+_);return h!==r.length&&(_==null||typeof _=="object"&&_.toString===((E=Object.getPrototypeOf((x=Object.getPrototypeOf((g=_.hasOwnProperty)!==null&&g!==void 0?g:jh))!==null&&x!==void 0?x:jh))===null||E===void 0?void 0:E.toString))&&(y=_+"",o.push({start:f.length+m.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),f+m+(h===r.length?"":y)},""),a=s.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=u.exec(a))!==null;)o.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(o.sort((f,m)=>f.start-m.start),o.length>0){let f=0;const m=o.reduce((h,g)=>{const x=" ".repeat(g.start-f),E="^".repeat(g.length);return f=g.start+g.length,h+x+E},"");throw new ct(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${m}`)}return s},ko=rR(z0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j0 extends H0{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Ss(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new ct("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new ct("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ko`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ko`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ko`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Ss(o,["api_version"]);return this._client.get(ko`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}j0._key=Object.freeze(["interactions"]);class J0 extends j0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iR(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Ao;function Ac(t){let e;return(Ao??(e=new globalThis.TextEncoder,Ao=e.encode.bind(e)))(t)}let bo;function Jh(t){let e;return(bo??(e=new globalThis.TextDecoder,bo=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ac(e):e;this.buffer=iR([this.buffer,n]);const r=[];let i;for(;(i=oR(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Jh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Jh(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Qs.NEWLINE_CHARS=new Set([`
`,"\r"]);Qs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function oR(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function sR(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ts={off:0,error:200,warn:300,info:400,debug:500},Wh=(t,e,n)=>{if(t){if($I(Ts,t))return t;Oe(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ts))}`)}};function di(){}function Io(t,e,n){return!e||Ts[t]>Ts[n]?di:e[t].bind(e)}const aR={error:di,warn:di,info:di,debug:di};let Kh=new WeakMap;function Oe(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return aR;const i=Kh.get(n);if(i&&i[0]===r)return i[1];const o={error:Io("error",n,r),warn:Io("warn",n,r),info:Io("info",n,r),debug:Io("debug",n,r)};return Kh.set(n,[r,o]),o}const Pn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tr{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Oe(r):console;function s(){return _t(this,arguments,function*(){var u,c,f,m;if(i)throw new ct("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,x=Et(lR(e,n)),E;E=yield q(x.next()),u=E.done,!u;g=!0){m=E.value,g=!1;const _=m;if(!h)if(_.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield q(JSON.parse(_.data))}catch(y){throw o.error("Could not parse message into JSON:",_.data),o.error("From chunk:",_.raw),y}}}catch(_){c={error:_}}finally{try{!g&&!u&&(f=x.return)&&(yield q(f.call(x)))}finally{if(c)throw c.error}}h=!0}catch(_){if(ru(_))return yield q(void 0);throw _}finally{h||n.abort()}})}return new Tr(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return _t(this,arguments,function*(){var u,c,f,m;const h=new Qs,g=q0(e);try{for(var x=!0,E=Et(g),_;_=yield q(E.next()),u=_.done,!u;x=!0){m=_.value,x=!1;const y=m;for(const v of h.decode(y))yield yield q(v)}}catch(y){c={error:y}}finally{try{!x&&!u&&(f=E.return)&&(yield q(f.call(E)))}finally{if(c)throw c.error}}for(const y of h.flush())yield yield q(y)})}function s(){return _t(this,arguments,function*(){var u,c,f,m;if(i)throw new ct("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,x=Et(o()),E;E=yield q(x.next()),u=E.done,!u;g=!0){m=E.value,g=!1;const _=m;h||_&&(yield yield q(JSON.parse(_)))}}catch(_){c={error:_}}finally{try{!g&&!u&&(f=x.return)&&(yield q(f.call(x)))}finally{if(c)throw c.error}}h=!0}catch(_){if(ru(_))return yield q(void 0);throw _}finally{h||n.abort()}})}return new Tr(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Tr(()=>i(e),this.controller,this.client),new Tr(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return V0({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=Ac(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function lR(t,e){return _t(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ct("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ct("Attempted to iterate over a response with no body");const a=new cR,u=new Qs,c=q0(t.body);try{for(var f=!0,m=Et(uR(c)),h;h=yield q(m.next()),r=h.done,!r;f=!0){s=h.value,f=!1;const g=s;for(const x of u.decode(g)){const E=a.decode(x);E&&(yield yield q(E))}}}catch(g){i={error:g}}finally{try{!f&&!r&&(o=m.return)&&(yield q(o.call(m)))}finally{if(i)throw i.error}}for(const g of u.flush()){const x=a.decode(g);x&&(yield yield q(x))}})}function uR(t){return _t(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,u=Et(t),c;c=yield q(u.next()),n=c.done,!n;a=!0){o=c.value,a=!1;const f=o;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Ac(f):f;let h=new Uint8Array(s.length+m.length);h.set(s),h.set(m,s.length),s=h;let g;for(;(g=sR(s))!==-1;)yield yield q(s.slice(0,g)),s=s.slice(g)}}catch(f){r={error:f}}finally{try{!a&&!n&&(i=u.return)&&(yield q(i.call(u)))}finally{if(r)throw r.error}}s.length>0&&(yield yield q(s))})}class cR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=dR(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function dR(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fR(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return Oe(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Tr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const u=n.headers.get("content-type"),c=(a=u==null?void 0:u.split(";")[0])===null||a===void 0?void 0:a.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return Oe(t).debug(`[${r}] response parsed`,Pn({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bc extends Promise{constructor(e,n,r=fR){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new bc(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W0=Symbol("brand.privateNullableHeaders");function*hR(t){if(!t)return;if(W0 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Bh(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Bh(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const oi=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of hR(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[W0]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fa=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=$T)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var K0;class Zs{constructor(e){var n,r,i,o,s,a,u,{baseURL:c=Fa("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Fa("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,h=Ss(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:f,apiVersion:m},h),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Zs.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(s=(o=Wh(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Wh(Fa("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:x,this.fetchOptions=g.fetchOptions,this.maxRetries=(a=g.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(u=g.fetch)!==null&&u!==void 0?u:JI(),this.encoder=YI,this._options=g,this.apiKey=f,this.apiVersion=m,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=oi([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return oi([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return oi([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ct(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ur}`}defaultIdempotencyKey(){return`stainless-node-retry-${MI()}`}makeStatusError(e,n,r,i){return Ve.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=UI(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return FI(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new bc(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,u=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=u),await this.prepareOptions(a);const{req:c,url:f,timeout:m}=await this.buildRequest(a,{retryCount:u-n});await this.prepareRequest(c,{url:f,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(Oe(this).debug(`[${h}] sending request`,Pn({retryOfRequestLogID:r,method:a.method,url:f,options:a,headers:c.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new ou;const E=new AbortController,_=await this.fetchWithTimeout(f,c,m,E).catch(iu),y=Date.now();if(_ instanceof globalThis.Error){const w=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new ou;const S=ru(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return Oe(this).info(`[${h}] connection ${S?"timed out":"failed"} - ${w}`),Oe(this).debug(`[${h}] connection ${S?"timed out":"failed"} (${w})`,Pn({retryOfRequestLogID:r,url:f,durationMs:y-x,message:_.message})),this.retryRequest(a,n,r??h);throw Oe(this).info(`[${h}] connection ${S?"timed out":"failed"} - error; no more retries left`),Oe(this).debug(`[${h}] connection ${S?"timed out":"failed"} (error; no more retries left)`,Pn({retryOfRequestLogID:r,url:f,durationMs:y-x,message:_.message})),S?new N0:new Xs({cause:_})}const v=`[${h}${g}] ${c.method} ${f} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${y-x}ms`;if(!_.ok){const w=await this.shouldRetry(_);if(n&&w){const I=`retrying, ${n} attempts remaining`;return await KI(_.body),Oe(this).info(`${v} - ${I}`),Oe(this).debug(`[${h}] response error (${I})`,Pn({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:y-x})),this.retryRequest(a,n,r??h,_.headers)}const S=w?"error; no more retries left":"error; not retryable";Oe(this).info(`${v} - ${S}`);const C=await _.text().catch(I=>iu(I).message),k=qI(C),T=k?void 0:C;throw Oe(this).debug(`[${h}] response error (${S})`,Pn({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,message:T,durationMs:Date.now()-x})),this.makeStatusError(_.status,k,T,_.headers)}return Oe(this).info(v),Oe(this).debug(`[${h}] response start`,Pn({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:y-x})),{response:_,options:a,controller:E,requestLogID:h,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,u=Ss(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),r),f=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},f?{duplex:"half"}:{}),{method:"GET"}),u);a&&(m.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const c=parseFloat(a);Number.isNaN(c)||(s=c)}const u=i==null?void 0:i.get("retry-after");if(u&&!s){const c=parseFloat(u);Number.isNaN(c)?s=Date.parse(u)-Date.now():s=c*1e3}if(!(s&&0<=s&&s<60*1e3)){const c=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,c)}return await GI(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:u,query:c,defaultBaseURL:f}=s,m=this.buildURL(u,c,f);"timeout"in s&&VI("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:s}),x=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:x},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=oi([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),jI()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=oi([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:WI(e)}:this.encoder({body:e,headers:r})}}Zs.DEFAULT_TIMEOUT=6e4;class Se extends Zs{constructor(){super(...arguments),this.interactions=new J0(this)}}K0=Se;Se.GeminiNextGenAPIClient=K0;Se.GeminiNextGenAPIClientError=ct;Se.APIError=Ve;Se.APIConnectionError=Xs;Se.APIConnectionTimeoutError=N0;Se.APIUserAbortError=ou;Se.NotFoundError=U0;Se.ConflictError=L0;Se.RateLimitError=F0;Se.BadRequestError=P0;Se.AuthenticationError=M0;Se.InternalServerError=$0;Se.PermissionDeniedError=D0;Se.UnprocessableEntityError=O0;Se.toFile=tR;Se.Interactions=J0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pR(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function mR(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function gR(t,e){const n={},r=l(t,["sdkHttpResponse"]);return r!=null&&d(n,["sdkHttpResponse"],r),n}function yR(t,e){const n={},r=l(t,["sdkHttpResponse"]);return r!=null&&d(n,["sdkHttpResponse"],r),n}function vR(t,e,n){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&d(e,["displayName"],i),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=l(t,["epochCount"]);e!==void 0&&o!=null&&d(e,["tuningTask","hyperparameters","epochCount"],o);const s=l(t,["learningRateMultiplier"]);if(s!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=l(t,["batchSize"]);e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","batchSize"],a);const u=l(t,["learningRate"]);if(e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","learningRate"],u),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function wR(t,e,n){const r={};let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=l(t,["validationDataset"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec"],Yh(g))}else if(i==="PREFERENCE_TUNING"){const g=l(t,["validationDataset"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec"],Yh(g))}const o=l(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&d(e,["tunedModelDisplayName"],o);const s=l(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);let a=l(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=l(t,["epochCount"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=l(t,["epochCount"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=l(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(u==="PREFERENCE_TUNING"){const g=l(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=l(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=l(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=l(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=l(t,["adapterSize"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=l(t,["adapterSize"]);e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=l(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const h=l(t,["beta"]);return e!==void 0&&h!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function xR(t,e){const n={},r=l(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=l(t,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const o=l(t,["trainingDataset"]);o!=null&&NR(o);const s=l(t,["config"]);return s!=null&&vR(s,n),n}function _R(t,e){const n={},r=l(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=l(t,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const o=l(t,["trainingDataset"]);o!=null&&PR(o,n,e);const s=l(t,["config"]);return s!=null&&wR(s,n,e),n}function ER(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function SR(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function TR(t,e,n){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const s=l(t,["filter"]);return e!==void 0&&s!=null&&d(e,["_query","filter"],s),r}function CR(t,e,n){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const s=l(t,["filter"]);return e!==void 0&&s!=null&&d(e,["_query","filter"],s),r}function kR(t,e){const n={},r=l(t,["config"]);return r!=null&&TR(r,n),n}function AR(t,e){const n={},r=l(t,["config"]);return r!=null&&CR(r,n),n}function bR(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=l(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Y0(a))),d(n,["tuningJobs"],s)}return n}function IR(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=l(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>lu(a))),d(n,["tuningJobs"],s)}return n}function RR(t,e){const n={},r=l(t,["name"]);r!=null&&d(n,["model"],r);const i=l(t,["name"]);return i!=null&&d(n,["endpoint"],i),n}function NR(t,e){const n={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(n,["examples","examples"],i)}return n}function PR(t,e,n){const r={};let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=l(t,["gcsUri"]);e!==void 0&&s!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=l(t,["gcsUri"]);e!==void 0&&s!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=l(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=l(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=l(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Y0(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["name"]);i!=null&&d(n,["name"],i);const o=l(t,["state"]);o!=null&&d(n,["state"],f0(o));const s=l(t,["createTime"]);s!=null&&d(n,["createTime"],s);const a=l(t,["tuningTask","startTime"]);a!=null&&d(n,["startTime"],a);const u=l(t,["tuningTask","completeTime"]);u!=null&&d(n,["endTime"],u);const c=l(t,["updateTime"]);c!=null&&d(n,["updateTime"],c);const f=l(t,["description"]);f!=null&&d(n,["description"],f);const m=l(t,["baseModel"]);m!=null&&d(n,["baseModel"],m);const h=l(t,["_self"]);return h!=null&&d(n,["tunedModel"],RR(h)),n}function lu(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["name"]);i!=null&&d(n,["name"],i);const o=l(t,["state"]);o!=null&&d(n,["state"],f0(o));const s=l(t,["createTime"]);s!=null&&d(n,["createTime"],s);const a=l(t,["startTime"]);a!=null&&d(n,["startTime"],a);const u=l(t,["endTime"]);u!=null&&d(n,["endTime"],u);const c=l(t,["updateTime"]);c!=null&&d(n,["updateTime"],c);const f=l(t,["error"]);f!=null&&d(n,["error"],f);const m=l(t,["description"]);m!=null&&d(n,["description"],m);const h=l(t,["baseModel"]);h!=null&&d(n,["baseModel"],h);const g=l(t,["tunedModel"]);g!=null&&d(n,["tunedModel"],g);const x=l(t,["preTunedModel"]);x!=null&&d(n,["preTunedModel"],x);const E=l(t,["supervisedTuningSpec"]);E!=null&&d(n,["supervisedTuningSpec"],E);const _=l(t,["preferenceOptimizationSpec"]);_!=null&&d(n,["preferenceOptimizationSpec"],_);const y=l(t,["tuningDataStats"]);y!=null&&d(n,["tuningDataStats"],y);const v=l(t,["encryptionSpec"]);v!=null&&d(n,["encryptionSpec"],v);const w=l(t,["partnerModelTuningSpec"]);w!=null&&d(n,["partnerModelTuningSpec"],w);const S=l(t,["customBaseModel"]);S!=null&&d(n,["customBaseModel"],S);const C=l(t,["experiment"]);C!=null&&d(n,["experiment"],C);const k=l(t,["labels"]);k!=null&&d(n,["labels"],k);const T=l(t,["outputUri"]);T!=null&&d(n,["outputUri"],T);const b=l(t,["pipelineJob"]);b!=null&&d(n,["pipelineJob"],b);const I=l(t,["serviceAccount"]);I!=null&&d(n,["serviceAccount"],I);const R=l(t,["tunedModelDisplayName"]);R!=null&&d(n,["tunedModelDisplayName"],R);const V=l(t,["veoTuningSpec"]);return V!=null&&d(n,["veoTuningSpec"],V),n}function MR(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["name"]);i!=null&&d(n,["name"],i);const o=l(t,["metadata"]);o!=null&&d(n,["metadata"],o);const s=l(t,["done"]);s!=null&&d(n,["done"],s);const a=l(t,["error"]);return a!=null&&d(n,["error"],a),n}function Yh(t,e){const n={},r=l(t,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const i=l(t,["vertexDatasetResource"]);return i!=null&&d(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DR extends Jt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qn(qt.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Yl.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=SR(e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>lu(f))}else{const c=ER(e);return a=M("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Y0(f))}}async listInternal(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=AR(e);return a=M("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=IR(f),h=new Eh;return Object.assign(h,m),h})}else{const c=kR(e);return a=M("tunedModels",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=bR(f),h=new Eh;return Object.assign(h,m),h})}}async cancel(e){var n,r,i,o;let s,a="",u={};if(this.apiClient.isVertexAI()){const c=mR(e);return a=M("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=yR(f),h=new Sh;return Object.assign(h,m),h})}else{const c=pR(e);return a=M("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const m=gR(f),h=new Sh;return Object.assign(h,m),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=_R(e,e);return o=M("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>lu(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xR(e);return o=M("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>MR(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UR{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const LR=1024*1024*8,OR=3,FR=1e3,$R=2,Cs="x-goog-upload-status";async function VR(t,e,n){var r;const i=await X0(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Cs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function qR(t,e,n){var r;const i=await X0(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Cs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=s0(o),a=new _c;return Object.assign(a,s),a}async function X0(t,e,n){var r,i;let o=0,s=0,a=new Xl(new Response),u="upload";for(o=t.size;s<o;){const c=Math.min(LR,o-s),f=t.slice(s,s+c);s+c>=o&&(u+=", finalize");let m=0,h=FR;for(;m<OR&&(a=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Cs]));)m++,await BR(h),h=h*$R;if(s+=c,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Cs])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function GR(t){return{size:t.size,type:t.type}}function BR(t){return new Promise(e=>setTimeout(e,t))}class HR{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VR(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qR(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zR{create(e,n,r){return new jR(e,n,r)}}class jR{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xh="x-goog-api-key";class JR{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Xh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Xh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WR="gl-node/";class KR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Se({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=BT(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new JR(this.apiKey);this.apiClient=new Gb({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:WR+"web",uploader:new HR,downloader:new UR}),this.models=new aI(this.apiClient),this.live=new tI(this.apiClient,i,new zR),this.batches=new vC(this.apiClient),this.chats=new ZC(this.models,this.apiClient),this.caches=new YC(this.apiClient),this.files=new uk(this.apiClient),this.operations=new lI(this.apiClient),this.authTokens=new TI(this.apiClient),this.tunings=new DR(this.apiClient),this.fileSearchStores=new PI(this.apiClient)}}const YR=new KR({apiKey:"PLACEHOLDER_API_KEY"}),XR=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState([{id:"1",role:"model",text:"Ol! Sou seu copiloto de IA. Posso ajudar a criar contedos ou tirar dvidas sobre nossos planos e ferramentas."}]),[i,o]=A.useState(""),[s,a]=A.useState(!1),[u,c]=A.useState(""),[f,m]=A.useState(""),h=A.useRef(null),g=Ht(),x=()=>{var y;(y=h.current)==null||y.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{t&&x()},[n,t]),A.useEffect(()=>{if(g.pathname.startsWith("/generate/")){const y=g.pathname.split("/generate/")[1],v=Mr.find(w=>w.id===y);v&&(m(v.title),c(`
                O usurio est AGORA na ferramenta: "${v.title}".
                Descrio da ferramenta: ${v.description}.
                Ajude-o especificamente com dvidas sobre como preencher esse formulrio ou d ideias criativas para esse contexto.
            `))}else g.pathname==="/pricing"?(m("Planos e Preos"),c("O usurio est na pgina de PREOS. Ajude-o a escolher o melhor plano entre Starter, Pro e Master. Destaque o Master Anual como melhor custo-benefcio.")):(c(""),m(""))},[g.pathname]);const E=async()=>{if(!i.trim()||s)return;const y={id:Date.now().toString(),role:"user",text:i};r(v=>[...v,y]),o(""),a(!0);try{const v=Mr.map(b=>`- ${b.title}: ${b.description}`).join(`
`),w=i0.map(b=>`- ${b.name}: R$ ${b.price} (${b.description}) - Detalhes: ${b.features.join(", ")}`).join(`
`);let S=`
          Voc  o Assistente Virtual Oficial da plataforma ${vf}.
          
          SUA BASE DE CONHECIMENTO:
          
          1. FERRAMENTAS DISPONVEIS:
          ${v}

          2. PLANOS E PREOS:
          ${w}

          3. SUPORTE:
          WhatsApp Oficial: ${ws}

          DIRETRIZES:
          - Seja um consultor especialista, vendedor e suporte tcnico.
          - Respostas curtas (mx 3 frases), use emojis e seja prestativo.
          - O Plano Master permite Agentes 360 e imagens melhores.
      `;u&&(S+=`
CONTEXTO IMEDIATO DO USURIO: ${u}`);const C=n.slice(-6).map(b=>({role:b.role,parts:[{text:b.text}]}));C.push({role:"user",parts:[{text:i}]});const T=(await YR.models.generateContent({model:"gemini-3-flash-preview",contents:C,config:{systemInstruction:S}})).text||"Estou reconectando meus neurnios... Tente novamente em alguns segundos!";r(b=>[...b,{id:Date.now().toString(),role:"model",text:T}])}catch(v){console.error("Chat error:",v),r(w=>[...w,{id:Date.now().toString(),role:"model",text:"Desculpe, tive um problema ao processar sua mensagem."}])}finally{a(!1)}},_=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),E())};return A.useEffect(()=>(window.innerWidth<768&&t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),p.jsxs("div",{className:"font-sans",children:[p.jsxs("div",{className:`
            fixed z-[9999] transition-all duration-300 ease-in-out
            bg-white overflow-hidden flex flex-col shadow-2xl border border-slate-200
            md:right-4 md:bottom-20 md:w-[360px] md:rounded-2xl md:max-h-[75vh] md:h-[480px]
            md:origin-bottom-right
            left-0 right-0 bottom-0 top-0 rounded-none w-full h-[100dvh] md:top-auto md:left-auto
            ${t?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 translate-y-4 pointer-events-none md:translate-y-10"}
        `,children:[p.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-indigo-900 p-4 md:p-3 flex items-center justify-between shrink-0 shadow-md",children:[p.jsxs("div",{className:"flex items-center gap-3 md:gap-2.5",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"bg-white/10 p-1.5 rounded-lg backdrop-blur-sm border border-white/10",children:p.jsx(_g,{className:"text-indigo-300 w-5 h-5 md:w-5 md:h-5"})}),p.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-slate-900 rounded-full"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white text-base md:text-sm font-bold leading-tight",children:"Copiloto IA"}),p.jsx("p",{className:"text-indigo-200 text-xs md:text-[10px] flex items-center gap-1",children:f?p.jsxs("span",{className:"text-amber-300 flex items-center gap-0.5",children:[p.jsx(vt,{size:10,fill:"currentColor"})," ",f]}):"Online"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 md:gap-1",children:[p.jsx("a",{href:`https://wa.me/${ws}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 md:p-1.5 text-slate-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Suporte Humano",children:p.jsx(S_,{size:18,className:"md:w-3.5 md:h-3.5"})}),p.jsx("button",{onClick:()=>e(!1),className:"p-2 md:p-1.5 text-slate-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:p.jsx(qn,{size:20,className:"md:w-4 md:h-4"})})]})]}),f&&p.jsx("div",{className:"bg-indigo-50 px-4 py-2 md:px-3 md:py-1.5 border-b border-indigo-100 flex items-center justify-between shrink-0",children:p.jsxs("span",{className:"text-xs md:text-[10px] text-indigo-700 font-medium flex items-center gap-1",children:[p.jsx(dc,{size:12})," Ajuda para: ",p.jsx("strong",{children:f})]})}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-3 space-y-4 md:space-y-3 bg-slate-50 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[n.map(y=>p.jsxs("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"} animate-fade-in`,children:[y.role==="model"&&p.jsx("div",{className:"w-8 h-8 md:w-6 md:h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-[10px] font-bold shrink-0 mr-2 mt-1 shadow-sm",children:"IA"}),p.jsx("div",{className:`
                        max-w-[85%] p-3 md:p-2.5 rounded-2xl text-sm md:text-xs leading-relaxed shadow-sm
                        ${y.role==="user"?"bg-slate-800 text-white rounded-tr-sm":"bg-white text-slate-700 border border-slate-200 rounded-tl-sm"}
                    `,children:y.text})]},y.id)),s&&p.jsxs("div",{className:"flex justify-start",children:[p.jsx("div",{className:"w-8 h-8 md:w-6 md:h-6 rounded-full bg-slate-200 flex items-center justify-center shrink-0 mr-2 mt-1",children:p.jsx(Ug,{size:12,className:"animate-spin text-slate-500"})}),p.jsx("div",{className:"bg-white p-3 md:p-2.5 rounded-2xl rounded-tl-sm border border-slate-200 shadow-sm",children:p.jsxs("div",{className:"flex gap-1",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:0.2s]"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:0.4s]"})]})})]}),p.jsx("div",{ref:h})]}),p.jsxs("div",{className:"p-3 md:p-2 bg-white border-t border-slate-100 shrink-0 pb-safe",children:[p.jsxs("div",{className:"relative flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-full px-1 py-1 focus-within:ring-2 focus-within:ring-indigo-100 focus-within:border-indigo-400 transition-all",children:[p.jsx("input",{type:"text",value:i,onChange:y=>o(y.target.value),onKeyDown:_,placeholder:"Digite sua mensagem...",className:"flex-1 bg-transparent border-none focus:ring-0 text-base md:text-xs text-slate-800 placeholder:text-slate-400 pl-4 md:pl-3 py-3 md:py-2 h-12 md:h-9",disabled:s}),p.jsx("button",{onClick:E,disabled:!i.trim()||s,className:"w-10 h-10 md:w-8 md:h-8 flex items-center justify-center bg-indigo-600 text-white rounded-full hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-transform hover:scale-105 active:scale-95 shadow-md shadow-indigo-200",children:p.jsx(uc,{size:18,className:`md:w-3.5 md:h-3.5 ${s?"opacity-0":"ml-0.5"}`})})]}),p.jsx("div",{className:"text-center mt-2 md:mt-1",children:p.jsxs("span",{className:"text-[10px] md:text-[9px] text-slate-400",children:["Powered by ",vf," AI"]})})]})]}),p.jsx("button",{onClick:()=>e(!t),className:`
            fixed bottom-4 right-4 md:bottom-6 md:right-6
            group flex items-center justify-center w-14 h-14 md:w-14 md:h-14 rounded-full 
            shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-white/20
            transition-all duration-300 hover:scale-110 active:scale-95 z-[9990]
            ${t?"bg-slate-800 rotate-90":"bg-gradient-to-tr from-indigo-600 to-violet-600 animate-pulse-slow"}
        `,children:t?p.jsx(qn,{className:"text-white w-6 h-6 transition-transform"}):p.jsxs(p.Fragment,{children:[p.jsx(Gi,{className:"text-white w-7 h-7 fill-white/20"}),p.jsx("span",{className:"absolute top-0 right-0 w-4 h-4 bg-red-500 border-2 border-white rounded-full flex items-center justify-center",children:p.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]})}),t&&window.innerWidth>=768&&p.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>e(!1)})]})},Qh=({children:t})=>{const{user:e,isLoading:n}=En(),r=Ht();return n?p.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",children:p.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):e?p.jsx(p.Fragment,{children:t}):p.jsx(wx,{to:"/login",state:{from:r},replace:!0})};function QR(){return p.jsx(ST,{children:p.jsxs(bx,{children:[p.jsx("div",{className:"bg-noise"}),p.jsx("div",{className:"bg-grid-perspective"}),p.jsx("div",{className:"aurora-blob blob-1"}),p.jsx("div",{className:"aurora-blob blob-2"}),p.jsx("div",{className:"aurora-blob blob-3"}),p.jsxs("div",{className:"min-h-screen flex flex-col relative z-10",children:[p.jsx(TT,{}),p.jsx("main",{className:"flex-grow w-full",children:p.jsxs(_x,{children:[p.jsx(Rn,{path:"/",element:p.jsx(IT,{})}),p.jsx(Rn,{path:"/pricing",element:p.jsx(LT,{})}),p.jsx(Rn,{path:"/login",element:p.jsx(MT,{})}),p.jsx(Rn,{path:"/admin",element:p.jsx(FT,{})}),p.jsx(Rn,{path:"/generate/:templateId",element:p.jsx(Qh,{children:p.jsx(NT,{})})}),p.jsx(Rn,{path:"/history",element:p.jsx(Qh,{children:p.jsx(PT,{})})})]})}),p.jsx(XR,{}),p.jsx("footer",{className:"border-t border-white/5 bg-black/40 backdrop-blur-md mt-auto",children:p.jsx("div",{className:"max-w-7xl mx-auto px-6 py-10",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsxs("p",{className:"text-slate-300 font-bold text-sm tracking-wide",children:[" ",new Date().getFullYear()," AutoContedo Pro."]}),p.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Inteligncia Artificial de Elite."}),p.jsxs(Ne,{to:"/admin",className:"inline-flex items-center gap-1 text-slate-600 hover:text-indigo-400 transition-colors text-[10px] mt-2 font-medium",children:[p.jsx(Wn,{size:10}),"rea Administrativa"]})]}),p.jsxs("div",{className:"flex flex-col items-center md:items-end group cursor-default",children:[p.jsx("span",{className:"text-[10px] uppercase tracking-widest text-slate-500 font-bold mb-2",children:"Arquitetura por"}),p.jsxs("div",{className:"flex items-center gap-3 bg-white/5 px-4 py-2 rounded-xl border border-white/10 hover:border-indigo-500/50 hover:bg-white/10 transition-all duration-300",children:[p.jsx("div",{className:"bg-[#0055D4] p-1.5 rounded-lg shadow-[0_0_15px_#0055d4] text-white flex items-center justify-center",children:p.jsx(Kx,{size:18,strokeWidth:2.5})}),p.jsxs("div",{className:"flex flex-col justify-center leading-none",children:[p.jsx("span",{className:"text-xl font-black text-white tracking-tighter leading-none",children:"AYG"}),p.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-[0.25em] leading-none ml-[1px] mt-[2px]",children:"Servios"})]})]})]})]})})})]})]})})}const Q0=document.getElementById("root");if(!Q0)throw new Error("Could not find root element to mount to");const ZR=$a.createRoot(Q0);ZR.render(p.jsx(hu.StrictMode,{children:p.jsx(QR,{})}));
